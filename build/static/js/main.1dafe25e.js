/*! For license information please see main.1dafe25e.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},153:(e,t,n)=>{var r=n(43),s=Symbol.for("react.element"),i=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,i={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:s,type:e,key:c,ref:u,props:i,_owner:o.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}function y(){}function x(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var b=x.prototype=new y;b.constructor=x,p(b,v.prototype),b.isPureReactComponent=!0;var w=Array.isArray,k=Object.prototype.hasOwnProperty,N={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,r){var s,i={},a=null,o=null;if(null!=t)for(s in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)k.call(t,s)&&!E.hasOwnProperty(s)&&(i[s]=t[s]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps)void 0===i[s]&&(i[s]=l[s]);return{$$typeof:n,type:e,key:a,ref:o,props:i,_owner:N.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var j=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,s,i,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===i?"."+C(l,0):i,w(a)?(s="",null!=e&&(s=e.replace(j,"$&/")+"/"),T(a,t,s,"",(function(e){return e}))):null!=a&&(S(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,s+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(j,"$&/")+"/")+e)),t.push(a)),1;if(l=0,i=""===i?".":i+":",w(e))for(var c=0;c<e.length;c++){var u=i+C(o=e[c],c);l+=T(o,t,s,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=T(o=o.value,t,s,u=i+C(o,c++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function I(e,t,n){if(null==e)return e;var r=[],s=0;return T(e,r,"","",(function(e){return t.call(n,e,s++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},D={transition:null},R={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:D,ReactCurrentOwner:N};function L(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:I,forEach:function(e,t,n){I(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return I(e,(function(){t++})),t},toArray:function(e){return I(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=s,t.Profiler=a,t.PureComponent=x,t.StrictMode=i,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.act=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=p({},e.props),i=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=N.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)k.call(t,c)&&!E.hasOwnProperty(c)&&(s[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)s.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];s.children=l}return{$$typeof:n,type:e.type,key:i,ref:a,props:s,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=L,t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,s=e[r];if(!(0<i(s,t)))break e;e[r]=t,e[n]=s,n=r}}function r(e){return 0===e.length?null:e[0]}function s(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,s=e.length,a=s>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>i(l,n))c<s&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<s&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,m=!1,p=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)s(u);else{if(!(t.startTime<=e))break;s(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,b(e),!p)if(null!==r(c))p=!0,D(k);else{var t=r(u);null!==t&&R(w,t.startTime-e)}}function k(e,n){p=!1,g&&(g=!1,y(S),S=-1),m=!0;var i=f;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!T());){var a=h.callback;if("function"===typeof a){h.callback=null,f=h.priorityLevel;var o=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===r(c)&&s(c),b(n)}else s(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&R(w,d.startTime-n),l=!1}return l}finally{h=null,f=i,m=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var N,E=!1,_=null,S=-1,j=5,C=-1;function T(){return!(t.unstable_now()-C<j)}function I(){if(null!==_){var e=t.unstable_now();C=e;var n=!0;try{n=_(!0,e)}finally{n?N():(E=!1,_=null)}}else E=!1}if("function"===typeof x)N=function(){x(I)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,P=A.port2;A.port1.onmessage=I,N=function(){P.postMessage(null)}}else N=function(){v(I,0)};function D(e){_=e,E||(E=!0,N())}function R(e,n){S=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){p||m||(p=!0,D(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,s,i){var a=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?a+i:a:i=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:s,priorityLevel:e,startTime:i,expirationTime:o=i+o,sortIndex:-1},i>a?(e.sortIndex=i,n(u,e),null===r(c)&&e===r(u)&&(g?(y(S),S=-1):g=!0,R(w,i-a))):(e.sortIndex=o,n(c,e),p||m||(p=!0,D(k))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},579:(e,t,n)=>{e.exports=n(153)},730:(e,t,n)=>{var r=n(43),s=n(853);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},m={};function p(e,t,n,r,s,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new p(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new p(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new p(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new p(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new p(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new p(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new p(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new p(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new p(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function x(e,t,n,r){var s=g.hasOwnProperty(t)?g[t]:null;(null!==s?0!==s.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,s,r)&&(n=null),r||null===s?function(e){return!!d.call(m,e)||!d.call(f,e)&&(h.test(e)?m[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=null===n?3!==s.type&&"":n:(t=s.attributeName,r=s.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(s=s.type)||4===s&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new p(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new p(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new p(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new p(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new p("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new p(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),k=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),j=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var O,M=Object.assign;function F(e){if(void 0===O)try{throw Error()}catch(hw){var t=hw.stack.trim().match(/\n( *(at )?)/);O=t&&t[1]||""}return"\n"+O+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch($b){var r=$b}Reflect.construct(e,[],t)}else{try{t.call()}catch($b){r=$b}e.call(t.prototype)}else{try{throw Error()}catch($b){r=$b}e()}}catch($b){if($b&&r&&"string"===typeof $b.stack){for(var s=$b.stack.split("\n"),i=r.stack.split("\n"),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(1!==a||1!==o)do{if(a--,0>--o||s[a]!==i[o]){var l="\n"+s[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function z(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case N:return"Fragment";case k:return"Portal";case _:return"Profiler";case E:return"StrictMode";case T:return"Suspense";case I:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case j:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return B(e(t))}catch(hw){}}return null}function $(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&x(e,"checked",t,!1)}function J(e,t){X(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,s=0;s<e.length;s++){if(e[s].value===n)return e[s].selected=!0,void(r&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function ie(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function pe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),s=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}Object.keys(he).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ge=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function be(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,ke=null,Ne=null;function Ee(e){if(e=ys(e)){if("function"!==typeof we)throw Error(i(280));var t=e.stateNode;t&&(t=bs(t),we(e.stateNode,e.type,t))}}function _e(e){ke?Ne?Ne.push(e):Ne=[e]:ke=e}function Se(){if(ke){var e=ke,t=Ne;if(Ne=ke=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function je(e,t){return e(t)}function Ce(){}var Te=!1;function Ie(e,t,n){if(Te)return e(t,n);Te=!0;try{return je(e,t,n)}finally{Te=!1,(null!==ke||null!==Ne)&&(Ce(),Se())}}function Ae(e,t){var n=e.stateNode;if(null===n)return null;var r=bs(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Pe=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ru){Pe=!1}function Re(e,t,n,r,s,i,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Le=!1,Oe=null,Me=!1,Fe=null,Ue={onError:function(e){Le=!0,Oe=e}};function Ve(e,t,n,r,s,i,a,o,l){Le=!1,Oe=null,Re.apply(Ue,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Be(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function $e(e){if(ze(e)!==e)throw Error(i(188))}function qe(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(null===s)break;var a=s.alternate;if(null===a){if(null!==(r=s.return)){n=r;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return $e(s),e;if(a===r)return $e(s),t;a=a.sibling}throw Error(i(188))}if(n.return!==r.return)n=s,r=a;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=a;break}if(l===r){o=!0,r=s,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=s;break}if(l===r){o=!0,r=a,n=s;break}l=l.sibling}if(!o)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e),null!==e?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var He=s.unstable_scheduleCallback,Ke=s.unstable_cancelCallback,Ge=s.unstable_shouldYield,Qe=s.unstable_requestPaint,Ye=s.unstable_now,Xe=s.unstable_getCurrentPriorityLevel,Je=s.unstable_ImmediatePriority,Ze=s.unstable_UserBlockingPriority,et=s.unstable_NormalPriority,tt=s.unstable_LowPriority,nt=s.unstable_IdlePriority,rt=null,st=null;var it=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/ot|0)|0},at=Math.log,ot=Math.LN2;var lt=64,ct=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~s;0!==o?r=ut(o):0!==(i&=a)&&(r=ut(i))}else 0!==(a=n&~s)?r=ut(a):0!==i&&(r=ut(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&s)&&((s=r&-r)>=(i=t&-t)||16===s&&0!==(4194240&i)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)s=1<<(n=31-it(t)),r|=e[n],t&=~s;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function pt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-it(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var yt=0;function xt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var bt,wt,kt,Nt,Et,_t=!1,St=[],jt=null,Ct=null,Tt=null,It=new Map,At=new Map,Pt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rt(e,t){switch(e){case"focusin":case"focusout":jt=null;break;case"dragenter":case"dragleave":Ct=null;break;case"mouseover":case"mouseout":Tt=null;break;case"pointerover":case"pointerout":It.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":At.delete(t.pointerId)}}function Lt(e,t,n,r,s,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},null!==t&&(null!==(t=ys(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==s&&-1===t.indexOf(s)&&t.push(s),e)}function Ot(e){var t=vs(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Be(n)))return e.blockedOn=t,void Et(e.priority,(function(){kt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Mt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Gt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ys(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);xe=r,n.target.dispatchEvent(r),xe=null,t.shift()}return!0}function Ft(e,t,n){Mt(e)&&n.delete(t)}function Ut(){_t=!1,null!==jt&&Mt(jt)&&(jt=null),null!==Ct&&Mt(Ct)&&(Ct=null),null!==Tt&&Mt(Tt)&&(Tt=null),It.forEach(Ft),At.forEach(Ft)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,_t||(_t=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Ut)))}function zt(e){function t(t){return Vt(t,e)}if(0<St.length){Vt(St[0],e);for(var n=1;n<St.length;n++){var r=St[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==jt&&Vt(jt,e),null!==Ct&&Vt(Ct,e),null!==Tt&&Vt(Tt,e),It.forEach(t),At.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Ot(n),null===n.blockedOn&&Pt.shift()}var Bt=b.ReactCurrentBatchConfig,$t=!0;function qt(e,t,n,r){var s=yt,i=Bt.transition;Bt.transition=null;try{yt=1,Ht(e,t,n,r)}finally{yt=s,Bt.transition=i}}function Wt(e,t,n,r){var s=yt,i=Bt.transition;Bt.transition=null;try{yt=4,Ht(e,t,n,r)}finally{yt=s,Bt.transition=i}}function Ht(e,t,n,r){if($t){var s=Gt(e,t,n,r);if(null===s)$r(e,t,r,Kt,n),Rt(e,r);else if(function(e,t,n,r,s){switch(t){case"focusin":return jt=Lt(jt,e,t,n,r,s),!0;case"dragenter":return Ct=Lt(Ct,e,t,n,r,s),!0;case"mouseover":return Tt=Lt(Tt,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return It.set(i,Lt(It.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,At.set(i,Lt(At.get(i)||null,e,t,n,r,s)),!0}return!1}(s,e,t,n,r))r.stopPropagation();else if(Rt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==s;){var i=ys(s);if(null!==i&&bt(i),null===(i=Gt(e,t,n,r))&&$r(e,t,r,Kt,n),i===s)break;s=i}null!==s&&r.stopPropagation()}else $r(e,t,r,null,n)}}var Kt=null;function Gt(e,t,n,r){if(Kt=null,null!==(e=vs(e=be(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Be(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Je:return 1;case Ze:return 4;case et:case tt:return 16;case nt:return 536870912;default:return 16}default:return 16}}var Yt=null,Xt=null,Jt=null;function Zt(){if(Jt)return Jt;var e,t,n=Xt,r=n.length,s="value"in Yt?Yt.value:Yt.textContent,i=s.length;for(e=0;e<r&&n[e]===s[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===s[i-t];t++);return Jt=s.slice(e,1<t?1-t:void 0)}function en(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function tn(){return!0}function nn(){return!1}function rn(e){function t(t,n,r,s,i){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=s,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?tn:nn,this.isPropagationStopped=nn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=tn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=tn)},persist:function(){},isPersistent:tn}),t}var sn,an,on,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=rn(ln),un=M({},ln,{view:0,detail:0}),dn=rn(un),hn=M({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==on&&(on&&"mousemove"===e.type?(sn=e.screenX-on.screenX,an=e.screenY-on.screenY):an=sn=0,on=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),fn=rn(hn),mn=rn(M({},hn,{dataTransfer:0})),pn=rn(M({},un,{relatedTarget:0})),gn=rn(M({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=M({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yn=rn(vn),xn=rn(M({},ln,{data:0})),bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function En(){return Nn}var _n=M({},un,{key:function(e){if(e.key){var t=bn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=en(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?en(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?en(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Sn=rn(_n),jn=rn(M({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cn=rn(M({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Tn=rn(M({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),In=M({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),An=rn(In),Pn=[9,13,27,32],Dn=u&&"CompositionEvent"in window,Rn=null;u&&"documentMode"in document&&(Rn=document.documentMode);var Ln=u&&"TextEvent"in window&&!Rn,On=u&&(!Dn||Rn&&8<Rn&&11>=Rn),Mn=String.fromCharCode(32),Fn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var Bn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $n(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Bn[e.type]:"textarea"===t}function qn(e,t,n,r){_e(r),0<(t=Wr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Hn=null;function Kn(e){Mr(e,0)}function Gn(e){if(K(xs(e)))return e}function Qn(e,t){if("change"===e)return t}var Yn=!1;if(u){var Xn;if(u){var Jn="oninput"in document;if(!Jn){var Zn=document.createElement("div");Zn.setAttribute("oninput","return;"),Jn="function"===typeof Zn.oninput}Xn=Jn}else Xn=!1;Yn=Xn&&(!document.documentMode||9<document.documentMode)}function er(){Wn&&(Wn.detachEvent("onpropertychange",tr),Hn=Wn=null)}function tr(e){if("value"===e.propertyName&&Gn(Hn)){var t=[];qn(t,Hn,e,be(e)),Ie(Kn,t)}}function nr(e,t,n){"focusin"===e?(er(),Hn=n,(Wn=t).attachEvent("onpropertychange",tr)):"focusout"===e&&er()}function rr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Gn(Hn)}function sr(e,t){if("click"===e)return Gn(t)}function ir(e,t){if("input"===e||"change"===e)return Gn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function or(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!d.call(t,s)||!ar(e[s],t[s]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function ur(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ur(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ur(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=void 0===r.end?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=cr(n,i);var a=cr(n,r);s&&a&&(1!==e.rangeCount||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,pr=null,gr=null,vr=null,yr=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yr||null==pr||pr!==G(r)||("selectionStart"in(r=pr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&or(vr,r)||(vr=r,0<(r=Wr(gr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=pr)))}function br(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wr={animationend:br("Animation","AnimationEnd"),animationiteration:br("Animation","AnimationIteration"),animationstart:br("Animation","AnimationStart"),transitionend:br("Transition","TransitionEnd")},kr={},Nr={};function Er(e){if(kr[e])return kr[e];if(!wr[e])return e;var t,n=wr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Nr)return kr[e]=n[t];return e}u&&(Nr=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);var _r=Er("animationend"),Sr=Er("animationiteration"),jr=Er("animationstart"),Cr=Er("transitionend"),Tr=new Map,Ir="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(e,t){Tr.set(e,t),l(t,[e])}for(var Pr=0;Pr<Ir.length;Pr++){var Dr=Ir[Pr];Ar(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Ar(_r,"onAnimationEnd"),Ar(Sr,"onAnimationIteration"),Ar(jr,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(Cr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rr));function Or(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,s,a,o,l,c){if(Ve.apply(this,arguments),Le){if(!Le)throw Error(i(198));var u=Oe;Le=!1,Oe=null,Me||(Me=!0,Fe=u)}}(r,t,void 0,e),e.currentTarget=null}function Mr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&s.isPropagationStopped())break e;Or(s,o,c),i=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==i&&s.isPropagationStopped())break e;Or(s,o,c),i=l}}}if(Me)throw e=Fe,Me=!1,Fe=null,e}function Fr(e,t){var n=t[ms];void 0===n&&(n=t[ms]=new Set);var r=e+"__bubble";n.has(r)||(Br(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),Br(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Vr]){e[Vr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,Ur("selectionchange",!1,t))}}function Br(e,t,n,r){switch(Qt(t)){case 1:var s=qt;break;case 4:s=Wt;break;default:s=Ht}n=s.bind(null,t,n,e),s=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(s=!0),r?void 0!==s?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):void 0!==s?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function $r(e,t,n,r,s){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===s||8===o.nodeType&&o.parentNode===s)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===s||8===l.nodeType&&l.parentNode===s))return;a=a.return}for(;null!==o;){if(null===(a=vs(o)))return;if(5===(l=a.tag)||6===l){r=i=a;continue e}o=o.parentNode}}r=r.return}Ie((function(){var r=i,s=be(n),a=[];e:{var o=Tr.get(e);if(void 0!==o){var l=cn,c=e;switch(e){case"keypress":if(0===en(n))break e;case"keydown":case"keyup":l=Sn;break;case"focusin":c="focus",l=pn;break;case"focusout":c="blur",l=pn;break;case"beforeblur":case"afterblur":l=pn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Cn;break;case _r:case Sr:case jr:l=gn;break;case Cr:l=Tn;break;case"scroll":l=dn;break;case"wheel":l=An;break;case"copy":case"cut":case"paste":l=yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=jn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==o?o+"Capture":null:o;u=[];for(var f,m=r;null!==m;){var p=(f=m).stateNode;if(5===f.tag&&null!==p&&(f=p,null!==h&&(null!=(p=Ae(m,h))&&u.push(qr(m,p,f)))),d)break;m=m.return}0<u.length&&(o=new l(o,c,null,n,s),a.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===xe||!(c=n.relatedTarget||n.fromElement)||!vs(c)&&!c[fs])&&(l||o)&&(o=s.window===s?s:(o=s.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?vs(c):null)&&(c!==(d=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=fn,p="onMouseLeave",h="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(u=jn,p="onPointerLeave",h="onPointerEnter",m="pointer"),d=null==l?o:xs(l),f=null==c?o:xs(c),(o=new u(p,m+"leave",l,n,s)).target=d,o.relatedTarget=f,p=null,vs(s)===r&&((u=new u(h,m+"enter",c,n,s)).target=f,u.relatedTarget=d,p=u),d=p,l&&c)e:{for(h=c,m=0,f=u=l;f;f=Hr(f))m++;for(f=0,p=h;p;p=Hr(p))f++;for(;0<m-f;)u=Hr(u),m--;for(;0<f-m;)h=Hr(h),f--;for(;m--;){if(u===h||null!==h&&u===h.alternate)break e;u=Hr(u),h=Hr(h)}u=null}else u=null;null!==l&&Kr(a,o,l,u,!1),null!==c&&null!==d&&Kr(a,d,c,u,!0)}if("select"===(l=(o=r?xs(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Qn;else if($n(o))if(Yn)g=ir;else{g=rr;var v=nr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=sr);switch(g&&(g=g(e,r))?qn(a,g,n,s):(v&&v(e,o,r),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ee(o,"number",o.value)),v=r?xs(r):window,e){case"focusin":($n(v)||"true"===v.contentEditable)&&(pr=v,gr=r,vr=null);break;case"focusout":vr=gr=pr=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,xr(a,n,s);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":xr(a,n,s)}var y;if(Dn)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else zn?Un(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(On&&"ko"!==n.locale&&(zn||"onCompositionStart"!==x?"onCompositionEnd"===x&&zn&&(y=Zt()):(Xt="value"in(Yt=s)?Yt.value:Yt.textContent,zn=!0)),0<(v=Wr(r,x)).length&&(x=new xn(x,e,null,n,s),a.push({event:x,listeners:v}),y?x.data=y:null!==(y=Vn(n))&&(x.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Mn);case"textInput":return(e=t.data)===Mn&&Fn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Dn&&Un(e,t)?(e=Zt(),Jt=Xt=Yt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return On&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(s=new xn("onBeforeInput","beforeinput",null,n,s),a.push({event:s,listeners:r}),s.data=y))}Mr(a,t)}))}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var s=e,i=s.stateNode;5===s.tag&&null!==i&&(s=i,null!=(i=Ae(e,n))&&r.unshift(qr(e,i,s)),null!=(i=Ae(e,t))&&r.push(qr(e,i,s))),e=e.return}return r}function Hr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,s){for(var i=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,s?null!=(l=Ae(n,i))&&a.unshift(qr(n,l,o)):s||null!=(l=Ae(n,i))&&a.push(qr(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Gr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Gr,"\n").replace(Qr,"")}function Xr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(i(425))}function Jr(){}var Zr=null,es=null;function ts(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ns="function"===typeof setTimeout?setTimeout:void 0,rs="function"===typeof clearTimeout?clearTimeout:void 0,ss="function"===typeof Promise?Promise:void 0,is="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ss?function(e){return ss.resolve(null).then(e).catch(as)}:ns;function as(e){setTimeout((function(){throw e}))}function os(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)){if(0===r)return e.removeChild(s),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=s}while(n);zt(t)}function ls(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function cs(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var us=Math.random().toString(36).slice(2),ds="__reactFiber$"+us,hs="__reactProps$"+us,fs="__reactContainer$"+us,ms="__reactEvents$"+us,ps="__reactListeners$"+us,gs="__reactHandles$"+us;function vs(e){var t=e[ds];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fs]||n[ds]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=cs(e);null!==e;){if(n=e[ds])return n;e=cs(e)}return t}n=(e=n).parentNode}return null}function ys(e){return!(e=e[ds]||e[fs])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xs(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function bs(e){return e[hs]||null}var ws=[],ks=-1;function Ns(e){return{current:e}}function Es(e){0>ks||(e.current=ws[ks],ws[ks]=null,ks--)}function _s(e,t){ks++,ws[ks]=e.current,e.current=t}var Ss={},js=Ns(Ss),Cs=Ns(!1),Ts=Ss;function Is(e,t){var n=e.type.contextTypes;if(!n)return Ss;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s,i={};for(s in n)i[s]=t[s];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function As(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ps(){Es(Cs),Es(js)}function Ds(e,t,n){if(js.current!==Ss)throw Error(i(168));_s(js,t),_s(Cs,n)}function Rs(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var s in r=r.getChildContext())if(!(s in t))throw Error(i(108,$(e)||"Unknown",s));return M({},n,r)}function Ls(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ss,Ts=js.current,_s(js,e),_s(Cs,Cs.current),!0}function Os(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Rs(e,t,Ts),r.__reactInternalMemoizedMergedChildContext=e,Es(Cs),Es(js),_s(js,e)):Es(Cs),_s(Cs,n)}var Ms=null,Fs=!1,Us=!1;function Vs(e){null===Ms?Ms=[e]:Ms.push(e)}function zs(){if(!Us&&null!==Ms){Us=!0;var e=0,t=yt;try{var n=Ms;for(yt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ms=null,Fs=!1}catch(Jb){throw null!==Ms&&(Ms=Ms.slice(e+1)),He(Je,zs),Jb}finally{yt=t,Us=!1}}return null}var Bs=[],$s=0,qs=null,Ws=0,Hs=[],Ks=0,Gs=null,Qs=1,Ys="";function Xs(e,t){Bs[$s++]=Ws,Bs[$s++]=qs,qs=e,Ws=t}function Js(e,t,n){Hs[Ks++]=Qs,Hs[Ks++]=Ys,Hs[Ks++]=Gs,Gs=e;var r=Qs;e=Ys;var s=32-it(r)-1;r&=~(1<<s),n+=1;var i=32-it(t)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,Qs=1<<32-it(t)+s|n<<s|r,Ys=i+e}else Qs=1<<i|n<<s|r,Ys=e}function Zs(e){null!==e.return&&(Xs(e,1),Js(e,1,0))}function ei(e){for(;e===qs;)qs=Bs[--$s],Bs[$s]=null,Ws=Bs[--$s],Bs[$s]=null;for(;e===Gs;)Gs=Hs[--Ks],Hs[Ks]=null,Ys=Hs[--Ks],Hs[Ks]=null,Qs=Hs[--Ks],Hs[Ks]=null}var ti=null,ni=null,ri=!1,si=null;function ii(e,t){var n=Ic(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ai(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ti=e,ni=ls(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ti=e,ni=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Gs?{id:Qs,overflow:Ys}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ic(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ti=e,ni=null,!0);default:return!1}}function oi(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function li(e){if(ri){var t=ni;if(t){var n=t;if(!ai(e,t)){if(oi(e))throw Error(i(418));t=ls(n.nextSibling);var r=ti;t&&ai(e,t)?ii(r,n):(e.flags=-4097&e.flags|2,ri=!1,ti=e)}}else{if(oi(e))throw Error(i(418));e.flags=-4097&e.flags|2,ri=!1,ti=e}}}function ci(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ti=e}function ui(e){if(e!==ti)return!1;if(!ri)return ci(e),ri=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ts(e.type,e.memoizedProps)),t&&(t=ni)){if(oi(e))throw di(),Error(i(418));for(;t;)ii(e,t),t=ls(t.nextSibling)}if(ci(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ni=ls(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ni=null}}else ni=ti?ls(e.stateNode.nextSibling):null;return!0}function di(){for(var e=ni;e;)e=ls(e.nextSibling)}function hi(){ni=ti=null,ri=!1}function fi(e){null===si?si=[e]:si.push(e)}var mi=b.ReactCurrentBatchConfig;function pi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var s=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=s.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function gi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vi(e){return(0,e._init)(e._payload)}function yi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function s(e,t){return(e=Pc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Oc(n,e.mode,r)).return=e,t):((t=s(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===N?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===P&&vi(i)===t.type)?((r=s(t,n.props)).ref=pi(e,t,n),r.return=e,r):((r=Dc(n.type,n.key,n.props,null,e.mode,r)).ref=pi(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Mc(n,e.mode,r)).return=e,t):((t=s(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Rc(n,e.mode,r,i)).return=e,t):((t=s(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Oc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=pi(e,null,t),n.return=e,n;case k:return(t=Mc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Rc(t,e.mode,n,null)).return=e,t;gi(e,t)}return null}function f(e,t,n,r){var s=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==s?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===s?c(e,t,n,r):null;case k:return n.key===s?u(e,t,n,r):null;case P:return f(e,t,(s=n._init)(n._payload),r)}if(te(n)||L(n))return null!==s?null:d(e,t,n,r,null);gi(e,n)}return null}function m(e,t,n,r,s){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,s);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,s);case k:return u(t,e=e.get(null===r.key?n:r.key)||null,r,s);case P:return m(e,t,n,(0,r._init)(r._payload),s)}if(te(r)||L(r))return d(t,e=e.get(n)||null,r,s,null);gi(t,r)}return null}function p(s,i,o,l){for(var c=null,u=null,d=i,p=i=0,g=null;null!==d&&p<o.length;p++){d.index>p?(g=d,d=null):g=d.sibling;var v=f(s,d,o[p],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(s,d),i=a(v,i,p),null===u?c=v:u.sibling=v,u=v,d=g}if(p===o.length)return n(s,d),ri&&Xs(s,p),c;if(null===d){for(;p<o.length;p++)null!==(d=h(s,o[p],l))&&(i=a(d,i,p),null===u?c=d:u.sibling=d,u=d);return ri&&Xs(s,p),c}for(d=r(s,d);p<o.length;p++)null!==(g=m(d,s,p,o[p],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?p:g.key),i=a(g,i,p),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(s,e)})),ri&&Xs(s,p),c}function g(s,o,l,c){var u=L(l);if("function"!==typeof u)throw Error(i(150));if(null==(l=u.call(l)))throw Error(i(151));for(var d=u=null,p=o,g=o=0,v=null,y=l.next();null!==p&&!y.done;g++,y=l.next()){p.index>g?(v=p,p=null):v=p.sibling;var x=f(s,p,y.value,c);if(null===x){null===p&&(p=v);break}e&&p&&null===x.alternate&&t(s,p),o=a(x,o,g),null===d?u=x:d.sibling=x,d=x,p=v}if(y.done)return n(s,p),ri&&Xs(s,g),u;if(null===p){for(;!y.done;g++,y=l.next())null!==(y=h(s,y.value,c))&&(o=a(y,o,g),null===d?u=y:d.sibling=y,d=y);return ri&&Xs(s,g),u}for(p=r(s,p);!y.done;g++,y=l.next())null!==(y=m(p,s,g,y.value,c))&&(e&&null!==y.alternate&&p.delete(null===y.key?g:y.key),o=a(y,o,g),null===d?u=y:d.sibling=y,d=y);return e&&p.forEach((function(e){return t(s,e)})),ri&&Xs(s,g),u}return function e(r,i,a,l){if("object"===typeof a&&null!==a&&a.type===N&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case w:e:{for(var c=a.key,u=i;null!==u;){if(u.key===c){if((c=a.type)===N){if(7===u.tag){n(r,u.sibling),(i=s(u,a.props.children)).return=r,r=i;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&vi(c)===u.type){n(r,u.sibling),(i=s(u,a.props)).ref=pi(r,u,a),i.return=r,r=i;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===N?((i=Rc(a.props.children,r.mode,l,a.key)).return=r,r=i):((l=Dc(a.type,a.key,a.props,null,r.mode,l)).ref=pi(r,i,a),l.return=r,r=l)}return o(r);case k:e:{for(u=a.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===a.containerInfo&&i.stateNode.implementation===a.implementation){n(r,i.sibling),(i=s(i,a.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=Mc(a,r.mode,l)).return=r,r=i}return o(r);case P:return e(r,i,(u=a._init)(a._payload),l)}if(te(a))return p(r,i,a,l);if(L(a))return g(r,i,a,l);gi(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==i&&6===i.tag?(n(r,i.sibling),(i=s(i,a)).return=r,r=i):(n(r,i),(i=Oc(a,r.mode,l)).return=r,r=i),o(r)):n(r,i)}}var xi=yi(!0),bi=yi(!1),wi=Ns(null),ki=null,Ni=null,Ei=null;function _i(){Ei=Ni=ki=null}function Si(e){var t=wi.current;Es(wi),e._currentValue=t}function ji(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ci(e,t){ki=e,Ei=Ni=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(yo=!0),e.firstContext=null)}function Ti(e){var t=e._currentValue;if(Ei!==e)if(e={context:e,memoizedValue:t,next:null},null===Ni){if(null===ki)throw Error(i(308));Ni=e,ki.dependencies={lanes:0,firstContext:e}}else Ni=Ni.next=e;return t}var Ii=null;function Ai(e){null===Ii?Ii=[e]:Ii.push(e)}function Pi(e,t,n,r){var s=t.interleaved;return null===s?(n.next=n,Ai(t)):(n.next=s.next,s.next=n),t.interleaved=n,Di(e,r)}function Di(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ri=!1;function Li(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Mi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fi(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&jl)){var s=r.pending;return null===s?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Di(e,n)}return null===(s=r.interleaved)?(t.next=t,Ai(r)):(t.next=s.next,s.next=t),r.interleaved=t,Di(e,n)}function Ui(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Vi(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var s=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?s=i=a:i=i.next=a,n=n.next}while(null!==n);null===i?s=i=t:i=i.next=t}else s=i=t;return n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function zi(e,t,n,r){var s=e.updateQueue;Ri=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(null!==o){s.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?i=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==i){var d=s.baseState;for(a=0,u=c=l=null,o=i;;){var h=o.lane,f=o.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=e,p=o;switch(h=t,f=n,p.tag){case 1:if("function"===typeof(m=p.payload)){d=m.call(f,d,h);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(h="function"===typeof(m=p.payload)?m.call(f,d,h):m)||void 0===h)break e;d=M({},d,h);break e;case 2:Ri=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=s.effects)?s.effects=[o]:h.push(o))}else f={eventTime:f,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,a|=h;if(null===(o=o.next)){if(null===(o=s.shared.pending))break;o=(h=o).next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}if(null===u&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,null!==(t=s.shared.interleaved)){s=t;do{a|=s.lane,s=s.next}while(s!==t)}else null===i&&(s.shared.lanes=0);Ll|=a,e.lanes=a,e.memoizedState=d}}function Bi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(null!==s){if(r.callback=null,r=n,"function"!==typeof s)throw Error(i(191,s));s.call(r)}}}var $i={},qi=Ns($i),Wi=Ns($i),Hi=Ns($i);function Ki(e){if(e===$i)throw Error(i(174));return e}function Gi(e,t){switch(_s(Hi,t),_s(Wi,e),_s(qi,$i),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Es(qi),_s(qi,t)}function Qi(){Es(qi),Es(Wi),Es(Hi)}function Yi(e){Ki(Hi.current);var t=Ki(qi.current),n=le(t,e.type);t!==n&&(_s(Wi,e),_s(qi,n))}function Xi(e){Wi.current===e&&(Es(qi),Es(Wi))}var Ji=Ns(0);function Zi(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ea=[];function ta(){for(var e=0;e<ea.length;e++)ea[e]._workInProgressVersionPrimary=null;ea.length=0}var na=b.ReactCurrentDispatcher,ra=b.ReactCurrentBatchConfig,sa=0,ia=null,aa=null,oa=null,la=!1,ca=!1,ua=0,da=0;function ha(){throw Error(i(321))}function fa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function ma(e,t,n,r,s,a){if(sa=a,ia=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,na.current=null===e||null===e.memoizedState?Xa:Ja,e=n(r,s),ca){a=0;do{if(ca=!1,ua=0,25<=a)throw Error(i(301));a+=1,oa=aa=null,t.updateQueue=null,na.current=Za,e=n(r,s)}while(ca)}if(na.current=Ya,t=null!==aa&&null!==aa.next,sa=0,oa=aa=ia=null,la=!1,t)throw Error(i(300));return e}function pa(){var e=0!==ua;return ua=0,e}function ga(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===oa?ia.memoizedState=oa=e:oa=oa.next=e,oa}function va(){if(null===aa){var e=ia.alternate;e=null!==e?e.memoizedState:null}else e=aa.next;var t=null===oa?ia.memoizedState:oa.next;if(null!==t)oa=t,aa=e;else{if(null===e)throw Error(i(310));e={memoizedState:(aa=e).memoizedState,baseState:aa.baseState,baseQueue:aa.baseQueue,queue:aa.queue,next:null},null===oa?ia.memoizedState=oa=e:oa=oa.next=e}return oa}function ya(e,t){return"function"===typeof t?t(e):t}function xa(e){var t=va(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=aa,s=r.baseQueue,a=n.pending;if(null!==a){if(null!==s){var o=s.next;s.next=a.next,a.next=o}r.baseQueue=s=a,n.pending=null}if(null!==s){a=s.next,r=r.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((sa&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,o=r):c=c.next=h,ia.lanes|=d,Ll|=d}u=u.next}while(null!==u&&u!==a);null===c?o=r:c.next=l,ar(r,t.memoizedState)||(yo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){s=e;do{a=s.lane,ia.lanes|=a,Ll|=a,s=s.next}while(s!==e)}else null===s&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ba(e){var t=va(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,a=t.memoizedState;if(null!==s){n.pending=null;var o=s=s.next;do{a=e(a,o.action),o=o.next}while(o!==s);ar(a,t.memoizedState)||(yo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function wa(){}function ka(e,t){var n=ia,r=va(),s=t(),a=!ar(r.memoizedState,s);if(a&&(r.memoizedState=s,yo=!0),r=r.queue,Ra(_a.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==oa&&1&oa.memoizedState.tag){if(n.flags|=2048,Ta(9,Ea.bind(null,n,r,s,t),void 0,null),null===Cl)throw Error(i(349));0!==(30&sa)||Na(n,t,s)}return s}function Na(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ia.updateQueue)?(t={lastEffect:null,stores:null},ia.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ea(e,t,n,r){t.value=n,t.getSnapshot=r,Sa(t)&&ja(e)}function _a(e,t,n){return n((function(){Sa(t)&&ja(e)}))}function Sa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function ja(e){var t=Di(e,1);null!==t&&tc(t,e,1,-1)}function Ca(e){var t=ga();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ya,lastRenderedState:e},t.queue=e,e=e.dispatch=Ha.bind(null,ia,e),[t.memoizedState,e]}function Ta(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ia.updateQueue)?(t={lastEffect:null,stores:null},ia.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ia(){return va().memoizedState}function Aa(e,t,n,r){var s=ga();ia.flags|=e,s.memoizedState=Ta(1|t,n,void 0,void 0===r?null:r)}function Pa(e,t,n,r){var s=va();r=void 0===r?null:r;var i=void 0;if(null!==aa){var a=aa.memoizedState;if(i=a.destroy,null!==r&&fa(r,a.deps))return void(s.memoizedState=Ta(t,n,i,r))}ia.flags|=e,s.memoizedState=Ta(1|t,n,i,r)}function Da(e,t){return Aa(8390656,8,e,t)}function Ra(e,t){return Pa(2048,8,e,t)}function La(e,t){return Pa(4,2,e,t)}function Oa(e,t){return Pa(4,4,e,t)}function Ma(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Fa(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Pa(4,4,Ma.bind(null,t,e),n)}function Ua(){}function Va(e,t){var n=va();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&fa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function za(e,t){var n=va();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&fa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ba(e,t,n){return 0===(21&sa)?(e.baseState&&(e.baseState=!1,yo=!0),e.memoizedState=n):(ar(n,t)||(n=mt(),ia.lanes|=n,Ll|=n,e.baseState=!0),t)}function $a(e,t){var n=yt;yt=0!==n&&4>n?n:4,e(!0);var r=ra.transition;ra.transition={};try{e(!1),t()}finally{yt=n,ra.transition=r}}function qa(){return va().memoizedState}function Wa(e,t,n){var r=ec(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ka(e))Ga(t,n);else if(null!==(n=Pi(e,t,n,r))){tc(n,e,r,Zl()),Qa(n,t,r)}}function Ha(e,t,n){var r=ec(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ka(e))Ga(t,s);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=i(a,n);if(s.hasEagerState=!0,s.eagerState=o,ar(o,a)){var l=t.interleaved;return null===l?(s.next=s,Ai(t)):(s.next=l.next,l.next=s),void(t.interleaved=s)}}catch($b){}null!==(n=Pi(e,t,s,r))&&(tc(n,e,r,s=Zl()),Qa(n,t,r))}}function Ka(e){var t=e.alternate;return e===ia||null!==t&&t===ia}function Ga(e,t){ca=la=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Qa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Ya={readContext:Ti,useCallback:ha,useContext:ha,useEffect:ha,useImperativeHandle:ha,useInsertionEffect:ha,useLayoutEffect:ha,useMemo:ha,useReducer:ha,useRef:ha,useState:ha,useDebugValue:ha,useDeferredValue:ha,useTransition:ha,useMutableSource:ha,useSyncExternalStore:ha,useId:ha,unstable_isNewReconciler:!1},Xa={readContext:Ti,useCallback:function(e,t){return ga().memoizedState=[e,void 0===t?null:t],e},useContext:Ti,useEffect:Da,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Aa(4194308,4,Ma.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Aa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Aa(4,2,e,t)},useMemo:function(e,t){var n=ga();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ga();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Wa.bind(null,ia,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ga().memoizedState=e},useState:Ca,useDebugValue:Ua,useDeferredValue:function(e){return ga().memoizedState=e},useTransition:function(){var e=Ca(!1),t=e[0];return e=$a.bind(null,e[1]),ga().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ia,s=ga();if(ri){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===Cl)throw Error(i(349));0!==(30&sa)||Na(r,t,n)}s.memoizedState=n;var a={value:n,getSnapshot:t};return s.queue=a,Da(_a.bind(null,r,a,e),[e]),r.flags|=2048,Ta(9,Ea.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=ga(),t=Cl.identifierPrefix;if(ri){var n=Ys;t=":"+t+"R"+(n=(Qs&~(1<<32-it(Qs)-1)).toString(32)+n),0<(n=ua++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=da++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ja={readContext:Ti,useCallback:Va,useContext:Ti,useEffect:Ra,useImperativeHandle:Fa,useInsertionEffect:La,useLayoutEffect:Oa,useMemo:za,useReducer:xa,useRef:Ia,useState:function(){return xa(ya)},useDebugValue:Ua,useDeferredValue:function(e){return Ba(va(),aa.memoizedState,e)},useTransition:function(){return[xa(ya)[0],va().memoizedState]},useMutableSource:wa,useSyncExternalStore:ka,useId:qa,unstable_isNewReconciler:!1},Za={readContext:Ti,useCallback:Va,useContext:Ti,useEffect:Ra,useImperativeHandle:Fa,useInsertionEffect:La,useLayoutEffect:Oa,useMemo:za,useReducer:ba,useRef:Ia,useState:function(){return ba(ya)},useDebugValue:Ua,useDeferredValue:function(e){var t=va();return null===aa?t.memoizedState=e:Ba(t,aa.memoizedState,e)},useTransition:function(){return[ba(ya)[0],va().memoizedState]},useMutableSource:wa,useSyncExternalStore:ka,useId:qa,unstable_isNewReconciler:!1};function eo(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function to(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var no={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Zl(),s=ec(e),i=Mi(r,s);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Fi(e,i,s))&&(tc(t,e,s,r),Ui(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Zl(),s=ec(e),i=Mi(r,s);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Fi(e,i,s))&&(tc(t,e,s,r),Ui(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Zl(),r=ec(e),s=Mi(n,r);s.tag=2,void 0!==t&&null!==t&&(s.callback=t),null!==(t=Fi(e,s,r))&&(tc(t,e,r,n),Ui(t,e,r))}};function ro(e,t,n,r,s,i,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!t.prototype||!t.prototype.isPureReactComponent||(!or(n,r)||!or(s,i))}function so(e,t,n){var r=!1,s=Ss,i=t.contextType;return"object"===typeof i&&null!==i?i=Ti(i):(s=As(t)?Ts:js.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?Is(e,s):Ss),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=no,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function io(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&no.enqueueReplaceState(t,t.state,null)}function ao(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Li(e);var i=t.contextType;"object"===typeof i&&null!==i?s.context=Ti(i):(i=As(t)?Ts:js.current,s.context=Is(e,i)),s.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(to(e,t,i,n),s.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(t=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),t!==s.state&&no.enqueueReplaceState(s,s.state,null),zi(e,n,s,r),s.state=e.memoizedState),"function"===typeof s.componentDidMount&&(e.flags|=4194308)}function oo(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var s=n}catch(i){s="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:s,digest:null}}function lo(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function co(e,t){try{console.error(t.value)}catch(hw){setTimeout((function(){throw hw}))}}var uo="function"===typeof WeakMap?WeakMap:Map;function ho(e,t,n){(n=Mi(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){$l||($l=!0,ql=r),co(0,t)},n}function fo(e,t,n){(n=Mi(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){co(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){co(0,t),"function"!==typeof r&&(null===Wl?Wl=new Set([this]):Wl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new uo;var s=new Set;r.set(t,s)}else void 0===(s=r.get(t))&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Ec.bind(null,e,t,n),t.then(e,e))}function po(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function go(e,t,n,r,s){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Mi(-1,1)).tag=2,Fi(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=s,e)}var vo=b.ReactCurrentOwner,yo=!1;function xo(e,t,n,r){t.child=null===e?bi(t,null,n,r):xi(t,e.child,n,r)}function bo(e,t,n,r,s){n=n.render;var i=t.ref;return Ci(t,s),r=ma(e,t,n,r,i,s),n=pa(),null===e||yo?(ri&&n&&Zs(t),t.flags|=1,xo(e,t,r,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,$o(e,t,s))}function wo(e,t,n,r,s){if(null===e){var i=n.type;return"function"!==typeof i||Ac(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,r,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,ko(e,t,i,r,s))}if(i=e.child,0===(e.lanes&s)){var a=i.memoizedProps;if((n=null!==(n=n.compare)?n:or)(a,r)&&e.ref===t.ref)return $o(e,t,s)}return t.flags|=1,(e=Pc(i,r)).ref=t.ref,e.return=t,t.child=e}function ko(e,t,n,r,s){if(null!==e){var i=e.memoizedProps;if(or(i,r)&&e.ref===t.ref){if(yo=!1,t.pendingProps=r=i,0===(e.lanes&s))return t.lanes=e.lanes,$o(e,t,s);0!==(131072&e.flags)&&(yo=!0)}}return _o(e,t,n,r,s)}function No(e,t,n){var r=t.pendingProps,s=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_s(Pl,Al),Al|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_s(Pl,Al),Al|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,_s(Pl,Al),Al|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,_s(Pl,Al),Al|=r;return xo(e,t,s,n),t.child}function Eo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function _o(e,t,n,r,s){var i=As(n)?Ts:js.current;return i=Is(t,i),Ci(t,s),n=ma(e,t,n,r,i,s),r=pa(),null===e||yo?(ri&&r&&Zs(t),t.flags|=1,xo(e,t,n,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,$o(e,t,s))}function So(e,t,n,r,s){if(As(n)){var i=!0;Ls(t)}else i=!1;if(Ci(t,s),null===t.stateNode)Bo(e,t),so(t,n,r),ao(t,n,r,s),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ti(c):c=Is(t,c=As(n)?Ts:js.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==r||l!==c)&&io(t,a,r,c),Ri=!1;var h=t.memoizedState;a.state=h,zi(t,r,a,s),l=t.memoizedState,o!==r||h!==l||Cs.current||Ri?("function"===typeof u&&(to(t,n,u,r),l=t.memoizedState),(o=Ri||ro(t,n,o,r,h,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Oi(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:eo(t.type,o),a.props=c,d=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ti(l):l=Is(t,l=As(n)?Ts:js.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==d||h!==l)&&io(t,a,r,l),Ri=!1,h=t.memoizedState,a.state=h,zi(t,r,a,s);var m=t.memoizedState;o!==d||h!==m||Cs.current||Ri?("function"===typeof f&&(to(t,n,f,r),m=t.memoizedState),(c=Ri||ro(t,n,c,r,h,m,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,m,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,m,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),a.props=r,a.state=m,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return jo(e,t,n,r,i,s)}function jo(e,t,n,r,s,i){Eo(e,t);var a=0!==(128&t.flags);if(!r&&!a)return s&&Os(t,n,!1),$o(e,t,i);r=t.stateNode,vo.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=xi(t,e.child,null,i),t.child=xi(t,null,o,i)):xo(e,t,o,i),t.memoizedState=r.state,s&&Os(t,n,!0),t.child}function Co(e){var t=e.stateNode;t.pendingContext?Ds(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ds(0,t.context,!1),Gi(e,t.containerInfo)}function To(e,t,n,r,s){return hi(),fi(s),t.flags|=256,xo(e,t,n,r),t.child}var Io,Ao,Po,Do,Ro={dehydrated:null,treeContext:null,retryLane:0};function Lo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Oo(e,t,n){var r,s=t.pendingProps,a=Ji.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),_s(Ji,1&a),null===e)return li(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=s.children,e=s.fallback,o?(s=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&s)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Lc(l,s,0,null),e=Rc(e,s,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Lo(n),t.memoizedState=Ro,e):Mo(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,s,a,o){if(n)return 256&t.flags?(t.flags&=-257,Fo(e,t,o,r=lo(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,s=t.mode,r=Lc({mode:"visible",children:r.children},s,0,null),(a=Rc(a,s,o,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&xi(t,e.child,null,o),t.child.memoizedState=Lo(o),t.memoizedState=Ro,a);if(0===(1&t.mode))return Fo(e,t,o,null);if("$!"===s.data){if(r=s.nextSibling&&s.nextSibling.dataset)var l=r.dgst;return r=l,Fo(e,t,o,r=lo(a=Error(i(419)),r,void 0))}if(l=0!==(o&e.childLanes),yo||l){if(null!==(r=Cl)){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(s=0!==(s&(r.suspendedLanes|o))?0:s)&&s!==a.retryLane&&(a.retryLane=s,Di(e,s),tc(r,e,s,-1))}return mc(),Fo(e,t,o,r=lo(Error(i(421))))}return"$?"===s.data?(t.flags|=128,t.child=e.child,t=Sc.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,ni=ls(s.nextSibling),ti=t,ri=!0,si=null,null!==e&&(Hs[Ks++]=Qs,Hs[Ks++]=Ys,Hs[Ks++]=Gs,Qs=e.id,Ys=e.overflow,Gs=t),t=Mo(t,r.children),t.flags|=4096,t)}(e,t,l,s,r,a,n);if(o){o=s.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:s.children};return 0===(1&l)&&t.child!==a?((s=t.child).childLanes=0,s.pendingProps=c,t.deletions=null):(s=Pc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?o=Pc(r,o):(o=Rc(o,l,n,null)).flags|=2,o.return=t,s.return=t,s.sibling=o,t.child=s,s=o,o=t.child,l=null===(l=e.child.memoizedState)?Lo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Ro,s}return e=(o=e.child).sibling,s=Pc(o,{mode:"visible",children:s.children}),0===(1&t.mode)&&(s.lanes=n),s.return=t,s.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function Mo(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fo(e,t,n,r){return null!==r&&fi(r),xi(t,e.child,null,n),(e=Mo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Uo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ji(e.return,t,n)}function Vo(e,t,n,r,s){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function zo(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(xo(e,t,r.children,n),0!==(2&(r=Ji.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Uo(e,n,t);else if(19===e.tag)Uo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(_s(Ji,r),0===(1&t.mode))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;null!==n;)null!==(e=n.alternate)&&null===Zi(e)&&(s=n),n=n.sibling;null===(n=s)?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Vo(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===Zi(e)){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Vo(t,!0,n,null,i);break;case"together":Vo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Bo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function $o(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ll|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Pc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qo(e,t){if(!ri)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Wo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=14680064&s.subtreeFlags,r|=14680064&s.flags,s.return=e,s=s.sibling;else for(s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ho(e,t,n){var r=t.pendingProps;switch(ei(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wo(t),null;case 1:case 17:return As(t.type)&&Ps(),Wo(t),null;case 3:return r=t.stateNode,Qi(),Es(Cs),Es(js),ta(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ui(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==si&&(ic(si),si=null))),Ao(e,t),Wo(t),null;case 5:Xi(t);var s=Ki(Hi.current);if(n=t.type,null!==e&&null!=t.stateNode)Po(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return Wo(t),null}if(e=Ki(qi.current),ui(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[ds]=t,r[hs]=a,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(s=0;s<Rr.length;s++)Fr(Rr[s],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":Y(r,a),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Fr("invalid",r);break;case"textarea":se(r,a),Fr("invalid",r)}for(var l in ve(n,a),s=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Xr(r.textContent,c,e),s=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Xr(r.textContent,c,e),s=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Fr("scroll",r)}switch(n){case"input":H(r),Z(r,a,!0);break;case"textarea":H(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Jr)}r=s,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===s.nodeType?s:s.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[ds]=t,e[hs]=r,Io(e,t,!1,!1),t.stateNode=e;e:{switch(l=ye(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),s=r;break;case"iframe":case"object":case"embed":Fr("load",e),s=r;break;case"video":case"audio":for(s=0;s<Rr.length;s++)Fr(Rr[s],e);s=r;break;case"source":Fr("error",e),s=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),s=r;break;case"details":Fr("toggle",e),s=r;break;case"input":Y(e,r),s=Q(e,r),Fr("invalid",e);break;case"option":default:s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=M({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":se(e,r),s=re(e,r),Fr("invalid",e)}for(a in ve(n,s),c=s)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?pe(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&ue(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Fr("scroll",e):null!=u&&x(e,a,u,l))}switch(n){case"input":H(e),Z(e,r,!1);break;case"textarea":H(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof s.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Wo(t),null;case 6:if(e&&null!=t.stateNode)Do(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(n=Ki(Hi.current),Ki(qi.current),ui(t)){if(r=t.stateNode,n=t.memoizedProps,r[ds]=t,(a=r.nodeValue!==n)&&null!==(e=ti))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ds]=t,t.stateNode=r}return Wo(t),null;case 13:if(Es(Ji),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ri&&null!==ni&&0!==(1&t.mode)&&0===(128&t.flags))di(),hi(),t.flags|=98560,a=!1;else if(a=ui(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(i(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(i(317));a[ds]=t}else hi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Wo(t),a=!1}else null!==si&&(ic(si),si=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Ji.current)?0===Dl&&(Dl=3):mc())),null!==t.updateQueue&&(t.flags|=4),Wo(t),null);case 4:return Qi(),Ao(e,t),null===e&&zr(t.stateNode.containerInfo),Wo(t),null;case 10:return Si(t.type._context),Wo(t),null;case 19:if(Es(Ji),null===(a=t.memoizedState))return Wo(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)qo(a,!1);else{if(0!==Dl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=Zi(e))){for(t.flags|=128,qo(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _s(Ji,1&Ji.current|2),t.child}e=e.sibling}null!==a.tail&&Ye()>zl&&(t.flags|=128,r=!0,qo(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=Zi(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),qo(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!ri)return Wo(t),null}else 2*Ye()-a.renderingStartTime>zl&&1073741824!==n&&(t.flags|=128,r=!0,qo(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ye(),t.sibling=null,n=Ji.current,_s(Ji,r?1&n|2:1&n),t):(Wo(t),null);case 22:case 23:return uc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Al)&&(Wo(t),6&t.subtreeFlags&&(t.flags|=8192)):Wo(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Ko(e,t){switch(ei(t),t.tag){case 1:return As(t.type)&&Ps(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Qi(),Es(Cs),Es(js),ta(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Xi(t),null;case 13:if(Es(Ji),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));hi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Es(Ji),null;case 4:return Qi(),null;case 10:return Si(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}Io=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ao=function(){},Po=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Ki(qi.current);var i,a=null;switch(n){case"input":s=Q(e,s),r=Q(e,r),a=[];break;case"select":s=M({},s,{value:void 0}),r=M({},r,{value:void 0}),a=[];break;case"textarea":s=re(e,s),r=re(e,r),a=[];break;default:"function"!==typeof s.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(u in ve(n,r),n=null,s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&null!=s[u])if("style"===u){var l=s[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=s?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Fr("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Do=function(e,t,n,r){n!==r&&(t.flags|=4)};var Go=!1,Qo=!1,Yo="function"===typeof WeakSet?WeakSet:Set,Xo=null;function Jo(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Nc(e,t,r)}else n.current=null}function Zo(e,t,n){try{n()}catch(r){Nc(e,t,r)}}var el=!1;function tl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,void 0!==i&&Zo(t,n,i)}s=s.next}while(s!==r)}}function nl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function rl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ds],delete t[hs],delete t[ms],delete t[ps],delete t[gs])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function il(e){return 5===e.tag||3===e.tag||4===e.tag}function al(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||il(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ol(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(ol(e,t,n),e=e.sibling;null!==e;)ol(e,t,n),e=e.sibling}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}var cl=null,ul=!1;function dl(e,t,n){for(n=n.child;null!==n;)hl(e,t,n),n=n.sibling}function hl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(rt,n)}catch(o){}switch(n.tag){case 5:Qo||Jo(n,t);case 6:var r=cl,s=ul;cl=null,dl(e,t,n),ul=s,null!==(cl=r)&&(ul?(e=cl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cl.removeChild(n.stateNode));break;case 18:null!==cl&&(ul?(e=cl,n=n.stateNode,8===e.nodeType?os(e.parentNode,n):1===e.nodeType&&os(e,n),zt(e)):os(cl,n.stateNode));break;case 4:r=cl,s=ul,cl=n.stateNode.containerInfo,ul=!0,dl(e,t,n),cl=r,ul=s;break;case 0:case 11:case 14:case 15:if(!Qo&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,void 0!==a&&(0!==(2&i)||0!==(4&i))&&Zo(n,t,a),s=s.next}while(s!==r)}dl(e,t,n);break;case 1:if(!Qo&&(Jo(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Nc(n,t,o)}dl(e,t,n);break;case 21:dl(e,t,n);break;case 22:1&n.mode?(Qo=(r=Qo)||null!==n.memoizedState,dl(e,t,n),Qo=r):dl(e,t,n);break;default:dl(e,t,n)}}function fl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Yo),t.forEach((function(t){var r=jc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var s=n[r];try{var a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,ul=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,ul=!0;break e}l=l.return}if(null===cl)throw Error(i(160));hl(a,o,s),cl=null,ul=!1;var c=s.alternate;null!==c&&(c.return=null),s.return=null}catch($b){Nc(s,t,$b)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)pl(t,e),t=t.sibling}function pl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),gl(e),4&r){try{tl(3,e,e.return),nl(3,e)}catch(fw){Nc(e,e.return,fw)}try{tl(5,e,e.return)}catch(fw){Nc(e,e.return,fw)}}break;case 1:ml(t,e),gl(e),512&r&&null!==n&&Jo(n,n.return);break;case 5:if(ml(t,e),gl(e),512&r&&null!==n&&Jo(n,n.return),32&e.flags){var s=e.stateNode;try{de(s,"")}catch(fw){Nc(e,e.return,fw)}}if(4&r&&null!=(s=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&X(s,a),ye(l,o);var u=ye(l,a);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];"style"===d?pe(s,h):"dangerouslySetInnerHTML"===d?ue(s,h):"children"===d?de(s,h):x(s,d,h,u)}switch(l){case"input":J(s,a);break;case"textarea":ie(s,a);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var m=a.value;null!=m?ne(s,!!a.multiple,m,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(s,!!a.multiple,a.defaultValue,!0):ne(s,!!a.multiple,a.multiple?[]:"",!1))}s[hs]=a}catch(fw){Nc(e,e.return,fw)}}break;case 6:if(ml(t,e),gl(e),4&r){if(null===e.stateNode)throw Error(i(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(fw){Nc(e,e.return,fw)}}break;case 3:if(ml(t,e),gl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(fw){Nc(e,e.return,fw)}break;case 4:default:ml(t,e),gl(e);break;case 13:ml(t,e),gl(e),8192&(s=e.child).flags&&(a=null!==s.memoizedState,s.stateNode.isHidden=a,!a||null!==s.alternate&&null!==s.alternate.memoizedState||(Vl=Ye())),4&r&&fl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Qo=(u=Qo)||d,ml(t,e),Qo=u):ml(t,e),gl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Xo=e,d=e.child;null!==d;){for(h=Xo=d;null!==Xo;){switch(m=(f=Xo).child,f.tag){case 0:case 11:case 14:case 15:tl(4,f,f.return);break;case 1:Jo(f,f.return);var p=f.stateNode;if("function"===typeof p.componentWillUnmount){r=f,n=f.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(fw){Nc(r,n,fw)}}break;case 5:Jo(f,f.return);break;case 22:if(null!==f.memoizedState){bl(h);continue}}null!==m?(m.return=f,Xo=m):bl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{s=h.stateNode,u?"function"===typeof(a=s.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",o))}catch(fw){Nc(e,e.return,fw)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(fw){Nc(e,e.return,fw)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),gl(e),4&r&&fl(e);case 21:}}function gl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(il(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var s=r.stateNode;32&r.flags&&(de(s,""),r.flags&=-33),ll(e,al(e),s);break;case 3:case 4:var a=r.stateNode.containerInfo;ol(e,al(e),a);break;default:throw Error(i(161))}}catch(o){Nc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){Xo=e,yl(e,t,n)}function yl(e,t,n){for(var r=0!==(1&e.mode);null!==Xo;){var s=Xo,i=s.child;if(22===s.tag&&r){var a=null!==s.memoizedState||Go;if(!a){var o=s.alternate,l=null!==o&&null!==o.memoizedState||Qo;o=Go;var c=Qo;if(Go=a,(Qo=l)&&!c)for(Xo=s;null!==Xo;)l=(a=Xo).child,22===a.tag&&null!==a.memoizedState?wl(s):null!==l?(l.return=a,Xo=l):wl(s);for(;null!==i;)Xo=i,yl(i,t,n),i=i.sibling;Xo=s,Go=o,Qo=c}xl(e)}else 0!==(8772&s.subtreeFlags)&&null!==i?(i.return=s,Xo=i):xl(e)}}function xl(e){for(;null!==Xo;){var t=Xo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Qo||nl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Qo)if(null===n)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:eo(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Bi(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Bi(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(i(163))}Qo||512&t.flags&&rl(t)}catch(Fb){Nc(t,t.return,Fb)}}if(t===e){Xo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xo=n;break}Xo=t.return}}function bl(e){for(;null!==Xo;){var t=Xo;if(t===e){Xo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xo=n;break}Xo=t.return}}function wl(e){for(;null!==Xo;){var t=Xo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{nl(4,t)}catch(l){Nc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var s=t.return;try{r.componentDidMount()}catch(l){Nc(t,s,l)}}var i=t.return;try{rl(t)}catch(l){Nc(t,i,l)}break;case 5:var a=t.return;try{rl(t)}catch(l){Nc(t,a,l)}}}catch(l){Nc(t,t.return,l)}if(t===e){Xo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Xo=o;break}Xo=t.return}}var kl,Nl=Math.ceil,El=b.ReactCurrentDispatcher,_l=b.ReactCurrentOwner,Sl=b.ReactCurrentBatchConfig,jl=0,Cl=null,Tl=null,Il=0,Al=0,Pl=Ns(0),Dl=0,Rl=null,Ll=0,Ol=0,Ml=0,Fl=null,Ul=null,Vl=0,zl=1/0,Bl=null,$l=!1,ql=null,Wl=null,Hl=!1,Kl=null,Gl=0,Ql=0,Yl=null,Xl=-1,Jl=0;function Zl(){return 0!==(6&jl)?Ye():-1!==Xl?Xl:Xl=Ye()}function ec(e){return 0===(1&e.mode)?1:0!==(2&jl)&&0!==Il?Il&-Il:null!==mi.transition?(0===Jl&&(Jl=mt()),Jl):0!==(e=yt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function tc(e,t,n,r){if(50<Ql)throw Ql=0,Yl=null,Error(i(185));gt(e,n,r),0!==(2&jl)&&e===Cl||(e===Cl&&(0===(2&jl)&&(Ol|=n),4===Dl&&ac(e,Il)),nc(e,r),1===n&&0===jl&&0===(1&t.mode)&&(zl=Ye()+500,Fs&&zs()))}function nc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-it(i),o=1<<a,l=s[a];-1===l?0!==(o&n)&&0===(o&r)||(s[a]=ht(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}(e,t);var r=dt(e,e===Cl?Il:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){Fs=!0,Vs(e)}(oc.bind(null,e)):Vs(oc.bind(null,e)),is((function(){0===(6&jl)&&zs()})),n=null;else{switch(xt(r)){case 1:n=Je;break;case 4:n=Ze;break;case 16:default:n=et;break;case 536870912:n=nt}n=Cc(n,rc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rc(e,t){if(Xl=-1,Jl=0,0!==(6&jl))throw Error(i(327));var n=e.callbackNode;if(wc()&&e.callbackNode!==n)return null;var r=dt(e,e===Cl?Il:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=pc(e,r);else{t=r;var s=jl;jl|=2;var a=fc();for(Cl===e&&Il===t||(Bl=null,zl=Ye()+500,dc(e,t));;)try{vc();break}catch(l){hc(e,l)}_i(),El.current=a,jl=s,null!==Tl?t=0:(Cl=null,Il=0,t=Dl)}if(0!==t){if(2===t&&(0!==(s=ft(e))&&(r=s,t=sc(e,s))),1===t)throw n=Rl,dc(e,0),ac(e,r),nc(e,Ye()),n;if(6===t)ac(e,r);else{if(s=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!ar(i(),s))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(s)&&(2===(t=pc(e,r))&&(0!==(a=ft(e))&&(r=a,t=sc(e,a))),1===t))throw n=Rl,dc(e,0),ac(e,r),nc(e,Ye()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:bc(e,Ul,Bl);break;case 3:if(ac(e,r),(130023424&r)===r&&10<(t=Vl+500-Ye())){if(0!==dt(e,0))break;if(((s=e.suspendedLanes)&r)!==r){Zl(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=ns(bc.bind(null,e,Ul,Bl),t);break}bc(e,Ul,Bl);break;case 4:if(ac(e,r),(4194240&r)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-it(r);a=1<<o,(o=t[o])>s&&(s=o),r&=~a}if(r=s,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Nl(r/1960))-r)){e.timeoutHandle=ns(bc.bind(null,e,Ul,Bl),r);break}bc(e,Ul,Bl);break;default:throw Error(i(329))}}}return nc(e,Ye()),e.callbackNode===n?rc.bind(null,e):null}function sc(e,t){var n=Fl;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=pc(e,t))&&(t=Ul,Ul=n,null!==t&&ic(t)),e}function ic(e){null===Ul?Ul=e:Ul.push.apply(Ul,e)}function ac(e,t){for(t&=~Ml,t&=~Ol,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-it(t),r=1<<n;e[n]=-1,t&=~r}}function oc(e){if(0!==(6&jl))throw Error(i(327));wc();var t=dt(e,0);if(0===(1&t))return nc(e,Ye()),null;var n=pc(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=sc(e,r))}if(1===n)throw n=Rl,dc(e,0),ac(e,t),nc(e,Ye()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bc(e,Ul,Bl),nc(e,Ye()),null}function lc(e,t){var n=jl;jl|=1;try{return e(t)}finally{0===(jl=n)&&(zl=Ye()+500,Fs&&zs())}}function cc(e){null!==Kl&&0===Kl.tag&&0===(6&jl)&&wc();var t=jl;jl|=1;var n=Sl.transition,r=yt;try{if(Sl.transition=null,yt=1,e)return e()}finally{yt=r,Sl.transition=n,0===(6&(jl=t))&&zs()}}function uc(){Al=Pl.current,Es(Pl)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,rs(n)),null!==Tl)for(n=Tl.return;null!==n;){var r=n;switch(ei(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ps();break;case 3:Qi(),Es(Cs),Es(js),ta();break;case 5:Xi(r);break;case 4:Qi();break;case 13:case 19:Es(Ji);break;case 10:Si(r.type._context);break;case 22:case 23:uc()}n=n.return}if(Cl=e,Tl=e=Pc(e.current,null),Il=Al=t,Dl=0,Rl=null,Ml=Ol=Ll=0,Ul=Fl=null,null!==Ii){for(t=0;t<Ii.length;t++)if(null!==(r=(n=Ii[t]).interleaved)){n.interleaved=null;var s=r.next,i=n.pending;if(null!==i){var a=i.next;i.next=s,r.next=a}n.pending=r}Ii=null}return e}function hc(e,t){for(;;){var n=Tl;try{if(_i(),na.current=Ya,la){for(var r=ia.memoizedState;null!==r;){var s=r.queue;null!==s&&(s.pending=null),r=r.next}la=!1}if(sa=0,oa=aa=ia=null,ca=!1,ua=0,_l.current=null,null===n||null===n.return){Dl=1,Rl=t,Tl=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=Il,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=po(o);if(null!==m){m.flags&=-257,go(m,o,l,0,t),1&m.mode&&mo(a,u,t),c=u;var p=(t=m).updateQueue;if(null===p){var g=new Set;g.add(c),t.updateQueue=g}else p.add(c);break e}if(0===(1&t)){mo(a,u,t),mc();break e}c=Error(i(426))}else if(ri&&1&l.mode){var v=po(o);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),go(v,o,l,0,t),fi(oo(c,l));break e}}a=c=oo(c,l),4!==Dl&&(Dl=2),null===Fl?Fl=[a]:Fl.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Vi(a,ho(0,c,t));break e;case 1:l=c;var y=a.type,x=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Wl||!Wl.has(x)))){a.flags|=65536,t&=-t,a.lanes|=t,Vi(a,fo(a,l,t));break e}}a=a.return}while(null!==a)}xc(n)}catch(b){t=b,Tl===n&&null!==n&&(Tl=n=n.return);continue}break}}function fc(){var e=El.current;return El.current=Ya,null===e?Ya:e}function mc(){0!==Dl&&3!==Dl&&2!==Dl||(Dl=4),null===Cl||0===(268435455&Ll)&&0===(268435455&Ol)||ac(Cl,Il)}function pc(e,t){var n=jl;jl|=2;var r=fc();for(Cl===e&&Il===t||(Bl=null,dc(e,t));;)try{gc();break}catch(Jb){hc(e,Jb)}if(_i(),jl=n,El.current=r,null!==Tl)throw Error(i(261));return Cl=null,Il=0,Dl}function gc(){for(;null!==Tl;)yc(Tl)}function vc(){for(;null!==Tl&&!Ge();)yc(Tl)}function yc(e){var t=kl(e.alternate,e,Al);e.memoizedProps=e.pendingProps,null===t?xc(e):Tl=t,_l.current=null}function xc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ho(n,t,Al)))return void(Tl=n)}else{if(null!==(n=Ko(n,t)))return n.flags&=32767,void(Tl=n);if(null===e)return Dl=6,void(Tl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Tl=t);Tl=t=e}while(null!==t);0===Dl&&(Dl=5)}function bc(e,t,n){var r=yt,s=Sl.transition;try{Sl.transition=null,yt=1,function(e,t,n,r){do{wc()}while(null!==Kl);if(0!==(6&jl))throw Error(i(327));n=e.finishedWork;var s=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-it(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}(e,a),e===Cl&&(Tl=Cl=null,Il=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Hl||(Hl=!0,Cc(et,(function(){return wc(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Sl.transition,Sl.transition=null;var o=yt;yt=1;var l=jl;jl|=4,_l.current=null,function(e,t){if(Zr=$t,hr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var s=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(w){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var m;h!==n||0!==s&&3!==h.nodeType||(l=o+s),h!==a||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(m=h.firstChild);)f=h,h=m;for(;;){if(h===e)break t;if(f===n&&++u===s&&(l=o),f===a&&++d===r&&(c=o),null!==(m=h.nextSibling))break;f=(h=f).parentNode}h=m}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(es={focusedElem:e,selectionRange:n},$t=!1,Xo=t;null!==Xo;)if(e=(t=Xo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xo=e;else for(;null!==Xo;){t=Xo;try{var p=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var g=p.memoizedProps,v=p.memoizedState,y=t.stateNode,x=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:eo(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(i(163))}}catch(w){Nc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Xo=e;break}Xo=t.return}p=el,el=!1}(e,n),pl(n,e),fr(es),$t=!!Zr,es=Zr=null,e.current=n,vl(n,e,s),Qe(),jl=l,yt=o,Sl.transition=a}else e.current=n;if(Hl&&(Hl=!1,Kl=e,Gl=s),a=e.pendingLanes,0===a&&(Wl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),nc(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if($l)throw $l=!1,e=ql,ql=null,e;0!==(1&Gl)&&0!==e.tag&&wc(),a=e.pendingLanes,0!==(1&a)?e===Yl?Ql++:(Ql=0,Yl=e):Ql=0,zs()}(e,t,n,r)}finally{Sl.transition=s,yt=r}return null}function wc(){if(null!==Kl){var e=xt(Gl),t=Sl.transition,n=yt;try{if(Sl.transition=null,yt=16>e?16:e,null===Kl)var r=!1;else{if(e=Kl,Kl=null,Gl=0,0!==(6&jl))throw Error(i(331));var s=jl;for(jl|=4,Xo=e.current;null!==Xo;){var a=Xo,o=a.child;if(0!==(16&Xo.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Xo=u;null!==Xo;){var d=Xo;switch(d.tag){case 0:case 11:case 15:tl(8,d,a)}var h=d.child;if(null!==h)h.return=d,Xo=h;else for(;null!==Xo;){var f=(d=Xo).sibling,m=d.return;if(sl(d),d===u){Xo=null;break}if(null!==f){f.return=m,Xo=f;break}Xo=m}}}var p=a.alternate;if(null!==p){var g=p.child;if(null!==g){p.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Xo=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,Xo=o;else e:for(;null!==Xo;){if(0!==(2048&(a=Xo).flags))switch(a.tag){case 0:case 11:case 15:tl(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Xo=y;break e}Xo=a.return}}var x=e.current;for(Xo=x;null!==Xo;){var b=(o=Xo).child;if(0!==(2064&o.subtreeFlags)&&null!==b)b.return=o,Xo=b;else e:for(o=x;null!==Xo;){if(0!==(2048&(l=Xo).flags))try{switch(l.tag){case 0:case 11:case 15:nl(9,l)}}catch(k){Nc(l,l.return,k)}if(l===o){Xo=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Xo=w;break e}Xo=l.return}}if(jl=s,zs(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(rt,e)}catch(k){}r=!0}return r}finally{yt=n,Sl.transition=t}}return!1}function kc(e,t,n){e=Fi(e,t=ho(0,t=oo(n,t),1),1),t=Zl(),null!==e&&(gt(e,1,t),nc(e,t))}function Nc(e,t,n){if(3===e.tag)kc(e,e,n);else for(;null!==t;){if(3===t.tag){kc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Wl||!Wl.has(r))){t=Fi(t,e=fo(t,e=oo(n,e),1),1),e=Zl(),null!==t&&(gt(t,1,e),nc(t,e));break}}t=t.return}}function Ec(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Zl(),e.pingedLanes|=e.suspendedLanes&n,Cl===e&&(Il&n)===n&&(4===Dl||3===Dl&&(130023424&Il)===Il&&500>Ye()-Vl?dc(e,0):Ml|=n),nc(e,t)}function _c(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=Zl();null!==(e=Di(e,t))&&(gt(e,t,n),nc(e,n))}function Sc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),_c(e,n)}function jc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;null!==s&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),_c(e,n)}function Cc(e,t){return He(e,t)}function Tc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ic(e,t,n,r){return new Tc(e,t,n,r)}function Ac(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pc(e,t){var n=e.alternate;return null===n?((n=Ic(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,r,s,a){var o=2;if(r=e,"function"===typeof e)Ac(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case N:return Rc(n.children,s,a,t);case E:o=8,s|=8;break;case _:return(e=Ic(12,n,t,2|s)).elementType=_,e.lanes=a,e;case T:return(e=Ic(13,n,t,s)).elementType=T,e.lanes=a,e;case I:return(e=Ic(19,n,t,s)).elementType=I,e.lanes=a,e;case D:return Lc(n,s,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:o=10;break e;case j:o=9;break e;case C:o=11;break e;case A:o=14;break e;case P:o=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Ic(o,n,t,s)).elementType=e,t.type=r,t.lanes=a,t}function Rc(e,t,n,r){return(e=Ic(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Ic(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Oc(e,t,n){return(e=Ic(6,e,null,t)).lanes=n,e}function Mc(e,t,n){return(t=Ic(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fc(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pt(0),this.expirationTimes=pt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pt(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,s,i,a,o,l){return e=new Fc(e,t,n,o,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Ic(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Li(i),e}function Vc(e){if(!e)return Ss;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(As(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(As(n))return Rs(e,n,t)}return t}function zc(e,t,n,r,s,i,a,o,l){return(e=Uc(n,r,!0,e,0,i,0,o,l)).context=Vc(null),n=e.current,(i=Mi(r=Zl(),s=ec(n))).callback=void 0!==t&&null!==t?t:null,Fi(n,i,s),e.current.lanes=s,gt(e,s,r),nc(e,r),e}function Bc(e,t,n,r){var s=t.current,i=Zl(),a=ec(s);return n=Vc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Mi(i,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Fi(s,t,a))&&(tc(e,s,a,i),Ui(e,s,a)),a}function $c(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wc(e,t){qc(e,t),(e=e.alternate)&&qc(e,t)}kl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Cs.current)yo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return yo=!1,function(e,t,n){switch(t.tag){case 3:Co(t),hi();break;case 5:Yi(t);break;case 1:As(t.type)&&Ls(t);break;case 4:Gi(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;_s(wi,r._currentValue),r._currentValue=s;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(_s(Ji,1&Ji.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Oo(e,t,n):(_s(Ji,1&Ji.current),null!==(e=$o(e,t,n))?e.sibling:null);_s(Ji,1&Ji.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return zo(e,t,n);t.flags|=128}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),_s(Ji,Ji.current),r)break;return null;case 22:case 23:return t.lanes=0,No(e,t,n)}return $o(e,t,n)}(e,t,n);yo=0!==(131072&e.flags)}else yo=!1,ri&&0!==(1048576&t.flags)&&Js(t,Ws,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Bo(e,t),e=t.pendingProps;var s=Is(t,js.current);Ci(t,n),s=ma(null,t,r,e,s,n);var a=pa();return t.flags|=1,"object"===typeof s&&null!==s&&"function"===typeof s.render&&void 0===s.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,As(r)?(a=!0,Ls(t)):a=!1,t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,Li(t),s.updater=no,t.stateNode=s,s._reactInternals=t,ao(t,r,e,n),t=jo(null,t,r,!0,a,n)):(t.tag=0,ri&&a&&Zs(t),xo(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Bo(e,t),e=t.pendingProps,r=(s=r._init)(r._payload),t.type=r,s=t.tag=function(e){if("function"===typeof e)return Ac(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===A)return 14}return 2}(r),e=eo(r,e),s){case 0:t=_o(null,t,r,e,n);break e;case 1:t=So(null,t,r,e,n);break e;case 11:t=bo(null,t,r,e,n);break e;case 14:t=wo(null,t,r,eo(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,_o(e,t,r,s=t.elementType===r?s:eo(r,s),n);case 1:return r=t.type,s=t.pendingProps,So(e,t,r,s=t.elementType===r?s:eo(r,s),n);case 3:e:{if(Co(t),null===e)throw Error(i(387));r=t.pendingProps,s=(a=t.memoizedState).element,Oi(e,t),zi(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=To(e,t,r,n,s=oo(Error(i(423)),t));break e}if(r!==s){t=To(e,t,r,n,s=oo(Error(i(424)),t));break e}for(ni=ls(t.stateNode.containerInfo.firstChild),ti=t,ri=!0,si=null,n=bi(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(hi(),r===s){t=$o(e,t,n);break e}xo(e,t,r,n)}t=t.child}return t;case 5:return Yi(t),null===e&&li(t),r=t.type,s=t.pendingProps,a=null!==e?e.memoizedProps:null,o=s.children,ts(r,s)?o=null:null!==a&&ts(r,a)&&(t.flags|=32),Eo(e,t),xo(e,t,o,n),t.child;case 6:return null===e&&li(t),null;case 13:return Oo(e,t,n);case 4:return Gi(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=xi(t,null,r,n):xo(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,bo(e,t,r,s=t.elementType===r?s:eo(r,s),n);case 7:return xo(e,t,t.pendingProps,n),t.child;case 8:case 12:return xo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,a=t.memoizedProps,o=s.value,_s(wi,r._currentValue),r._currentValue=o,null!==a)if(ar(a.value,o)){if(a.children===s.children&&!Cs.current){t=$o(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Mi(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),ji(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(i(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),ji(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}xo(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Ci(t,n),r=r(s=Ti(s)),t.flags|=1,xo(e,t,r,n),t.child;case 14:return s=eo(r=t.type,t.pendingProps),wo(e,t,r,s=eo(r.type,s),n);case 15:return ko(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:eo(r,s),Bo(e,t),t.tag=1,As(r)?(e=!0,Ls(t)):e=!1,Ci(t,n),so(t,r,s),ao(t,r,s,n),jo(null,t,r,!0,e,n);case 19:return zo(e,t,n);case 22:return No(e,t,n)}throw Error(i(156,t.tag))};var Hc="function"===typeof reportError?reportError:function(e){console.error(e)};function Kc(e){this._internalRoot=e}function Gc(e){this._internalRoot=e}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function Jc(e,t,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if("function"===typeof s){var o=s;s=function(){var e=$c(a);o.call(e)}}Bc(t,a,e,s)}else a=function(e,t,n,r,s){if(s){if("function"===typeof r){var i=r;r=function(){var e=$c(a);i.call(e)}}var a=zc(t,r,e,0,null,!1,0,"",Xc);return e._reactRootContainer=a,e[fs]=a.current,zr(8===e.nodeType?e.parentNode:e),cc(),a}for(;s=e.lastChild;)e.removeChild(s);if("function"===typeof r){var o=r;r=function(){var e=$c(l);o.call(e)}}var l=Uc(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=l,e[fs]=l.current,zr(8===e.nodeType?e.parentNode:e),cc((function(){Bc(t,l,n,r)})),l}(n,t,e,s,r);return $c(a)}Gc.prototype.render=Kc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Bc(e,t,null,null)},Gc.prototype.unmount=Kc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cc((function(){Bc(null,e,null,null)})),t[fs]=null}},Gc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Nt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Ot(e)}},bt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ut(t.pendingLanes);0!==n&&(vt(t,1|n),nc(t,Ye()),0===(6&jl)&&(zl=Ye()+500,zs()))}break;case 13:cc((function(){var t=Di(e,1);if(null!==t){var n=Zl();tc(t,e,1,n)}})),Wc(e,1)}},wt=function(e){if(13===e.tag){var t=Di(e,134217728);if(null!==t)tc(t,e,134217728,Zl());Wc(e,134217728)}},kt=function(e){if(13===e.tag){var t=ec(e),n=Di(e,t);if(null!==n)tc(n,e,t,Zl());Wc(e,t)}},Nt=function(){return yt},Et=function(e,t){var n=yt;try{return yt=e,t()}finally{yt=n}},we=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=bs(r);if(!s)throw Error(i(90));K(r),J(r,s)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},je=lc,Ce=cc;var Zc={usingClientEntryPoint:!1,Events:[ys,xs,bs,_e,Se,lc]},eu={findFiberByHostInstance:vs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tu={bundleType:eu.bundleType,version:eu.version,rendererPackageName:eu.rendererPackageName,rendererConfig:eu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:eu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var nu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nu.isDisabled&&nu.supportsFiber)try{rt=nu.inject(tu),st=nu}catch(ru){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qc(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Qc(e))throw Error(i(299));var n=!1,r="",s=Hc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(s=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,s),e[fs]=t.current,zr(8===e.nodeType?e.parentNode:e),new Kc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return cc(e)},t.hydrate=function(e,t,n){if(!Yc(t))throw Error(i(200));return Jc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Qc(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,s=!1,a="",o=Hc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(s=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=zc(t,null,e,1,null!=n?n:null,s,0,a,o),e[fs]=t.current,zr(e),r)for(e=0;e<r.length;e++)s=(s=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Gc(t)},t.render=function(e,t,n){if(!Yc(t))throw Error(i(200));return Jc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Yc(e))throw Error(i(40));return!!e._reactRootContainer&&(cc((function(){Jc(null,null,e,!1,(function(){e._reactRootContainer=null,e[fs]=null}))})),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yc(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return Jc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var s=t[r];if(void 0!==s)return s.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.m=e,(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,s){if(1&s&&(r=this(r)),8&s)return r;if("object"===typeof r&&r){if(4&s&&r.__esModule)return r;if(16&s&&"function"===typeof r.then)return r}var i=Object.create(null);n.r(i);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&s&&r;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((e=>a[e]=()=>r[e]));return a.default=()=>r,n.d(i,a),i}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".fa9b6a3e.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(Jb){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="prn-club:";n.l=(r,s,i,a)=>{if(e[r])e[r].push(s);else{var o,l;if(void 0!==i)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+i){o=d;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+i),o.src=r),e[r]=[s];var h=(t,n)=>{o.onerror=o.onload=null,clearTimeout(f);var s=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),s&&s.forEach((e=>e(n))),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var s=n.o(e,t)?e[t]:void 0;if(0!==s)if(s)r.push(s[2]);else{var i=new Promise(((n,r)=>s=e[t]=[n,r]));r.push(s[2]=i);var a=n.p+n.u(t),o=new Error;n.l(a,(r=>{if(n.o(e,t)&&(0!==(s=e[t])&&(e[t]=void 0),s)){var i=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",o.name="ChunkLoadError",o.type=i,o.request=a,s[1](o)}}),"chunk-"+t,t)}};var t=(t,r)=>{var s,i,a=r[0],o=r[1],l=r[2],c=0;if(a.some((t=>0!==e[t]))){for(s in o)n.o(o,s)&&(n.m[s]=o[s]);if(l)l(n)}for(t&&t(r);c<a.length;c++)i=a[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0},r=self.webpackChunkprn_club=self.webpackChunkprn_club||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r,s=n(43),i=n.t(s,2),a=n(391);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));const l="popstate";function c(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function u(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(Jb){}}}function d(e,t){return{usr:e.state,key:e.key,idx:t}}function h(e,t,n,r){return void 0===n&&(n=null),o({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?m(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function f(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function m(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function p(e,t,n,s){void 0===s&&(s={});let{window:i=document.defaultView,v5Compat:a=!1}=s,u=i.history,m=r.Pop,p=null,g=v();function v(){return(u.state||{idx:null}).idx}function y(){m=r.Pop;let e=v(),t=null==e?null:e-g;g=e,p&&p({action:m,location:b.location,delta:t})}function x(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:f(e);return n=n.replace(/ $/,"%20"),c(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,u.replaceState(o({},u.state,{idx:g}),""));let b={get action(){return m},get location(){return e(i,u)},listen(e){if(p)throw new Error("A history only accepts one active listener");return i.addEventListener(l,y),p=e,()=>{i.removeEventListener(l,y),p=null}},createHref:e=>t(i,e),createURL:x,encodeLocation(e){let t=x(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){m=r.Push;let s=h(b.location,e,t);n&&n(s,e),g=v()+1;let o=d(s,g),l=b.createHref(s);try{u.pushState(o,"",l)}catch(c){if(c instanceof DOMException&&"DataCloneError"===c.name)throw c;i.location.assign(l)}a&&p&&p({action:m,location:b.location,delta:1})},replace:function(e,t){m=r.Replace;let s=h(b.location,e,t);n&&n(s,e),g=v();let i=d(s,g),o=b.createHref(s);u.replaceState(i,"",o),a&&p&&p({action:m,location:b.location,delta:0})},go:e=>u.go(e)};return b}var g;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(g||(g={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function v(e,t,n){return void 0===n&&(n="/"),y(e,t,n,!1)}function y(e,t,n,r){let s=P(("string"===typeof t?m(t):t).pathname||"/",n);if(null==s)return null;let i=x(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let a=null;for(let o=0;null==a&&o<i.length;++o){let e=A(s);a=T(i[o],e,r)}return a}function x(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let s=(e,s,i)=>{let a={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:s,route:e};a.relativePath.startsWith("/")&&(c(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let o=M([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(c(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),x(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:C(o,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of b(e.path))s(e,t,r);else s(e,t)})),t}function b(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===r.length)return s?[i,""]:[i];let a=b(r.join("/")),o=[];return o.push(...a.map((e=>""===e?i:[i,e].join("/")))),s&&o.push(...a),o.map((t=>e.startsWith("/")&&""===t?"/":t))}const w=/^:[\w-]+$/,k=3,N=2,E=1,_=10,S=-2,j=e=>"*"===e;function C(e,t){let n=e.split("/"),r=n.length;return n.some(j)&&(r+=S),t&&(r+=N),n.filter((e=>!j(e))).reduce(((e,t)=>e+(w.test(t)?k:""===t?E:_)),r)}function T(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,s={},i="/",a=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===i?t:t.slice(i.length)||"/",u=I({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=I({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(s,u.params),a.push({params:s,pathname:M([i,u.pathname]),pathnameBase:F(M([i,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(i=M([i,u.pathnameBase]))}return a}function I(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);u("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),s+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":""!==e&&"/"!==e&&(s+="(?:(?=\\/|$))");let i=new RegExp(s,t?void 0:"i");return[i,r]}(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:s}=t;if("*"===r){let e=o[n]||"";a=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=s&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:i,pathnameBase:a,pattern:e}}function A(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return u(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function P(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function D(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function R(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function L(e,t){let n=R(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function O(e,t,n,r){let s;void 0===r&&(r=!1),"string"===typeof e?s=m(e):(s=o({},e),c(!s.pathname||!s.pathname.includes("?"),D("?","pathname","search",s)),c(!s.pathname||!s.pathname.includes("#"),D("#","pathname","hash",s)),c(!s.search||!s.search.includes("#"),D("#","search","hash",s)));let i,a=""===e||""===s.pathname,l=a?"/":s.pathname;if(null==l)i=n;else{let e=t.length-1;if(!r&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;s.pathname=t.join("/")}i=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:s=""}="string"===typeof e?m(e):e,i=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:i,search:U(r),hash:V(s)}}(s,i),d=l&&"/"!==l&&l.endsWith("/"),h=(a||"."===l)&&n.endsWith("/");return u.pathname.endsWith("/")||!d&&!h||(u.pathname+="/"),u}const M=e=>e.join("/").replace(/\/\/+/g,"/"),F=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),U=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",V=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function z(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const B=["post","put","patch","delete"],$=(new Set(B),["get",...B]);new Set($),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function q(){return q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q.apply(this,arguments)}const W=s.createContext(null);const H=s.createContext(null);const K=s.createContext(null);const G=s.createContext(null);const Q=s.createContext({outlet:null,matches:[],isDataRoute:!1});const Y=s.createContext(null);function X(){return null!=s.useContext(G)}function J(){return X()||c(!1),s.useContext(G).location}function Z(e){s.useContext(K).static||s.useLayoutEffect(e)}function ee(){let{isDataRoute:e}=s.useContext(Q);return e?function(){let{router:e}=he(ue.UseNavigateStable),t=me(de.UseNavigateStable),n=s.useRef(!1);return Z((()=>{n.current=!0})),s.useCallback((function(r,s){void 0===s&&(s={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,q({fromRouteId:t},s)))}),[e,t])}():function(){X()||c(!1);let e=s.useContext(W),{basename:t,future:n,navigator:r}=s.useContext(K),{matches:i}=s.useContext(Q),{pathname:a}=J(),o=JSON.stringify(L(i,n.v7_relativeSplatPath)),l=s.useRef(!1);return Z((()=>{l.current=!0})),s.useCallback((function(n,s){if(void 0===s&&(s={}),!l.current)return;if("number"===typeof n)return void r.go(n);let i=O(n,JSON.parse(o),a,"path"===s.relative);null==e&&"/"!==t&&(i.pathname="/"===i.pathname?t:M([t,i.pathname])),(s.replace?r.replace:r.push)(i,s.state,s)}),[t,r,o,a,e])}()}const te=s.createContext(null);function ne(){let{matches:e}=s.useContext(Q),t=e[e.length-1];return t?t.params:{}}function re(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=s.useContext(K),{matches:i}=s.useContext(Q),{pathname:a}=J(),o=JSON.stringify(L(i,r.v7_relativeSplatPath));return s.useMemo((()=>O(e,JSON.parse(o),a,"path"===n)),[e,o,a,n])}function se(e,t,n,i){X()||c(!1);let{navigator:a,static:o}=s.useContext(K),{matches:l}=s.useContext(Q),u=l[l.length-1],d=u?u.params:{},h=(u&&u.pathname,u?u.pathnameBase:"/");u&&u.route;let f,p=J();if(t){var g;let e="string"===typeof t?m(t):t;"/"===h||(null==(g=e.pathname)?void 0:g.startsWith(h))||c(!1),f=e}else f=p;let y=f.pathname||"/",x=y;if("/"!==h){let e=h.replace(/^\//,"").split("/");x="/"+y.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=!o&&n&&n.matches&&n.matches.length>0?n.matches:v(e,{pathname:x});let w=ce(b&&b.map((e=>Object.assign({},e,{params:Object.assign({},d,e.params),pathname:M([h,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:M([h,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),l,n,i);return t&&w?s.createElement(G.Provider,{value:{location:q({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:r.Pop}},w):w}function ie(){let e=function(){var e;let t=s.useContext(Y),n=fe(de.UseRouteError),r=me(de.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=z(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r};return s.createElement(s.Fragment,null,s.createElement("h2",null,"Unexpected Application Error!"),s.createElement("h3",{style:{fontStyle:"italic"}},t),n?s.createElement("pre",{style:i},n):null,null)}const ae=s.createElement(ie,null);class oe extends s.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?s.createElement(Q.Provider,{value:this.props.routeContext},s.createElement(Y.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function le(e){let{routeContext:t,match:n,children:r}=e,i=s.useContext(W);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),s.createElement(Q.Provider,{value:t},r)}function ce(e,t,n,r){var i;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var a;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(a=r)&&a.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let o=e,l=null==(i=n)?void 0:i.errors;if(null!=l){let e=o.findIndex((e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id])));e>=0||c(!1),o=o.slice(0,Math.min(o.length,e+1))}let u=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let s=0;s<o.length;s++){let e=o[s];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=s),e.route.id){let{loaderData:t,errors:r}=n,s=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||s){u=!0,o=d>=0?o.slice(0,d+1):[o[0]];break}}}return o.reduceRight(((e,r,i)=>{let a,c=!1,h=null,f=null;var m;n&&(a=l&&r.route.id?l[r.route.id]:void 0,h=r.route.errorElement||ae,u&&(d<0&&0===i?(m="route-fallback",!1||pe[m]||(pe[m]=!0),c=!0,f=null):d===i&&(c=!0,f=r.route.hydrateFallbackElement||null)));let p=t.concat(o.slice(0,i+1)),g=()=>{let t;return t=a?h:c?f:r.route.Component?s.createElement(r.route.Component,null):r.route.element?r.route.element:e,s.createElement(le,{match:r,routeContext:{outlet:e,matches:p,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===i)?s.createElement(oe,{location:n.location,revalidation:n.revalidation,component:h,error:a,children:g(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):g()}),null)}var ue=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ue||{}),de=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(de||{});function he(e){let t=s.useContext(W);return t||c(!1),t}function fe(e){let t=s.useContext(H);return t||c(!1),t}function me(e){let t=function(){let e=s.useContext(Q);return e||c(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||c(!1),n.route.id}const pe={};function ge(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}i.startTransition;function ve(e){let{to:t,replace:n,state:r,relative:i}=e;X()||c(!1);let{future:a,static:o}=s.useContext(K),{matches:l}=s.useContext(Q),{pathname:u}=J(),d=ee(),h=O(t,L(l,a.v7_relativeSplatPath),u,"path"===i),f=JSON.stringify(h);return s.useEffect((()=>d(JSON.parse(f),{replace:n,state:r,relative:i})),[d,f,i,n,r]),null}function ye(e){return function(e){let t=s.useContext(Q).outlet;return t?s.createElement(te.Provider,{value:e},t):t}(e.context)}function xe(e){c(!1)}function be(e){let{basename:t="/",children:n=null,location:i,navigationType:a=r.Pop,navigator:o,static:l=!1,future:u}=e;X()&&c(!1);let d=t.replace(/^\/*/,"/"),h=s.useMemo((()=>({basename:d,navigator:o,static:l,future:q({v7_relativeSplatPath:!1},u)})),[d,u,o,l]);"string"===typeof i&&(i=m(i));let{pathname:f="/",search:p="",hash:g="",state:v=null,key:y="default"}=i,x=s.useMemo((()=>{let e=P(f,d);return null==e?null:{location:{pathname:e,search:p,hash:g,state:v,key:y},navigationType:a}}),[d,f,p,g,v,y,a]);return null==x?null:s.createElement(K.Provider,{value:h},s.createElement(G.Provider,{children:n,value:x}))}function we(e){let{children:t,location:n}=e;return se(ke(t),n)}new Promise((()=>{}));s.Component;function ke(e,t){void 0===t&&(t=[]);let n=[];return s.Children.forEach(e,((e,r)=>{if(!s.isValidElement(e))return;let i=[...t,r];if(e.type===s.Fragment)return void n.push.apply(n,ke(e.props.children,i));e.type!==xe&&c(!1),e.props.index&&e.props.children&&c(!1);let a={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=ke(e.props.children,i)),n.push(a)})),n}const Ne=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let s=e.charCodeAt(r);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=63&s|128):55296===(64512&s)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(s=65536+((1023&s)<<10)+(1023&e.charCodeAt(++r)),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=63&s|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=63&s|128)}return t},Ee={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<e.length;s+=3){const t=e[s],i=s+1<e.length,a=i?e[s+1]:0,o=s+2<e.length,l=o?e[s+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;o||(h=64,i||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ne(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const s=e[n++];if(s<128)t[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=e[n++];t[r++]=String.fromCharCode((31&s)<<6|63&i)}else if(s>239&&s<365){const i=((7&s)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(i>>10)),t[r++]=String.fromCharCode(56320+(1023&i))}else{const i=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&s)<<12|(63&i)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<e.length;){const t=n[e.charAt(s++)],i=s<e.length?n[e.charAt(s)]:0;++s;const a=s<e.length?n[e.charAt(s)]:64;++s;const o=s<e.length?n[e.charAt(s)]:64;if(++s,null==t||null==i||null==a||null==o)throw new _e;const l=t<<2|i>>4;if(r.push(l),64!==a){const e=i<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class _e extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Se=function(e){return function(e){const t=Ne(e);return Ee.encodeByteArray(t,!0)}(e).replace(/\./g,"")},je=function(e){try{return Ee.decodeString(e,!0)}catch(Jb){console.error("base64Decode failed: ",Jb)}return null};const Ce=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Te=()=>{try{return Ce()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(Jb){return}const t=e&&je(e[1]);return t&&JSON.parse(t)})()}catch(Jb){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Jb}`)}},Ie=e=>{var t,n;return null===(n=null===(t=Te())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},Ae=e=>{const t=Ie(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Pe=()=>{var e;return null===(e=Te())||void 0===e?void 0:e.config},De=e=>{var t;return null===(t=Te())||void 0===t?void 0:t[`_${e}`]};class Re{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Le(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Se(JSON.stringify({alg:"none",type:"JWT"})),Se(JSON.stringify(i)),""].join(".")}function Oe(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Me(){return!function(){var e;const t=null===(e=Te())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(Jb){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Fe(){try{return"object"===typeof indexedDB}catch(Jb){return!1}}class Ue extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Ue.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ve.prototype.create)}}class Ve{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],s=r?function(e,t){return e.replace(ze,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(r,t):"Error",i=`${this.serviceName}: ${s} (${n}).`;return new Ue(n,i,t)}}const ze=/\{\$([^}]+)}/g;function Be(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const s of n){if(!r.includes(s))return!1;const n=e[s],i=t[s];if($e(n)&&$e(i)){if(!Be(n,i))return!1}else if(n!==i)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function $e(e){return null!==e&&"object"===typeof e}function qe(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function We(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function He(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Ke{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Ge),void 0===r.error&&(r.error=Ge),void 0===r.complete&&(r.complete=Ge);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(Jb){}})),this.observers.push(r),s}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(Jb){"undefined"!==typeof console&&console.error&&console.error(Jb)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function Ge(){}function Qe(e){return e&&e._delegate?e._delegate:e}class Ye{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Xe="[DEFAULT]";class Je{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Re;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(Jb){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(Jb){if(r)return null;throw Jb}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Xe})}catch(Jb){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(Jb){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[s,i]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(s)&&i.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),s=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const s of n)try{s(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(s=t,s===Xe?void 0:s),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(i){}var s;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe;return this.component?this.component.multipleInstances?e:Xe:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ze{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Je(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const et=[];var tt;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(tt||(tt={}));const nt={debug:tt.DEBUG,verbose:tt.VERBOSE,info:tt.INFO,warn:tt.WARN,error:tt.ERROR,silent:tt.SILENT},rt=tt.INFO,st={[tt.DEBUG]:"log",[tt.VERBOSE]:"log",[tt.INFO]:"info",[tt.WARN]:"warn",[tt.ERROR]:"error"},it=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=st[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var s=arguments.length,i=new Array(s>2?s-2:0),a=2;a<s;a++)i[a-2]=arguments[a];console[r](`[${n}]  ${e.name}:`,...i)};class at{constructor(e){this.name=e,this._logLevel=rt,this._logHandler=it,this._userLogHandler=null,et.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in tt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?nt[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,tt.DEBUG,...t),this._logHandler(this,tt.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,tt.VERBOSE,...t),this._logHandler(this,tt.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,tt.INFO,...t),this._logHandler(this,tt.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,tt.WARN,...t),this._logHandler(this,tt.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,tt.ERROR,...t),this._logHandler(this,tt.ERROR,...t)}}let ot,lt;const ct=new WeakMap,ut=new WeakMap,dt=new WeakMap,ht=new WeakMap,ft=new WeakMap;let mt={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return ut.get(e);if("objectStoreNames"===t)return e.objectStoreNames||dt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return vt(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function pt(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(lt||(lt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(yt(this),n),vt(ct.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return vt(e.apply(yt(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];const i=e.call(yt(this),t,...r);return dt.set(i,t.sort?t.sort():[t]),vt(i)}}function gt(e){return"function"===typeof e?pt(e):(e instanceof IDBTransaction&&function(e){if(ut.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",i),e.removeEventListener("abort",i)},s=()=>{t(),r()},i=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",s),e.addEventListener("error",i),e.addEventListener("abort",i)}));ut.set(e,t)}(e),t=e,(ot||(ot=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,mt):e);var t}function vt(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",s),e.removeEventListener("error",i)},s=()=>{t(vt(e.result)),r()},i=()=>{n(e.error),r()};e.addEventListener("success",s),e.addEventListener("error",i)}));return t.then((t=>{t instanceof IDBCursor&&ct.set(t,e)})).catch((()=>{})),ft.set(t,e),t}(e);if(ht.has(e))return ht.get(e);const t=gt(e);return t!==e&&(ht.set(e,t),ft.set(t,e)),t}const yt=e=>ft.get(e);const xt=["get","getKey","getAll","getAllKeys","count"],bt=["put","add","delete","clear"],wt=new Map;function kt(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(wt.get(t))return wt.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,s=bt.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!s&&!xt.includes(n))return;const i=async function(e){const t=this.transaction(e,s?"readwrite":"readonly");let i=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return r&&(i=i.index(o.shift())),(await Promise.all([i[n](...o),s&&t.done]))[0]};return wt.set(t,i),i}mt=(e=>({...e,get:(t,n,r)=>kt(t,n)||e.get(t,n,r),has:(t,n)=>!!kt(t,n)||e.has(t,n)}))(mt);class Nt{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const Et="@firebase/app",_t="0.10.13",St=new at("@firebase/app"),jt="@firebase/app-compat",Ct="@firebase/analytics-compat",Tt="@firebase/analytics",It="@firebase/app-check-compat",At="@firebase/app-check",Pt="@firebase/auth",Dt="@firebase/auth-compat",Rt="@firebase/database",Lt="@firebase/data-connect",Ot="@firebase/database-compat",Mt="@firebase/functions",Ft="@firebase/functions-compat",Ut="@firebase/installations",Vt="@firebase/installations-compat",zt="@firebase/messaging",Bt="@firebase/messaging-compat",$t="@firebase/performance",qt="@firebase/performance-compat",Wt="@firebase/remote-config",Ht="@firebase/remote-config-compat",Kt="@firebase/storage",Gt="@firebase/storage-compat",Qt="@firebase/firestore",Yt="@firebase/vertexai-preview",Xt="@firebase/firestore-compat",Jt="firebase",Zt="[DEFAULT]",en={[Et]:"fire-core",[jt]:"fire-core-compat",[Tt]:"fire-analytics",[Ct]:"fire-analytics-compat",[At]:"fire-app-check",[It]:"fire-app-check-compat",[Pt]:"fire-auth",[Dt]:"fire-auth-compat",[Rt]:"fire-rtdb",[Lt]:"fire-data-connect",[Ot]:"fire-rtdb-compat",[Mt]:"fire-fn",[Ft]:"fire-fn-compat",[Ut]:"fire-iid",[Vt]:"fire-iid-compat",[zt]:"fire-fcm",[Bt]:"fire-fcm-compat",[$t]:"fire-perf",[qt]:"fire-perf-compat",[Wt]:"fire-rc",[Ht]:"fire-rc-compat",[Kt]:"fire-gcs",[Gt]:"fire-gcs-compat",[Qt]:"fire-fst",[Xt]:"fire-fst-compat",[Yt]:"fire-vertex","fire-js":"fire-js",[Jt]:"fire-js-all"},tn=new Map,nn=new Map,rn=new Map;function sn(e,t){try{e.container.addComponent(t)}catch(Jb){St.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,Jb)}}function an(e){const t=e.name;if(rn.has(t))return St.debug(`There were multiple attempts to register component ${t}.`),!1;rn.set(t,e);for(const n of tn.values())sn(n,e);for(const n of nn.values())sn(n,e);return!0}function on(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function ln(e){return void 0!==e.settings}const cn=new Ve("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class un{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Ye("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw cn.create("app-deleted",{appName:this._name})}}const dn="10.14.1";function hn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Zt,automaticDataCollectionEnabled:!1},t),s=r.name;if("string"!==typeof s||!s)throw cn.create("bad-app-name",{appName:String(s)});if(n||(n=Pe()),!n)throw cn.create("no-options");const i=tn.get(s);if(i){if(Be(n,i.options)&&Be(r,i.config))return i;throw cn.create("duplicate-app",{appName:s})}const a=new Ze(s);for(const l of rn.values())a.addComponent(l);const o=new un(n,r,a);return tn.set(s,o),o}function fn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zt;const t=tn.get(e);if(!t&&e===Zt&&Pe())return hn();if(!t)throw cn.create("no-app",{appName:e});return t}function mn(e,t,n){var r;let s=null!==(r=en[e])&&void 0!==r?r:e;n&&(s+=`-${n}`);const i=s.match(/\s|\//),a=t.match(/\s|\//);if(i||a){const e=[`Unable to register library "${s}" with version "${t}":`];return i&&e.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void St.warn(e.join(" "))}an(new Ye(`${s}-version`,(()=>({library:s,version:t})),"VERSION"))}const pn="firebase-heartbeat-store";let gn=null;function vn(){return gn||(gn=function(e,t){let{blocked:n,upgrade:r,blocking:s,terminated:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=vt(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(vt(a.result),e.oldVersion,e.newVersion,vt(a.transaction),e)})),n&&a.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),o.then((e=>{i&&e.addEventListener("close",(()=>i())),s&&e.addEventListener("versionchange",(e=>s(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),o}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(pn)}catch(Jb){console.warn(Jb)}}}).catch((e=>{throw cn.create("idb-open",{originalErrorMessage:e.message})}))),gn}async function yn(e,t){try{const n=(await vn()).transaction(pn,"readwrite"),r=n.objectStore(pn);await r.put(t,xn(e)),await n.done}catch(Jb){if(Jb instanceof Ue)St.warn(Jb.message);else{const t=cn.create("idb-set",{originalErrorMessage:null===Jb||void 0===Jb?void 0:Jb.message});St.warn(t.message)}}}function xn(e){return`${e.name}!${e.options.appId}`}class bn{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new kn(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=wn();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}catch(Jb){St.warn(Jb)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=wn(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const s of e){const e=n.find((e=>e.agent===s.agent));if(e){if(e.dates.push(s.date),Nn(n)>t){e.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Nn(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),s=Se(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(Jb){return St.warn(Jb),""}}}function wn(){return(new Date).toISOString().substring(0,10)}class kn{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Fe()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var e;t((null===(e=s.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await vn()).transaction(pn),n=await t.objectStore(pn).get(xn(e));return await t.done,n}catch(Jb){if(Jb instanceof Ue)St.warn(Jb.message);else{const t=cn.create("idb-get",{originalErrorMessage:null===Jb||void 0===Jb?void 0:Jb.message});St.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return yn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return yn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Nn(e){return Se(JSON.stringify({version:2,heartbeats:e})).length}var En;En="",an(new Ye("platform-logger",(e=>new Nt(e)),"PRIVATE")),an(new Ye("heartbeat",(e=>new bn(e)),"PRIVATE")),mn(Et,_t,En),mn(Et,_t,"esm2017"),mn("fire-js","");function _n(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function Sn(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jn=Sn,Cn=new Ve("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Tn=new at("@firebase/auth");function In(e){if(Tn.logLevel<=tt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Tn.error(`Auth (${dn}): ${e}`,...n)}}function An(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Ln(e,...n)}function Pn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ln(e,...n)}function Dn(e,t,n){const r=Object.assign(Object.assign({},jn()),{[t]:n});return new Ve("auth","Firebase",r).create(t,{appName:e.name})}function Rn(e){return Dn(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ln(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Cn.create(e,...n)}function On(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];throw Ln(t,...r)}}function Mn(e){const t="INTERNAL ASSERTION FAILED: "+e;throw In(t),new Error(t)}function Fn(e,t){e||Mn(t)}function Un(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Vn(){return"http:"===zn()||"https:"===zn()}function zn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Bn(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Vn()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class $n{constructor(e,t){this.shortDelay=e,this.longDelay=t,Fn(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Oe())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return Bn()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function qn(e,t){Fn(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class Wn{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Mn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Mn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Mn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Hn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Kn=new $n(3e4,6e4);function Gn(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Qn(e,t,n,r){return Yn(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let s={},i={};r&&("GET"===t?i=r:s={body:JSON.stringify(r)});const a=qe(Object.assign({key:e.config.apiKey},i)).slice(1),o=await e._getAdditionalHeaders();o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:o},s);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),Wn.fetch()(Jn(e,e.config.apiHost,n,a),l)}))}async function Yn(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Hn),t);try{const t=new er(e),s=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const i=await s.json();if("needConfirmation"in i)throw tr(e,"account-exists-with-different-credential",i);if(s.ok&&!("errorMessage"in i))return i;{const t=s.ok?i.errorMessage:i.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw tr(e,"credential-already-in-use",i);if("EMAIL_EXISTS"===n)throw tr(e,"email-already-in-use",i);if("USER_DISABLED"===n)throw tr(e,"user-disabled",i);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw Dn(e,o,a);An(e,o)}}catch(Jb){if(Jb instanceof Ue)throw Jb;An(e,"network-request-failed",{message:String(Jb)})}}async function Xn(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const i=await Qn(e,t,n,r,s);return"mfaPendingCredential"in i&&An(e,"multi-factor-auth-required",{_serverResponse:i}),i}function Jn(e,t,n,r){const s=`${t}${n}?${r}`;return e.config.emulator?qn(e.config,s):`${e.config.apiScheme}://${s}`}function Zn(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class er{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Pn(this.auth,"network-request-failed"))),Kn.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function tr(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Pn(e,t,r);return s.customData._tokenResponse=n,s}function nr(e){return void 0!==e&&void 0!==e.enterprise}class rr{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Zn(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function sr(e,t){return Qn(e,"GET","/v2/recaptchaConfig",Gn(e,t))}async function ir(e,t){return Qn(e,"POST","/v1/accounts:lookup",t)}function ar(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(Jb){}}function or(e){return 1e3*Number(e)}function lr(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return In("JWT malformed, contained fewer than 3 sections"),null;try{const e=je(n);return e?JSON.parse(e):(In("Failed to decode base64 JWT payload"),null)}catch(Jb){return In("Caught error parsing JWT payload as JSON",null===Jb||void 0===Jb?void 0:Jb.toString()),null}}function cr(e){const t=lr(e);return On(t,"internal-error"),On("undefined"!==typeof t.exp,"internal-error"),On("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function ur(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(Jb){throw Jb instanceof Ue&&function(e){let{code:t}=e;return"auth/user-disabled"===t||"auth/user-token-expired"===t}(Jb)&&e.auth.currentUser===e&&await e.auth.signOut(),Jb}}class dr{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(Jb){return void("auth/network-request-failed"===(null===Jb||void 0===Jb?void 0:Jb.code)&&this.schedule(!0))}this.schedule()}}class hr{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ar(this.lastLoginAt),this.creationTime=ar(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function fr(e){var t;const n=e.auth,r=await e.getIdToken(),s=await ur(e,ir(n,{idToken:r}));On(null===s||void 0===s?void 0:s.users.length,n,"internal-error");const i=s.users[0];e._notifyReloadListener(i);const a=(null===(t=i.providerUserInfo)||void 0===t?void 0:t.length)?mr(i.providerUserInfo):[],o=function(e,t){const n=e.filter((e=>!t.some((t=>t.providerId===e.providerId))));return[...n,...t]}(e.providerData,a),l=e.isAnonymous,c=!(e.email&&i.passwordHash)&&!(null===o||void 0===o?void 0:o.length),u=!!l&&c,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new hr(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(e,d)}function mr(e){return e.map((e=>{var{providerId:t}=e,n=_n(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class pr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){On(e.idToken,"internal-error"),On("undefined"!==typeof e.idToken,"internal-error"),On("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):cr(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){On(0!==e.length,"internal-error");const t=cr(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(On(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:s}=await async function(e,t){const n=await Yn(e,{},(async()=>{const n=qe({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=e.config,i=Jn(e,r,"/v1/token",`key=${s}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Wn.fetch()(i,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(s))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:s}=t,i=new pr;return n&&(On("string"===typeof n,"internal-error",{appName:e}),i.refreshToken=n),r&&(On("string"===typeof r,"internal-error",{appName:e}),i.accessToken=r),s&&(On("number"===typeof s,"internal-error",{appName:e}),i.expirationTime=s),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new pr,this.toJSON())}_performRefresh(){return Mn("not implemented")}}function gr(e,t){On("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class vr{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,s=_n(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new dr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new hr(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await ur(this,this.stsTokenManager.getToken(this.auth,e));return On(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Qe(e),r=await n.getIdToken(t),s=lr(r);On(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i="object"===typeof s.firebase?s.firebase:void 0,a=null===i||void 0===i?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:ar(or(s.auth_time)),issuedAtTime:ar(or(s.iat)),expirationTime:ar(or(s.exp)),signInProvider:a||null,signInSecondFactor:(null===i||void 0===i?void 0:i.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Qe(e);await fr(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(On(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new vr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){On(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await fr(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ln(this.auth.app))return Promise.reject(Rn(this.auth));const e=await this.getIdToken();return await ur(this,async function(e,t){return Qn(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,s,i,a,o,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,f=null!==(i=t.photoURL)&&void 0!==i?i:void 0,m=null!==(a=t.tenantId)&&void 0!==a?a:void 0,p=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:x,isAnonymous:b,providerData:w,stsTokenManager:k}=t;On(y&&k,e,"internal-error");const N=pr.fromJSON(this.name,k);On("string"===typeof y,e,"internal-error"),gr(u,e.name),gr(d,e.name),On("boolean"===typeof x,e,"internal-error"),On("boolean"===typeof b,e,"internal-error"),gr(h,e.name),gr(f,e.name),gr(m,e.name),gr(p,e.name),gr(g,e.name),gr(v,e.name);const E=new vr({uid:y,auth:e,email:d,emailVerified:x,displayName:u,isAnonymous:b,photoURL:f,phoneNumber:h,tenantId:m,stsTokenManager:N,createdAt:g,lastLoginAt:v});return w&&Array.isArray(w)&&(E.providerData=w.map((e=>Object.assign({},e)))),p&&(E._redirectEventId=p),E}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new pr;r.updateFromServerResponse(t);const s=new vr({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await fr(s),s}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];On(void 0!==r.localId,"internal-error");const s=void 0!==r.providerUserInfo?mr(r.providerUserInfo):[],i=!(r.email&&r.passwordHash)&&!(null===s||void 0===s?void 0:s.length),a=new pr;a.updateFromIdToken(n);const o=new vr({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:i}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new hr(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===s||void 0===s?void 0:s.length)};return Object.assign(o,l),o}}const yr=new Map;function xr(e){Fn(e instanceof Function,"Expected a class definition");let t=yr.get(e);return t?(Fn(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,yr.set(e,t),t)}class br{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}br.type="NONE";const wr=br;function kr(e,t,n){return`firebase:${e}:${t}:${n}`}class Nr{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:s}=this.auth;this.fullUserKey=kr(this.userKey,r.apiKey,s),this.fullPersistenceKey=kr("persistence",r.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?vr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Nr(xr(wr),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let s=r[0]||xr(wr);const i=kr(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(i);if(t){const n=vr._fromJSON(e,t);c!==s&&(a=n),s=c;break}}catch(l){}const o=r.filter((e=>e._shouldAllowMigration));return s._shouldAllowMigration&&o.length?(s=o[0],a&&await s._set(i,a.toJSON()),await Promise.all(t.map((async e=>{if(e!==s)try{await e._remove(i)}catch(l){}}))),new Nr(s,e,n)):new Nr(s,e,n)}}function Er(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Cr(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(_r(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Ir(t))return"Blackberry";if(Ar(t))return"Webos";if(Sr(t))return"Safari";if((t.includes("chrome/")||jr(t))&&!t.includes("edge/"))return"Chrome";if(Tr(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function _r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe();return/firefox\//i.test(e)}function Sr(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe();return/crios\//i.test(e)}function Cr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe();return/iemobile/i.test(e)}function Tr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe();return/android/i.test(e)}function Ir(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe();return/blackberry/i.test(e)}function Ar(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe();return/webos/i.test(e)}function Pr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Dr(){return function(){const e=Oe();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Rr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe();return Pr(e)||Tr(e)||Ar(e)||Ir(e)||/windows phone/i.test(e)||Cr(e)}function Lr(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Er(Oe());break;case"Worker":t=`${Er(Oe())}-${e}`;break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return`${t}/JsCore/${dn}/${r}`}class Or{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(Jb){r(Jb)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(Jb){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===Jb||void 0===Jb?void 0:Jb.message})}}}class Mr{constructor(e){var t,n,r,s;const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=i.minPasswordLength)&&void 0!==t?t:6,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),void 0!==i.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),void 0!==i.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),void 0!==i.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),void 0!==i.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(s=e.forceUpgradeOnSignin)&&void 0!==s&&s,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,s,i,a;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(s=o.containsUppercaseLetter)||void 0===s||s),o.isValid&&(o.isValid=null===(i=o.containsNumericCharacter)||void 0===i||i),o.isValid&&(o.isValid=null===(a=o.containsNonAlphanumericCharacter)||void 0===a||a),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class Fr{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Vr(this),this.idTokenSubscription=new Vr(this),this.beforeStateQueue=new Or(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Cn,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=xr(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await Nr.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(Jb){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await ir(this,{idToken:e}),n=await vr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(ln(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,i=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==i||!(null===a||void 0===a?void 0:a.user)||(r=a.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(Jb){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(Jb)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return On(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(Jb){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await fr(e)}catch(Jb){if("auth/network-request-failed"!==(null===Jb||void 0===Jb?void 0:Jb.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ln(this.app))return Promise.reject(Rn(this));const t=e?Qe(e):null;return t&&On(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&On(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return ln(this.app)?Promise.reject(Rn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ln(this.app)?Promise.reject(Rn(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(xr(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Qn(e,"GET","/v2/passwordPolicy",Gn(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Mr(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ve("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Qn(e,"POST","/v2/accounts:revokeToken",Gn(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&xr(e)||this._popupRedirectResolver;On(t,this,"argument-error"),this.redirectPersistenceManager=await Nr.create(this,[xr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const s="function"===typeof t?t:t.next.bind(t);let i=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(On(a,this,"internal-error"),a.then((()=>{i||s(this.currentUser)})),"function"===typeof t){const s=e.addObserver(t,n,r);return()=>{i=!0,s()}}{const n=e.addObserver(t);return()=>{i=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return On(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Lr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Tn.logLevel<=tt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Tn.warn(`Auth (${dn}): ${e}`,...n)}}(`Error while retrieving App Check token: ${t.error}`),null===t||void 0===t?void 0:t.token}}function Ur(e){return Qe(e)}class Vr{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new Ke(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return On(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let zr={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Br(e){return zr.loadJS(e)}function $r(e){return`__${e}${Math.floor(1e6*Math.random())}`}class qr{constructor(e){this.type="recaptcha-enterprise",this.auth=Ur(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const s=window.grecaptcha;nr(s)?s.enterprise.ready((()=>{s.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{sr(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new rr(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((s=>{if(!t&&nr(window.grecaptcha))n(s,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=zr.recaptchaEnterpriseScript;0!==t.length&&(t+=s),Br(t).then((()=>{n(s,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Wr(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const s=new qr(e);let i;try{i=await s.verify(n)}catch(o){i=await s.verify(n,!0)}const a=Object.assign({},t);return r?Object.assign(a,{captchaResp:i}):Object.assign(a,{captchaResponse:i}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Hr(e,t,n,r){var s;if(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await Wr(e,t,n,"getOobCode"===n);return r(e,s)}return r(e,t).catch((async s=>{if("auth/missing-recaptcha-token"===s.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await Wr(e,t,n,"getOobCode"===n);return r(e,s)}return Promise.reject(s)}))}function Kr(e,t,n){const r=Ur(e);On(r._canInitEmulator,r,"emulator-config-failed"),On(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const s=!!(null===n||void 0===n?void 0:n.disableWarnings),i=Gr(t),{host:a,port:o}=function(e){const t=Gr(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const e=s[1];return{host:e,port:Qr(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Qr(t)}}}(t),l=null===o?"":`:${o}`;r.config.emulator={url:`${i}//${a}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:o,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Gr(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Qr(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Yr{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Mn("not implemented")}_getIdTokenResponse(e){return Mn("not implemented")}_linkToIdToken(e,t){return Mn("not implemented")}_getReauthenticationResolver(e){return Mn("not implemented")}}async function Xr(e,t){return Qn(e,"POST","/v1/accounts:signUp",t)}async function Jr(e,t){return Xn(e,"POST","/v1/accounts:signInWithPassword",Gn(e,t))}async function Zr(e,t){return Qn(e,"POST","/v1/accounts:sendOobCode",Gn(e,t))}async function es(e,t){return Zr(e,t)}class ts extends Yr{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new ts(e,t,"password")}static _fromEmailAndCode(e,t){return new ts(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Hr(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Jr);case"emailLink":return async function(e,t){return Xn(e,"POST","/v1/accounts:signInWithEmailLink",Gn(e,t))}(e,{email:this._email,oobCode:this._password});default:An(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Hr(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Xr);case"emailLink":return async function(e,t){return Xn(e,"POST","/v1/accounts:signInWithEmailLink",Gn(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:An(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ns(e,t){return Xn(e,"POST","/v1/accounts:signInWithIdp",Gn(e,t))}class rs extends Yr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new rs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):An("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,s=_n(t,["providerId","signInMethod"]);if(!n||!r)return null;const i=new rs(n,r);return i.idToken=s.idToken||void 0,i.accessToken=s.accessToken||void 0,i.secret=s.secret,i.nonce=s.nonce,i.pendingToken=s.pendingToken||null,i}_getIdTokenResponse(e){return ns(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,ns(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ns(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=qe(t)}return e}}const ss={USER_NOT_FOUND:"user-not-found"};class is extends Yr{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new is({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new is({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Xn(e,"POST","/v1/accounts:signInWithPhoneNumber",Gn(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Xn(e,"POST","/v1/accounts:signInWithPhoneNumber",Gn(e,t));if(n.temporaryProof)throw tr(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Xn(e,"POST","/v1/accounts:signInWithPhoneNumber",Gn(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),ss)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:s}=e;return n||t||r||s?new is({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:s}):null}}class as{constructor(e){var t,n,r,s,i,a;const o=We(He(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);On(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(s=o.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(i=o.languageCode)&&void 0!==i?i:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=We(He(e)).link,n=t?We(He(t)).deep_link_id:null,r=We(He(e)).deep_link_id;return(r?We(He(r)).link:null)||r||n||t||e}(e);try{return new as(t)}catch(n){return null}}}class os{constructor(){this.providerId=os.PROVIDER_ID}static credential(e,t){return ts._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=as.parseLink(t);return On(n,"argument-error"),ts._fromEmailAndCode(e,n.code,n.tenantId)}}os.PROVIDER_ID="password",os.EMAIL_PASSWORD_SIGN_IN_METHOD="password",os.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class ls{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class cs extends ls{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class us extends cs{constructor(){super("facebook.com")}static credential(e){return rs._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return us.credential(t.oauthAccessToken)}catch(n){return null}}}us.FACEBOOK_SIGN_IN_METHOD="facebook.com",us.PROVIDER_ID="facebook.com";class ds extends cs{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return rs._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ds.credentialFromTaggedObject(e)}static credentialFromError(e){return ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return ds.credential(n,r)}catch(s){return null}}}ds.GOOGLE_SIGN_IN_METHOD="google.com",ds.PROVIDER_ID="google.com";class hs extends cs{constructor(){super("github.com")}static credential(e){return rs._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hs.credentialFromTaggedObject(e)}static credentialFromError(e){return hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return hs.credential(t.oauthAccessToken)}catch(n){return null}}}hs.GITHUB_SIGN_IN_METHOD="github.com",hs.PROVIDER_ID="github.com";class fs extends cs{constructor(){super("twitter.com")}static credential(e,t){return rs._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return fs.credentialFromTaggedObject(e)}static credentialFromError(e){return fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return fs.credential(n,r)}catch(s){return null}}}async function ms(e,t){return Xn(e,"POST","/v1/accounts:signUp",Gn(e,t))}fs.TWITTER_SIGN_IN_METHOD="twitter.com",fs.PROVIDER_ID="twitter.com";class ps{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const s=await vr._fromIdTokenResponse(e,n,r),i=gs(n);return new ps({user:s,providerId:i,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=gs(n);return new ps({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function gs(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class vs extends Ue{constructor(e,t,n,r){var s;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,vs.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new vs(e,t,n,r)}}function ys(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw vs._fromErrorAndOperation(e,n,t,r);throw n}))}async function xs(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await ur(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return ps._forOperation(e,"link",r)}async function bs(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(ln(r.app))return Promise.reject(Rn(r));const s="reauthenticate";try{const i=await ur(e,ys(r,s,t,e),n);On(i.idToken,r,"internal-error");const a=lr(i.idToken);On(a,r,"internal-error");const{sub:o}=a;return On(e.uid===o,r,"user-mismatch"),ps._forOperation(e,s,i)}catch(Jb){throw"auth/user-not-found"===(null===Jb||void 0===Jb?void 0:Jb.code)&&An(r,"user-mismatch"),Jb}}async function ws(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(ln(e.app))return Promise.reject(Rn(e));const r="signIn",s=await ys(e,r,t),i=await ps._fromIdTokenResponse(e,r,s);return n||await e._updateCurrentUser(i.user),i}async function ks(e,t){return ws(Ur(e),t)}function Ns(e,t,n){var r;On((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),On("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(On(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(On(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function Es(e){const t=Ur(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function _s(e,t,n){return ln(e.app)?Promise.reject(Rn(e)):ks(Qe(e),os.credential(t,n)).catch((async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&Es(e),t}))}async function Ss(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const s=Qe(e),i={idToken:await s.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},a=await ur(s,async function(e,t){return Qn(e,"POST","/v1/accounts:update",t)}(s.auth,i));s.displayName=a.displayName||null,s.photoURL=a.photoUrl||null;const o=s.providerData.find((e=>{let{providerId:t}=e;return"password"===t}));o&&(o.displayName=s.displayName,o.photoURL=s.photoURL),await s._updateTokensIfNecessary(a)}function js(e){return Qe(e).signOut()}new WeakMap;const Cs="__sak";class Ts{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Cs,"1"),this.storage.removeItem(Cs),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Is extends Ts{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Rr(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},s=this.storage.getItem(n);Dr()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Is.type="LOCAL";const As=Is;class Ps extends Ts{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Ps.type="SESSION";const Ds=Ps;class Rs{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Rs(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:s}=t.data,i=this.handlersMap[r];if(!(null===i||void 0===i?void 0:i.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(i).map((async e=>e(t.origin,s))),o=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Ls(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Rs.receivers=[];class Os{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,i;return new Promise(((a,o)=>{const l=Ls("",20);r.port1.start();const c=setTimeout((()=>{o(new Error("unsupported_event"))}),n);i={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),s=setTimeout((()=>{o(new Error("timeout"))}),3e3);break;case"done":clearTimeout(s),a(t.data.response);break;default:clearTimeout(c),clearTimeout(s),o(new Error("invalid_response"))}}},this.handlers.add(i),r.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{i&&this.removeMessageHandler(i)}))}}function Ms(){return window}function Fs(){return"undefined"!==typeof Ms().WorkerGlobalScope&&"function"===typeof Ms().importScripts}const Us="firebaseLocalStorageDb",Vs="firebaseLocalStorage",zs="fbase_key";class Bs{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function $s(e,t){return e.transaction([Vs],t?"readwrite":"readonly").objectStore(Vs)}function qs(){const e=indexedDB.open(Us,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Vs,{keyPath:zs})}catch(Jb){n(Jb)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Vs)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Us);return new Bs(e).toPromise()}(),t(await qs()))}))}))}async function Ws(e,t,n){const r=$s(e,!0).put({[zs]:t,value:n});return new Bs(r).toPromise()}function Hs(e,t){const n=$s(e,!0).delete(t);return new Bs(n).toPromise()}class Ks{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await qs()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(Jb){if(t++>3)throw Jb;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Fs()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rs._getInstance(Fs()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Os(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await qs();return await Ws(e,Cs,"1"),await Hs(e,Cs),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Ws(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=$s(e,!1).get(t),r=await new Bs(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Hs(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=$s(e,!1).getAll();return new Bs(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:s}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Ks.type="LOCAL";const Gs=Ks;$r("rcb"),new $n(3e4,6e4);const Qs="recaptcha";async function Ys(e,t,n){var r;const s=await n.verify();try{let i;if(On("string"===typeof s,e,"argument-error"),On(n.type===Qs,e,"argument-error"),i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){On("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Qn(e,"POST","/v2/accounts/mfaEnrollment:start",Gn(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,recaptchaToken:s}});return n.phoneSessionInfo.sessionInfo}{On("signin"===t.type,e,"internal-error");const n=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;On(n,e,"missing-multi-factor-info");const a=await function(e,t){return Qn(e,"POST","/v2/accounts/mfaSignIn:start",Gn(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:s}});return a.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Qn(e,"POST","/v1/accounts:sendVerificationCode",Gn(e,t))}(e,{phoneNumber:i.phoneNumber,recaptchaToken:s});return t}}finally{n._reset()}}class Xs{constructor(e){this.providerId=Xs.PROVIDER_ID,this.auth=Ur(e)}verifyPhoneNumber(e,t){return Ys(this.auth,e,Qe(t))}static credential(e,t){return is._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Xs.credentialFromTaggedObject(t)}static credentialFromError(e){return Xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?is._fromTokenResponse(n,r):null}}function Js(e,t){return t?xr(t):(On(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Xs.PROVIDER_ID="phone",Xs.PHONE_SIGN_IN_METHOD="phone";class Zs extends Yr{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ns(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ns(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ns(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ei(e){return ws(e.auth,new Zs(e),e.bypassAuthState)}function ti(e){const{auth:t,user:n}=e;return On(n,t,"internal-error"),bs(n,new Zs(e),e.bypassAuthState)}async function ni(e){const{auth:t,user:n}=e;return On(n,t,"internal-error"),xs(n,new Zs(e),e.bypassAuthState)}class ri{constructor(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(Jb){this.reject(Jb)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:s,error:i,type:a}=e;if(i)return void this.reject(i);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(Jb){this.reject(Jb)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ei;case"linkViaPopup":case"linkViaRedirect":return ni;case"reauthViaPopup":case"reauthViaRedirect":return ti;default:An(this.auth,"internal-error")}}resolve(e){Fn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const si=new $n(2e3,1e4);class ii extends ri{constructor(e,t,n,r,s){super(e,t,r,s),this.provider=n,this.authWindow=null,this.pollId=null,ii.currentPopupAction&&ii.currentPopupAction.cancel(),ii.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return On(e,this.auth,"internal-error"),e}async onExecution(){Fn(1===this.filter.length,"Popup operations only handle one event");const e=Ls();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Pn(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Pn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ii.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Pn(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,si.get())};e()}}ii.currentPopupAction=null;const ai=new Map;class oi extends ri{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=ai.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=ui(t),r=ci(e);if(!await r._isAvailable())return!1;const s="true"===await r._get(n);return await r._remove(n),s}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(Jb){e=()=>Promise.reject(Jb)}ai.set(this.auth._key(),e)}return this.bypassAuthState||ai.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function li(e,t){ai.set(e._key(),t)}function ci(e){return xr(e._redirectPersistence)}function ui(e){return kr("pendingRedirect",e.config.apiKey,e.name)}async function di(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(ln(e.app))return Promise.reject(Rn(e));const r=Ur(e),s=Js(r,t),i=new oi(r,s,n),a=await i.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class hi{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mi(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!mi(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Pn(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(fi(e))}saveEventToCache(e){this.cachedEventUids.add(fi(e)),this.lastProcessedEventTime=Date.now()}}function fi(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function mi(e){let{type:t,error:n}=e;return"unknown"===t&&"auth/no-auth-event"===(null===n||void 0===n?void 0:n.code)}const pi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gi=/^https?/;async function vi(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Qn(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(yi(r))return}catch(n){}An(e,"unauthorized-domain")}function yi(e){const t=Un(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const s=new URL(e);return""===s.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&s.hostname===r}if(!gi.test(n))return!1;if(pi.test(e))return r===e;const s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}const xi=new $n(3e4,6e4);function bi(){const e=Ms().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function wi(e){return new Promise(((t,n)=>{var r,s,i;function a(){bi(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{bi(),n(Pn(e,"network-request-failed"))},timeout:xi.get()})}if(null===(s=null===(r=Ms().gapi)||void 0===r?void 0:r.iframes)||void 0===s?void 0:s.Iframe)t(gapi.iframes.getContext());else{if(!(null===(i=Ms().gapi)||void 0===i?void 0:i.load)){const t=$r("iframefcb");return Ms()[t]=()=>{gapi.load?a():n(Pn(e,"network-request-failed"))},Br(`${zr.gapiScript}?onload=${t}`).catch((e=>n(e)))}a()}})).catch((e=>{throw ki=null,e}))}let ki=null;const Ni=new $n(5e3,15e3),Ei={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_i=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Si(e){const t=e.config;On(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?qn(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:dn},s=_i.get(e.config.apiHost);s&&(r.eid=s);const i=e._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${qe(r).slice(1)}`}async function ji(e){const t=await function(e){return ki=ki||wi(e),ki}(e),n=Ms().gapi;return On(n,e,"internal-error"),t.open({where:document.body,url:Si(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ei,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const s=Pn(e,"network-request-failed"),i=Ms().setTimeout((()=>{r(s)}),Ni.get());function a(){Ms().clearTimeout(i),n(t)}t.ping(a).then(a,(()=>{r(s)}))}))))}const Ci={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ti{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(Jb){}}}function Ii(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const i=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},Ci),{width:r.toString(),height:s.toString(),top:i,left:a}),c=Oe().toLowerCase();n&&(o=jr(c)?"_blank":n),_r(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return`${e}${n}=${r},`}),"");if(function(){var e;return Pr(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new Ti(null);const d=window.open(t||"",o,u);On(d,e,"popup-blocked");try{d.focus()}catch(Jb){}return new Ti(d)}const Ai="__/auth/handler",Pi="emulator/auth/handler",Di=encodeURIComponent("fac");async function Ri(e,t,n,r,s,i){On(e.config.authDomain,e,"auth-domain-config-required"),On(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:dn,eventId:s};if(t instanceof ls){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(i||{}))a[e]=t}if(t instanceof cs){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?`#${Di}=${encodeURIComponent(l)}`:"";return`${function(e){let{config:t}=e;if(!t.emulator)return`https://${t.authDomain}/${Ai}`;return qn(t,Pi)}(e)}?${qe(o).slice(1)}${c}`}const Li="webStorageSupport";const Oi=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ds,this._completeRedirectFn=di,this._overrideRedirectResult=li}async _openPopup(e,t,n,r){var s;Fn(null===(s=this.eventManagers[e._key()])||void 0===s?void 0:s.manager,"_initialize() not called before _openPopup()");return Ii(e,await Ri(e,t,n,Un(),r),Ls())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Ms().location.href=e}(await Ri(e,t,n,Un(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Fn(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await ji(e),n=new hi(e);return t.register("authEvent",(t=>{On(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Li,{type:Li},(n=>{var r;const s=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Li];void 0!==s&&t(!!s),An(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=vi(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Rr()||Sr()||Pr()}};var Mi="@firebase/auth",Fi="1.7.9";class Ui{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){On(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Vi=De("authIdTokenMaxAge")||300;let zi=null;var Bi;!function(e){zr=e}({loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Pn("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),Bi="Browser",an(new Ye("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;On(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:Bi,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Lr(Bi)},c=new Fr(r,s,i,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(xr);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),an(new Ye("auth-internal",(e=>(e=>new Ui(e))(Ur(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),mn(Mi,Fi,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Bi)),mn(Mi,Fi,"esm2017");var $i,qi,Wi="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Hi={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var s=0;16>s;++s)r[s]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],s=e.g[2];var i=e.g[3],a=t+(i^n&(s^i))+r[0]+3614090360&4294967295;a=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=n+(a<<7&4294967295|a>>>25))+((a=i+(s^t&(n^s))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=s+(n^i&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^s&(i^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^n&(s^i))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=i+(s^t&(n^s))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=s+(n^i&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^s&(i^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^n&(s^i))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=i+(s^t&(n^s))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=s+(n^i&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^s&(i^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^n&(s^i))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=i+(s^t&(n^s))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=s+(n^i&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^s&(i^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^i&(n^s))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^s&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=s+(t^n&(i^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(s^i))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(s^i&(n^s))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^s&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=s+(t^n&(i^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(s^i))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(s^i&(n^s))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^s&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=s+(t^n&(i^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(s^i))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(s^i&(n^s))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^s&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=s+(t^n&(i^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(s^i))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^s^i)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^s)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=s+(i^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(s^i^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^s^i)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^s)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=s+(i^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(s^i^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^s^i)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^s)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=s+(i^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(s^i^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^s^i)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^s)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=s+(i^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(s^i^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(s^(n|~i))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~s))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=s+(t^(i|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(i^(s|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(s^(n|~i))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~s))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=s+(t^(i|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(i^(s|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(s^(n|~i))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~s))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=s+(t^(i|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(i^(s|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((i=(t=n+((a=t+(s^(n|~i))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~s))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((s=i+((a=s+(t^(i|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(s+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+s&4294967295,e.g[3]=e.g[3]+i&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,s=e.length-1;0<=s;s--){var i=0|e[s];r&&i==t||(n[s]=i,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var s=Array(arguments.length-2),i=2;i<arguments.length;i++)s[i-2]=arguments[i];return t.prototype[n].apply(e,s)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,s=this.B,i=this.h,a=0;a<t;){if(0==i)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(s[i++]=e.charCodeAt(a++),i==this.blockSize){n(this,s),i=0;break}}else for(;a<t;)if(s[i++]=e[a++],i==this.blockSize){n(this,s),i=0;break}}this.h=i,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var s={};function i(e){return-128<=e&&128>e?function(e,t){var n=s;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return o;if(0>e)return h(a(-e));for(var t=[],n=1,s=0;e>=n;s++)t[s]=e/n|0,n*=4294967296;return new r(t,0)}var o=i(0),l=i(1),c=i(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],s=0;s<t;s++)n[s]=~e.g[s];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function m(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function p(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new p(o,o);if(d(e))return t=g(h(e),t),new p(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new p(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=v(n),r=v(r);var s=y(n,1),i=y(r,1);for(r=y(r,2),n=y(n,2);!u(r);){var c=i.add(r);0>=c.l(e)&&(s=s.add(n),i=c),r=y(r,1),n=y(n,1)}return t=f(e,s.j(t)),new p(s,t)}for(s=o;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(i=a(n)).j(t);d(c)||0<c.l(e);)c=(i=a(n-=r)).j(t);u(i)&&(i=l),s=s.add(i),e=f(e,c)}return new p(s,e)}function v(e){for(var t=e.g.length+1,n=[],s=0;s<t;s++)n[s]=e.i(s)<<1|e.i(s-1)>>>31;return new r(n,e.h)}function y(e,t){var n=t>>5;t%=32;for(var s=e.g.length-n,i=[],a=0;a<s;a++)i[a]=0<t?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new r(i,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=a(Math.pow(e,6)),n=this,r="";;){var s=g(n,t).g,i=((0<(n=f(n,s.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=s))return i+r;for(;6>i.length;)i="0"+i;r=i+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0,i=0;i<=t;i++){var a=s+(65535&this.i(i))+(65535&e.i(i)),o=(a>>>16)+(this.i(i)>>>16)+(e.i(i)>>>16);s=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return o;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return a(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],s=0;s<2*t;s++)n[s]=0;for(s=0;s<this.g.length;s++)for(var i=0;i<e.g.length;i++){var l=this.i(s)>>>16,f=65535&this.i(s),p=e.i(i)>>>16,g=65535&e.i(i);n[2*s+2*i]+=f*g,m(n,2*s+2*i),n[2*s+2*i+1]+=l*g,m(n,2*s+2*i+1),n[2*s+2*i+1]+=f*p,m(n,2*s+2*i+1),n[2*s+2*i+2]+=l*p,m(n,2*s+2*i+2)}for(s=0;s<t;s++)n[s]=n[2*s+1]<<16|n[2*s];for(s=t;s<2*t;s++)n[s]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0;s<t;s++)n[s]=this.i(s)&e.i(s);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0;s<t;s++)n[s]=this.i(s)|e.i(s);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0;s<t;s++)n[s]=this.i(s)^e.i(s);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,qi=Hi.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=a,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=a(Math.pow(n,8)),s=o,i=0;i<t.length;i+=8){var l=Math.min(8,t.length-i),c=parseInt(t.substring(i,i+l),n);8>l?(l=a(Math.pow(n,l)),s=s.j(l).add(a(c))):s=(s=s.j(r)).add(a(c))}return s},$i=Hi.Integer=r}).apply("undefined"!==typeof Wi?Wi:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Ki,Gi,Qi,Yi,Xi,Ji,Zi,ea,ta="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},na={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof ta&&ta];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var s=n;e=e.split(".");for(var i=0;i<e.length-1;i++){var a=e[i];if(!(a in s))break e;s=s[a]}(r=r(i=s[e=e[e.length-1]]))!=i&&null!=r&&t(s,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,s={next:function(){if(!r&&n<e.length){var s=n++;return{value:t(s,e[s]),done:!1}}return r=!0,{done:!0,value:void 0}}};return s[Symbol.iterator]=function(){return s},s}(this,(function(e,t){return t}))}}));var r=r||{},s=this||self;function i(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var s=Array(arguments.length-2),i=2;i<arguments.length;i++)s[i-2]=arguments[i];return t.prototype[n].apply(e,s)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(i(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let s=0;s<r;s++)e[n+s]=t[s]}else e.push(t)}}function m(e){return/^[\s\xa0]*$/.test(e)}function p(){var e=s.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var v=-1!=p().indexOf("Gecko")&&!(-1!=p().toLowerCase().indexOf("webkit")&&-1==p().indexOf("Edge"))&&!(-1!=p().indexOf("Trident")||-1!=p().indexOf("MSIE"))&&-1==p().indexOf("Edge");function y(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function x(e){const t={};for(const n in e)t[n]=e[n];return t}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(e,t){let n,r;for(let s=1;s<arguments.length;s++){for(n in r=arguments[s],r)e[n]=r[n];for(let t=0;t<b.length;t++)n=b[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function k(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function N(e){s.setTimeout((()=>{throw e}),0)}function E(){var e=T;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var _=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new S),(e=>e.reset()));class S{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let j,C=!1,T=new class{constructor(){this.h=this.g=null}add(e,t){const n=_.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},I=()=>{const e=s.Promise.resolve(void 0);j=()=>{e.then(A)}};var A=()=>{for(var e;e=E();){try{e.h.call(e.g)}catch(hw){N(hw)}var t=_;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}C=!1};function P(){this.s=this.s,this.C=this.C}function D(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}P.prototype.s=!1,P.prototype.ma=function(){this.s||(this.s=!0,this.N())},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},D.prototype.h=function(){this.defaultPrevented=!0};var R=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};s.addEventListener("test",e,t),s.removeEventListener("test",e,t)}catch(hw){}return e}();function L(e,t){if(D.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(v){e:{try{g(t.nodeName);var s=!0;break e}catch(i){}s=!1}s||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:O[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&L.aa.h.call(this)}}d(L,D);var O={2:"touch",3:"pen",4:"mouse"};L.prototype.h=function(){L.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var M="closure_listenable_"+(1e6*Math.random()|0),F=0;function U(e,t,n,r,s){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=s,this.key=++F,this.da=this.fa=!1}function V(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function z(e){this.src=e,this.g={},this.h=0}function B(e,t){var n=t.type;if(n in e.g){var r,s=e.g[n],i=Array.prototype.indexOf.call(s,t,void 0);(r=0<=i)&&Array.prototype.splice.call(s,i,1),r&&(V(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function $(e,t,n,r){for(var s=0;s<e.length;++s){var i=e[s];if(!i.da&&i.listener==t&&i.capture==!!n&&i.ha==r)return s}return-1}z.prototype.add=function(e,t,n,r,s){var i=e.toString();(e=this.g[i])||(e=this.g[i]=[],this.h++);var a=$(e,t,r,s);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new U(t,this.src,i,!!r,s)).fa=n,e.push(t)),t};var q="closure_lm_"+(1e6*Math.random()|0),W={};function H(e,t,n,r,s){if(r&&r.once)return G(e,t,n,r,s);if(Array.isArray(t)){for(var i=0;i<t.length;i++)H(e,t[i],n,r,s);return null}return n=te(n),e&&e[M]?e.K(t,n,a(r)?!!r.capture:!!r,s):K(e,t,n,!1,r,s)}function K(e,t,n,r,s,i){if(!t)throw Error("Invalid event type");var o=a(s)?!!s.capture:!!s,l=Z(e);if(l||(e[q]=l=new z(e)),(n=l.add(t,n,r,o,i)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=J;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)R||(s=o),void 0===s&&(s=!1),e.addEventListener(t.toString(),r,s);else if(e.attachEvent)e.attachEvent(X(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function G(e,t,n,r,s){if(Array.isArray(t)){for(var i=0;i<t.length;i++)G(e,t[i],n,r,s);return null}return n=te(n),e&&e[M]?e.L(t,n,a(r)?!!r.capture:!!r,s):K(e,t,n,!0,r,s)}function Q(e,t,n,r,s){if(Array.isArray(t))for(var i=0;i<t.length;i++)Q(e,t[i],n,r,s);else r=a(r)?!!r.capture:!!r,n=te(n),e&&e[M]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=$(i=e.g[t],n,r,s))&&(V(i[n]),Array.prototype.splice.call(i,n,1),0==i.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=$(t,n,r,s)),(n=-1<e?t[e]:null)&&Y(n))}function Y(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[M])B(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(X(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(B(n,e),0==n.h&&(n.src=null,t[q]=null)):V(e)}}}function X(e){return e in W?W[e]:W[e]="on"+e}function J(e,t){if(e.da)e=!0;else{t=new L(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&Y(e),e=n.call(r,t)}return e}function Z(e){return(e=e[q])instanceof z?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){P.call(this),this.i=new z(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new D(t,e);else if(t instanceof D)t.target=t.target||e;else{var s=t;w(t=new D(r,e),s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var a=t.g=n[i];s=se(a,r,!0,t)&&s}if(s=se(a=t.g=e,r,!0,t)&&s,s=se(a,r,!1,t)&&s,n)for(i=0;i<n.length;i++)s=se(a=t.g=n[i],r,!1,t)&&s}function se(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var s=!0,i=0;i<t.length;++i){var a=t[i];if(a&&!a.da&&a.capture==n){var o=a.listener,l=a.ha||a.src;a.fa&&B(e.i,a),s=!1!==o.call(l,r)&&s}}return s&&!r.defaultPrevented}function ie(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:s.setTimeout(e,t||0)}function ae(e){e.g=ie((()=>{e.g=null,e.i&&(e.i=!1,ae(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,P),ne.prototype[M]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Q(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)V(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class oe extends P{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ae(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){P.call(this),this.h=e,this.g={}}d(le,P);var ce=[];function ue(e){y(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Y(e)}),e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=s.JSON.stringify,he=s.JSON.parse,fe=class{stringify(e){return s.JSON.stringify(e,void 0)}parse(e){return s.JSON.parse(e,void 0)}};function me(){}function pe(e){return e.h||(e.h=e.i())}function ge(){}me.prototype.h=null;var ve={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ye(){D.call(this,"d")}function xe(){D.call(this,"c")}d(ye,D),d(xe,D);var be={},we=null;function ke(){return we=we||new ne}function Ne(e){D.call(this,be.La,e)}function Ee(e){const t=ke();re(t,new Ne(t))}function _e(e,t){D.call(this,be.STAT_EVENT,e),this.stat=t}function Se(e){const t=ke();re(t,new _e(t,e))}function je(e,t){D.call(this,be.Ma,e),this.size=t}function Ce(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return s.setTimeout((function(){e()}),t)}function Te(){this.g=!0}function Ie(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(var a=1;a<s.length;a++)s[a]=""}}}return de(n)}catch(o){return t}}(e,n)+(r?" "+r:"")}))}be.La="serverreachability",d(Ne,D),be.STAT_EVENT="statevent",d(_e,D),be.Ma="timingevent",d(je,D),Te.prototype.xa=function(){this.g=!1},Te.prototype.info=function(){};var Ae,Pe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},De={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Re(){}function Le(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Oe}function Oe(){this.i=null,this.g="",this.h=!1}d(Re,me),Re.prototype.g=function(){return new XMLHttpRequest},Re.prototype.i=function(){return{}},Ae=new Re;var Me={},Fe={};function Ue(e,t,n){e.L=1,e.v=dt(at(t)),e.m=n,e.P=!0,Ve(e,null)}function Ve(e,t){e.F=Date.now(),$e(e),e.A=at(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),Et(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Oe,e.g=hn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new oe(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var s="readystatechange";Array.isArray(s)||(s&&(ce[0]=s.toString()),s=ce);for(var i=0;i<s.length;i++){var a=H(n,s[i],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.H?x(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ee(),function(e,t,n,r,s,i){e.info((function(){if(e.g)if(i)for(var a="",o=i.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");a=2<=d.length&&"type"==d[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+t+"\n"+n+"\n"+a}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function ze(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Be(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Fe:(n=Number(t.substring(n,r)),isNaN(n)?Me:(r+=1)+n>t.length?Fe:(t=t.slice(r,r+n),e.C=r+n,t))}function $e(e){e.S=Date.now()+e.I,qe(e,e.I)}function qe(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ce(c(e.ba,e),t)}function We(e){e.B&&(s.clearTimeout(e.B),e.B=null)}function He(e){0==e.j.G||e.J||on(e.j,e)}function Ke(e){We(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Ge(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch($b){r=null}if(Array.isArray(r)&&3==r.length){var s=r;if(0==s[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;an(n),Qt(n)}nn(n),Se(18)}}else n.za=s[1],0<n.za-n.T&&37500>s[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ce(c(n.Za,n),6e3));if(1>=Je(n.h)&&n.ca){try{n.ca()}catch($b){}n.ca=void 0}}else cn(n,11)}else if((e.K||n.g==e)&&an(n),!m(t))for(s=n.Da.g.parse(t),t=0;t<s.length;t++){let c=s[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const s=c[4];null!=s&&(n.Aa=s,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var i=r.h;i.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(i.j=i.l,i.g=new Set,i.h&&(et(i,i.h),i.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var a=e;if((r=n).qa=dn(r,r.J?r.ia:null,r.W),a.K){tt(r.h,a);var o=a,l=r.L;l&&(o.I=l),o.B&&(We(o),$e(o)),r.g=a}else tn(r);0<n.i.length&&Xt(n)}else"stop"!=c[0]&&"close"!=c[0]||cn(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?cn(n,7):Gt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Ee()}catch($b){}}Le.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==qt(e)?t.j():this.Y(e)},Le.prototype.Y=function(e){try{if(e==this.g)e:{const h=qt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||Wt(this.g)))){this.J||4!=h||7==t||Ee(),We(this);var n=this.g.Z();this.X=n;t:if(ze(this)){var r=Wt(this.g);e="";var i=r.length,a=4==qt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ke(this),He(this);var o="";break t}this.h.i=new s.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(a&&t==i-1)});r.length=0,this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.oa();if(this.o=200==n,function(e,t,n,r,s,i,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+t+"\n"+n+"\n"+i+" "+a}))}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!m(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Se(12),Ke(this),He(this);break e}Ie(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ge(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<o.length;){if(e=Be(this,o),e==Fe){4==h&&(this.s=4,Se(14),n=!1),Ie(this.i,this.l,null,"[Incomplete Response]");break}if(e==Me){this.s=4,Se(15),Ie(this.i,this.l,o,"[Invalid Chunk]"),n=!1;break}Ie(this.i,this.l,e,null),Ge(this,e)}if(ze(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=o.length||this.h.h||(this.s=1,Se(16),n=!1),this.o=this.o&&n,n){if(0<o.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+o.length),rn(d),d.M=!0,Se(11))}}else Ie(this.i,this.l,o,"[Invalid Chunked Response]"),Ke(this),He(this)}else Ie(this.i,this.l,o,null),Ge(this,o);4==h&&Ke(this),this.o&&!this.J&&(4==h?on(this.j,this):(this.o=!1,$e(this)))}else(function(e){const t={};e=(e.g&&2<=qt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(m(e[r]))continue;var n=k(e[r]);const s=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const i=t[s]||[];t[s]=i,i.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,Se(12)):(this.s=0,Se(13)),Ke(this),He(this)}}}catch(ra){}},Le.prototype.cancel=function(){this.J=!0,Ke(this)},Le.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(Ee(),Se(17)),Ke(this),this.s=2,He(this)):qe(this,this.S-e)};var Qe=class{constructor(e,t){this.g=e,this.map=t}};function Ye(e){this.l=e||10,s.PerformanceNavigationTiming?e=0<(e=s.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xe(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Je(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(i(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(i(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(i(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),s=r.length,a=0;a<s;a++)t.call(void 0,r[a],n&&n[a],e)}Ye.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var st=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function it(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof it){this.h=e.h,ot(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new bt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(st))?(this.h=!1,ot(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),lt(this,t[4]),this.l=ht(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new bt(null,this.h))}function at(e){return new it(e)}function ot(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof bt?(e.i=t,function(e,t){t&&!e.j&&(wt(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(kt(this,t),Et(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,yt)),e.i=new bt(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function dt(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,mt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function mt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}it.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,pt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,pt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?vt:gt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,xt)),e.join("")};var pt=/[#\/\?@]/g,gt=/[#\?:]/g,vt=/[#\?]/g,yt=/[#\?@]/g,xt=/#/g;function bt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function wt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),s=null;if(0<=r){var i=e[n].substring(0,r);s=e[n].substring(r+1)}else i=e[n];t(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function kt(e,t){wt(e),t=_t(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Nt(e,t){return wt(e),t=_t(e,t),e.g.has(t)}function Et(e,t,n){kt(e,t),0<n.length&&(e.i=null,e.g.set(_t(e,t),h(n)),e.h+=n.length)}function _t(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function St(e,t,n,r,s){try{s&&(s.onload=null,s.onerror=null,s.onabort=null,s.ontimeout=null),r(n)}catch(i){}}function jt(){this.g=new fe}function Ct(e,t,n){const r=n||"";try{rt(e,(function(e,n){let s=e;a(e)&&(s=de(e)),t.push(r+n+"="+encodeURIComponent(s))}))}catch(Jb){throw t.push(r+"type="+encodeURIComponent("_badmap")),Jb}}function Tt(e){this.l=e.Ub||null,this.j=e.eb||!1}function It(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function At(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Pt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Dt(e)}function Dt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Rt(e){let t="";return y(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Lt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Rt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Ot(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=bt.prototype).add=function(e,t){wt(this),this.i=null,e=_t(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){wt(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){wt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const s=e[r];for(let e=0;e<s.length;e++)n.push(t[r])}return n},e.V=function(e){wt(this);let t=[];if("string"===typeof e)Nt(this,e)&&(t=t.concat(this.g.get(_t(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return wt(this),this.i=null,Nt(this,e=_t(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const i=encodeURIComponent(String(r)),a=this.V(r);for(r=0;r<a.length;r++){var s=i;""!==a[r]&&(s+="="+encodeURIComponent(String(a[r]))),e.push(s)}}return this.i=e.join("&")},d(Tt,me),Tt.prototype.g=function(){return new It(this.l,this.j)},Tt.prototype.i=function(e){return function(){return e}}({}),d(It,ne),(e=It.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Dt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||s).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Pt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Dt(this)),this.g&&(this.readyState=3,Dt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof s.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;At(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Pt(this):Dt(this),3==this.readyState&&At(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Pt(this))},e.Qa=function(e){this.g&&(this.response=e,Pt(this))},e.ga=function(){this.g&&Pt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(It.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Ot,ne);var Mt=/^https?$/i,Ft=["POST","PUT"];function Ut(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Vt(e),Bt(e)}function Vt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function zt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=qt(e)||2!=e.Z()))if(e.u&&4==qt(e))ie(e.Ea,0,e);else if(re(e,"readystatechange"),4==qt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var i;if(i=0===r){var a=String(e.D).match(st)[1]||null;!a&&s.self&&s.self.location&&(a=s.self.location.protocol.slice(0,-1)),i=!Mt.test(a?a.toLowerCase():"")}n=i}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var o=2<qt(e)?e.g.statusText:""}catch(l){o=""}e.l=o+" ["+e.Z()+"]",Vt(e)}}finally{Bt(e)}}}function Bt(e,t){if(e.g){$t(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(Jb){}}}function $t(e){e.I&&(s.clearTimeout(e.I),e.I=null)}function qt(e){return e.g?e.g.readyState:0}function Wt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Ht(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Kt(e){this.Aa=0,this.i=[],this.j=new Te,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ht("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ht("baseRetryDelayMs",5e3,e),this.cb=Ht("retryDelaySeedMs",1e4,e),this.Wa=Ht("forwardChannelMaxRetries",2,e),this.wa=Ht("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Ye(e&&e.concurrentRequestLimit),this.Da=new jt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Gt(e){if(Yt(e),3==e.G){var t=e.U++,n=at(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),Zt(e,n),(t=new Le(e,e.j,t)).L=2,t.v=dt(at(n)),n=!1,s.navigator&&s.navigator.sendBeacon)try{n=s.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&s.Image&&((new Image).src=t.v,n=!0),n||(t.g=hn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),$e(t)}un(e)}function Qt(e){e.g&&(rn(e),e.g.cancel(),e.g=null)}function Yt(e){Qt(e),e.u&&(s.clearTimeout(e.u),e.u=null),an(e),e.h.cancel(),e.s&&("number"===typeof e.s&&s.clearTimeout(e.s),e.s=null)}function Xt(e){if(!Xe(e.h)&&!e.s){e.s=!0;var t=e.Ga;j||I(),C||(j(),C=!0),T.add(t,e),e.B=0}}function Jt(e,t){var n;n=t?t.l:e.U++;const r=at(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),Zt(e,r),e.m&&e.o&&Lt(r,e.m,e.o),n=new Le(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=en(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Ue(n,r,t)}function Zt(e,t){e.H&&y(e.H,(function(e,n){ut(t,n,e)})),e.l&&rt({},(function(e,n){ut(t,n,e)}))}function en(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var s=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=s[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let i=!0;for(let a=0;a<n;a++){let n=s[a].g;const o=s[a].map;if(n-=t,0>n)t=Math.max(0,s[a].g-100),i=!1;else try{Ct(o,e,"req"+n+"_")}catch(ra){r&&r(o)}}if(i){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function tn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;j||I(),C||(j(),C=!0),T.add(t,e),e.v=0}}function nn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ce(c(e.Fa,e),ln(e,e.v)),e.v++,!0)}function rn(e){null!=e.A&&(s.clearTimeout(e.A),e.A=null)}function sn(e){e.g=new Le(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=at(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),Zt(e,t),e.m&&e.o&&Lt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=dt(at(t)),n.m=null,n.P=!0,Ve(n,e)}function an(e){null!=e.C&&(s.clearTimeout(e.C),e.C=null)}function on(e,t){var n=null;if(e.g==t){an(e),rn(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var s=e.B;re(r=ke(),new je(r,n)),Xt(e)}else tn(e);else if(3==(s=t.s)||0==s&&0<t.X||!(1==r&&function(e,t){return!(Je(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Ce(c(e.Ga,e,t),ln(e,e.B)),e.B++,!0))}(e,t)||2==r&&nn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),s){case 1:cn(e,5);break;case 4:cn(e,10);break;case 3:cn(e,6);break;default:cn(e,2)}}function ln(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function cn(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new it(r||"//www.google.com/images/cleardot.gif"),s.location&&"http"==s.location.protocol||ot(r,"https"),dt(r),t?function(e,t){const n=new Te;if(s.Image){const r=new Image;r.onload=u(St,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(St,n,"TestLoadImage: error",!1,t,r),r.onabort=u(St,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(St,n,"TestLoadImage: timeout",!1,t,r),s.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Te;const n=new AbortController,r=setTimeout((()=>{n.abort(),St(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?St(0,0,!0,t):St(0,0,!1,t)})).catch((()=>{clearTimeout(r),St(0,0,!1,t)}))}(r.toString(),n)}else Se(2);e.G=0,e.l&&e.l.sa(t),un(e),Yt(e)}function un(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function dn(e,t,n){var r=n instanceof it?at(n):new it(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var i=s.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new it(null);r&&ot(a,r),t&&(a.g=t),i&&lt(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),Zt(e,r),r}function hn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Ot(new Tt({eb:n})):new Ot(e.pa)).Ha(e.J),t}function fn(){}function mn(){}function pn(e,t){ne.call(this),this.g=new Kt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!m(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!m(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new yn(this)}function gn(e){ye.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function vn(){xe.call(this),this.status=1}function yn(e){this.g=e}(e=Ot.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ae.g(),this.v=this.o?pe(this.o):pe(Ae),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(a){return void Ut(this,a)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=s.FormData&&e instanceof s.FormData,!(0<=Array.prototype.indexOf.call(Ft,t,void 0))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$t(this),this.u=!0,this.g.send(e),this.u=!1}catch(a){Ut(this,a)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),Bt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bt(this,!0)),Ot.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?zt(this):this.bb())},e.bb=function(){zt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<qt(this)?this.g.status:-1}catch(e){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Kt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Se(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=dn(this,null,this.W),Xt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const s=new Le(this,this.j,e);let i=this.o;if(this.S&&(i?(i=x(i),w(i,this.S)):i=this.S),null!==this.m||this.O||(s.H=i,i=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=en(this,s,t),ut(n=at(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),Zt(this,n),i&&(this.O?t="headers="+encodeURIComponent(String(Rt(i)))+"&"+t:this.m&&Lt(n,this.m,i)),et(this.h,s),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),s.T=!0,Ue(s,n,null)):Ue(s,n,t),this.G=2}}else 3==this.G&&(e?Jt(this,e):0==this.i.length||Xe(this.h)||Jt(this))},e.Fa=function(){if(this.u=null,sn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ce(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Se(10),Qt(this),sn(this))},e.Za=function(){null!=this.C&&(this.C=null,Qt(this),nn(this),Se(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Se(2)):(this.j.info("Failed to ping google.com"),Se(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=fn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},mn.prototype.g=function(e,t){return new pn(e,t)},d(pn,ne),pn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){Gt(this.g)},pn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new Qe(t.Ya++,e)),3==t.G&&Xt(t)},pn.prototype.N=function(){this.g.l=null,delete this.j,Gt(this.g),delete this.g,pn.aa.N.call(this)},d(gn,ye),d(vn,xe),d(yn,fn),yn.prototype.ua=function(){re(this.g,"a")},yn.prototype.ta=function(e){re(this.g,new gn(e))},yn.prototype.sa=function(e){re(this.g,new vn)},yn.prototype.ra=function(){re(this.g,"b")},mn.prototype.createWebChannel=mn.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,ea=na.createWebChannelTransport=function(){return new mn},Zi=na.getStatEventTarget=function(){return ke()},Ji=na.Event=be,Xi=na.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Pe.NO_ERROR=0,Pe.TIMEOUT=8,Pe.HTTP_ERROR=6,Yi=na.ErrorCode=Pe,De.COMPLETE="complete",Qi=na.EventType=De,ge.EventType=ve,ve.OPEN="a",ve.CLOSE="b",ve.ERROR="c",ve.MESSAGE="d",ne.prototype.listen=ne.prototype.K,Gi=na.WebChannel=ge,na.FetchXmlHttpFactory=Tt,Ot.prototype.listenOnce=Ot.prototype.L,Ot.prototype.getLastError=Ot.prototype.Ka,Ot.prototype.getLastErrorCode=Ot.prototype.Ba,Ot.prototype.getStatus=Ot.prototype.Z,Ot.prototype.getResponseJson=Ot.prototype.Oa,Ot.prototype.getResponseText=Ot.prototype.oa,Ot.prototype.send=Ot.prototype.ea,Ot.prototype.setWithCredentials=Ot.prototype.Ha,Ki=na.XhrIo=Ot}).apply("undefined"!==typeof ta?ta:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const ra="@firebase/firestore";class sa{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}sa.UNAUTHENTICATED=new sa(null),sa.GOOGLE_CREDENTIALS=new sa("google-credentials-uid"),sa.FIRST_PARTY=new sa("first-party-uid"),sa.MOCK_USER=new sa("mock-user");let ia="10.14.0";const aa=new at("@firebase/firestore");function oa(){return aa.logLevel}function la(e){if(aa.logLevel<=tt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const s=n.map(da);aa.debug(`Firestore (${ia}): ${e}`,...s)}}function ca(e){if(aa.logLevel<=tt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const s=n.map(da);aa.error(`Firestore (${ia}): ${e}`,...s)}}function ua(e){if(aa.logLevel<=tt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const s=n.map(da);aa.warn(`Firestore (${ia}): ${e}`,...s)}}function da(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(fw){return e}}function ha(){const e=`FIRESTORE (${ia}) INTERNAL ASSERTION FAILED: `+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state");throw ca(e),new Error(e)}function fa(e,t){e||ha()}function ma(e,t){return e}const pa={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ga extends Ue{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class va{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class ya{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class xa{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(sa.UNAUTHENTICATED)))}shutdown(){}}class ba{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class wa{constructor(e){this.t=e,this.currentUser=sa.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){fa(void 0===this.o);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let s=new va;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new va,e.enqueueRetryable((()=>r(this.currentUser)))};const i=()=>{const t=s;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},a=e=>{la("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),i())};this.t.onInit((e=>a(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(la("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new va)}}),0),i()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(la("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(fa("string"==typeof t.accessToken),new ya(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return fa(null===e||"string"==typeof e),new sa(e)}}class ka{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=sa.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Na{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new ka(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(sa.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Ea{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _a{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){fa(void 0===this.o);const n=e=>{null!=e.error&&la("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.R;return this.R=e.token,la("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{la("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):la("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(fa("string"==typeof e.token),this.R=e.token,new Ea(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Sa(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class ja{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Sa(40);for(let s=0;s<r.length;++s)n.length<20&&r[s]<t&&(n+=e.charAt(r[s]%62))}return n}}function Ca(e,t){return e<t?-1:e>t?1:0}function Ta(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}class Ia{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ga(pa.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ga(pa.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ga(pa.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ga(pa.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ia.fromMillis(Date.now())}static fromDate(e){return Ia.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Ia(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ca(this.nanoseconds,e.nanoseconds):Ca(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Aa{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Aa(e)}static min(){return new Aa(new Ia(0,0))}static max(){return new Aa(new Ia(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Pa{constructor(e,t,n){void 0===t?t=0:t>e.length&&ha(),void 0===n?n=e.length-t:n>e.length-t&&ha(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Pa.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Pa?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),s=t.get(r);if(n<s)return-1;if(n>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Da extends Pa{construct(e,t,n){return new Da(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const s of n){if(s.indexOf("//")>=0)throw new ga(pa.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);e.push(...s.split("/").filter((e=>e.length>0)))}return new Da(e)}static emptyPath(){return new Da([])}}const Ra=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class La extends Pa{construct(e,t,n){return new La(e,t,n)}static isValidIdentifier(e){return Ra.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),La.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new La(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const s=()=>{if(0===n.length)throw new ga(pa.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let i=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new ga(pa.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new ga(pa.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(i=!i,r++):"."!==t||i?(n+=t,r++):(s(),r++)}if(s(),i)throw new ga(pa.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new La(t)}static emptyPath(){return new La([])}}class Oa{constructor(e){this.path=e}static fromPath(e){return new Oa(Da.fromString(e))}static fromName(e){return new Oa(Da.fromString(e).popFirst(5))}static empty(){return new Oa(Da.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Da.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Da.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Oa(new Da(e.slice()))}}class Ma{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Ma.UNKNOWN_ID=-1;function Fa(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,s=Aa.fromTimestamp(1e9===r?new Ia(n+1,0):new Ia(n,r));return new Va(s,Oa.empty(),t)}function Ua(e){return new Va(e.readTime,e.key,-1)}class Va{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Va(Aa.min(),Oa.empty(),-1)}static max(){return new Va(Aa.max(),Oa.empty(),-1)}}function za(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Oa.comparator(e.documentKey,t.documentKey),0!==n?n:Ca(e.largestBatchId,t.largestBatchId))}const Ba="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $a{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function qa(e){if(e.code!==pa.FAILED_PRECONDITION||e.message!==Ba)throw e;la("LocalStore","Unexpectedly lost primary lease")}class Wa{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ha(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Wa(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Wa?t:Wa.resolve(t)}catch(e){return Wa.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Wa.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Wa.reject(t)}static resolve(e){return new Wa(((t,n)=>{t(e)}))}static reject(e){return new Wa(((t,n)=>{n(e)}))}static waitFor(e){return new Wa(((t,n)=>{let r=0,s=0,i=!1;e.forEach((e=>{++r,e.next((()=>{++s,i&&s===r&&t()}),(e=>n(e)))})),i=!0,s===r&&t()}))}static or(e){let t=Wa.resolve(!1);for(const n of e)t=t.next((e=>e?Wa.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new Wa(((n,r)=>{const s=e.length,i=new Array(s);let a=0;for(let o=0;o<s;o++){const l=o;t(e[l]).next((e=>{i[l]=e,++a,a===s&&n(i)}),(e=>r(e)))}}))}static doWhile(e,t){return new Wa(((n,r)=>{const s=()=>{!0===e()?t().next((()=>{s()}),r):n()};s()}))}}function Ha(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ka(e){return"IndexedDbTransactionError"===e.name}class Ga{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function Qa(e){return null==e}function Ya(e){return 0===e&&1/e==-1/0}function Xa(e){return"number"==typeof e&&Number.isInteger(e)&&!Ya(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}Ga.oe=-1;const Ja=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Za=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],eo=Za,to=[...eo,"indexConfiguration","indexState","indexEntries"];function no(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ro(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function so(e,t){const n=[];for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.push(t(e[r],r,e));return n}function io(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class ao{constructor(e,t){this.comparator=e,this.root=t||lo.EMPTY}insert(e,t){return new ao(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,lo.BLACK,null,null))}remove(e){return new ao(this.comparator,this.root.remove(e,this.comparator).copy(null,null,lo.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new oo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new oo(this.root,e,this.comparator,!1)}getReverseIterator(){return new oo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new oo(this.root,e,this.comparator,!0)}}class oo{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?n(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class lo{constructor(e,t,n,r,s){this.key=e,this.value=t,this.color=null!=n?n:lo.RED,this.left=null!=r?r:lo.EMPTY,this.right=null!=s?s:lo.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,s){return new lo(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const s=n(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return lo.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return lo.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,lo.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,lo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ha();if(this.right.isRed())throw ha();const e=this.left.check();if(e!==this.right.check())throw ha();return e+(this.isRed()?0:1)}}lo.EMPTY=null,lo.RED=!0,lo.BLACK=!1,lo.EMPTY=new class{constructor(){this.size=0}get key(){throw ha()}get value(){throw ha()}get color(){throw ha()}get left(){throw ha()}get right(){throw ha()}copy(e,t,n,r,s){return this}insert(e,t,n){return new lo(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class co{constructor(e){this.comparator=e,this.data=new ao(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new uo(this.data.getIterator())}getIteratorFrom(e){return new uo(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof co))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new co(this.comparator);return t.data=e,t}}class uo{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ho{constructor(e){this.fields=e,e.sort(La.comparator)}static empty(){return new ho([])}unionWith(e){let t=new co(La.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new ho(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ta(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class fo extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class mo{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new fo("Invalid base64 string: "+e):e}}(e);return new mo(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new mo(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ca(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mo.EMPTY_BYTE_STRING=new mo("");const po=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function go(e){if(fa(!!e),"string"==typeof e){let t=0;const n=po.exec(e);if(fa(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:vo(e.seconds),nanos:vo(e.nanos)}}function vo(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function yo(e){return"string"==typeof e?mo.fromBase64String(e):mo.fromUint8Array(e)}function xo(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function bo(e){const t=e.mapValue.fields.__previous_value__;return xo(t)?bo(t):t}function wo(e){const t=go(e.mapValue.fields.__local_write_time__.timestampValue);return new Ia(t.seconds,t.nanos)}class ko{constructor(e,t,n,r,s,i,a,o,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=s,this.forceLongPolling=i,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l}}class No{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new No("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof No&&e.projectId===this.projectId&&e.database===this.database}}const Eo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function _o(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?xo(e)?4:zo(e)?9007199254740991:Uo(e)?10:11:ha()}function So(e,t){if(e===t)return!0;const n=_o(e);if(n!==_o(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return wo(e).isEqual(wo(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=go(e.timestampValue),r=go(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return yo(e.bytesValue).isEqual(yo(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return vo(e.geoPointValue.latitude)===vo(t.geoPointValue.latitude)&&vo(e.geoPointValue.longitude)===vo(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return vo(e.integerValue)===vo(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=vo(e.doubleValue),r=vo(t.doubleValue);return n===r?Ya(n)===Ya(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Ta(e.arrayValue.values||[],t.arrayValue.values||[],So);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(no(n)!==no(r))return!1;for(const s in n)if(n.hasOwnProperty(s)&&(void 0===r[s]||!So(n[s],r[s])))return!1;return!0}(e,t);default:return ha()}}function jo(e,t){return void 0!==(e.values||[]).find((e=>So(e,t)))}function Co(e,t){if(e===t)return 0;const n=_o(e),r=_o(t);if(n!==r)return Ca(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ca(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=vo(e.integerValue||e.doubleValue),r=vo(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return To(e.timestampValue,t.timestampValue);case 4:return To(wo(e),wo(t));case 5:return Ca(e.stringValue,t.stringValue);case 6:return function(e,t){const n=yo(e),r=yo(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let s=0;s<n.length&&s<r.length;s++){const e=Ca(n[s],r[s]);if(0!==e)return e}return Ca(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Ca(vo(e.latitude),vo(t.latitude));return 0!==n?n:Ca(vo(e.longitude),vo(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Io(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,s,i;const a=e.fields||{},o=t.fields||{},l=null===(n=a.value)||void 0===n?void 0:n.arrayValue,c=null===(r=o.value)||void 0===r?void 0:r.arrayValue,u=Ca((null===(s=null==l?void 0:l.values)||void 0===s?void 0:s.length)||0,(null===(i=null==c?void 0:c.values)||void 0===i?void 0:i.length)||0);return 0!==u?u:Io(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Eo.mapValue&&t===Eo.mapValue)return 0;if(e===Eo.mapValue)return 1;if(t===Eo.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),s=t.fields||{},i=Object.keys(s);r.sort(),i.sort();for(let a=0;a<r.length&&a<i.length;++a){const e=Ca(r[a],i[a]);if(0!==e)return e;const t=Co(n[r[a]],s[i[a]]);if(0!==t)return t}return Ca(r.length,i.length)}(e.mapValue,t.mapValue);default:throw ha()}}function To(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Ca(e,t);const n=go(e),r=go(t),s=Ca(n.seconds,r.seconds);return 0!==s?s:Ca(n.nanos,r.nanos)}function Io(e,t){const n=e.values||[],r=t.values||[];for(let s=0;s<n.length&&s<r.length;++s){const e=Co(n[s],r[s]);if(e)return e}return Ca(n.length,r.length)}function Ao(e){return Po(e)}function Po(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=go(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return yo(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Oa.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Po(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const s of t)r?r=!1:n+=",",n+=`${s}:${Po(e.fields[s])}`;return n+"}"}(e.mapValue):ha()}function Do(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Ro(e){return!!e&&"integerValue"in e}function Lo(e){return!!e&&"arrayValue"in e}function Oo(e){return!!e&&"nullValue"in e}function Mo(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Fo(e){return!!e&&"mapValue"in e}function Uo(e){var t,n;return"__vector__"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Vo(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return ro(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Vo(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Vo(e.arrayValue.values[n]);return t}return Object.assign({},e)}function zo(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class Bo{constructor(e){this.value=e}static empty(){return new Bo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Fo(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vo(t)}setAll(e){let t=La.emptyPath(),n={},r=[];e.forEach(((e,s)=>{if(!t.isImmediateParentOf(s)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=s.popLast()}e?n[s.lastSegment()]=Vo(e):r.push(s.lastSegment())}));const s=this.getFieldsMap(t);this.applyChanges(s,n,r)}delete(e){const t=this.field(e.popLast());Fo(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return So(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Fo(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){ro(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Bo(Vo(this.value))}}function $o(e){const t=[];return ro(e.fields,((e,n)=>{const r=new La([e]);if(Fo(n)){const e=$o(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new ho(t)}class qo{constructor(e,t,n,r,s,i,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=s,this.data=i,this.documentState=a}static newInvalidDocument(e){return new qo(e,0,Aa.min(),Aa.min(),Aa.min(),Bo.empty(),0)}static newFoundDocument(e,t,n,r){return new qo(e,1,t,Aa.min(),n,r,0)}static newNoDocument(e,t){return new qo(e,2,t,Aa.min(),Aa.min(),Bo.empty(),0)}static newUnknownDocument(e,t){return new qo(e,3,t,Aa.min(),Aa.min(),Bo.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Aa.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Aa.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof qo&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qo(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Wo{constructor(e,t){this.position=e,this.inclusive=t}}function Ho(e,t,n){let r=0;for(let s=0;s<e.position.length;s++){const i=t[s],a=e.position[s];if(r=i.field.isKeyField()?Oa.comparator(Oa.fromName(a.referenceValue),n.key):Co(a,n.data.field(i.field)),"desc"===i.dir&&(r*=-1),0!==r)break}return r}function Ko(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!So(e.position[n],t.position[n]))return!1;return!0}class Go{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Qo(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Yo{}class Xo extends Yo{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new il(e,t,n):"array-contains"===t?new cl(e,n):"in"===t?new ul(e,n):"not-in"===t?new dl(e,n):"array-contains-any"===t?new hl(e,n):new Xo(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new al(e,n):new ol(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Co(t,this.value)):null!==t&&_o(this.value)===_o(t)&&this.matchesComparison(Co(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ha()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Jo extends Yo{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Jo(e,t)}matches(e){return Zo(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Zo(e){return"and"===e.op}function el(e){return tl(e)&&Zo(e)}function tl(e){for(const t of e.filters)if(t instanceof Jo)return!1;return!0}function nl(e){if(e instanceof Xo)return e.field.canonicalString()+e.op.toString()+Ao(e.value);if(el(e))return e.filters.map((e=>nl(e))).join(",");{const t=e.filters.map((e=>nl(e))).join(",");return`${e.op}(${t})`}}function rl(e,t){return e instanceof Xo?function(e,t){return t instanceof Xo&&e.op===t.op&&e.field.isEqual(t.field)&&So(e.value,t.value)}(e,t):e instanceof Jo?function(e,t){return t instanceof Jo&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&rl(n,t.filters[r])),!0)}(e,t):void ha()}function sl(e){return e instanceof Xo?function(e){return`${e.field.canonicalString()} ${e.op} ${Ao(e.value)}`}(e):e instanceof Jo?function(e){return e.op.toString()+" {"+e.getFilters().map(sl).join(" ,")+"}"}(e):"Filter"}class il extends Xo{constructor(e,t,n){super(e,t,n),this.key=Oa.fromName(n.referenceValue)}matches(e){const t=Oa.comparator(e.key,this.key);return this.matchesComparison(t)}}class al extends Xo{constructor(e,t){super(e,"in",t),this.keys=ll("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class ol extends Xo{constructor(e,t){super(e,"not-in",t),this.keys=ll("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function ll(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Oa.fromName(e.referenceValue)))}class cl extends Xo{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Lo(t)&&jo(t.arrayValue,this.value)}}class ul extends Xo{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&jo(this.value.arrayValue,t)}}class dl extends Xo{constructor(e,t){super(e,"not-in",t)}matches(e){if(jo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!jo(this.value.arrayValue,t)}}class hl extends Xo{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Lo(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>jo(this.value.arrayValue,e)))}}class fl{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=s,this.startAt=i,this.endAt=a,this.ue=null}}function ml(e){return new fl(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function pl(e){const t=ma(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>nl(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Qa(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Ao(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Ao(e))).join(",")),t.ue=e}return t.ue}function gl(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Qo(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!rl(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ko(e.startAt,t.startAt)&&Ko(e.endAt,t.endAt)}function vl(e){return Oa.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class yl{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=s,this.limitType=i,this.startAt=a,this.endAt=o,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function xl(e,t,n,r,s,i,a,o){return new yl(e,t,n,r,s,i,a,o)}function bl(e){return new yl(e)}function wl(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function kl(e){return null!==e.collectionGroup}function Nl(e){const t=ma(e);if(null===t.ce){t.ce=[];const e=new Set;for(const s of t.explicitOrderBy)t.ce.push(s),e.add(s.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new co(La.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.ce.push(new Go(r,n))})),e.has(La.keyField().canonicalString())||t.ce.push(new Go(La.keyField(),n))}return t.ce}function El(e){const t=ma(e);return t.le||(t.le=Sl(t,Nl(e))),t.le}function _l(e){const t=ma(e);return t.he||(t.he=Sl(t,e.explicitOrderBy)),t.he}function Sl(e,t){if("F"===e.limitType)return ml(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new Go(e.field,t)}));const n=e.endAt?new Wo(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Wo(e.startAt.position,e.startAt.inclusive):null;return ml(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function jl(e,t){const n=e.filters.concat([t]);return new yl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Cl(e,t,n){return new yl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Tl(e,t){return gl(El(e),El(t))&&e.limitType===t.limitType}function Il(e){return`${pl(El(e))}|lt:${e.limitType}`}function Al(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>sl(e))).join(", ")}]`),Qa(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Ao(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Ao(e))).join(",")),`Target(${t})`}(El(e))}; limitType=${e.limitType})`}function Pl(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Oa.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Nl(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Ho(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Nl(e),t))&&!(e.endAt&&!function(e,t,n){const r=Ho(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Nl(e),t))}(e,t)}function Dl(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Rl(e){return(t,n)=>{let r=!1;for(const s of Nl(e)){const e=Ll(s,t,n);if(0!==e)return e;r=r||s.field.isKeyField()}return 0}}function Ll(e,t,n){const r=e.field.isKeyField()?Oa.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),s=n.data.field(e);return null!==r&&null!==s?Co(r,s):ha()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return ha()}}class Ol{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,s]of n)if(this.equalsFn(r,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){ro(this.inner,((t,n)=>{for(const[r,s]of n)e(r,s)}))}isEmpty(){return io(this.inner)}size(){return this.innerSize}}const Ml=new ao(Oa.comparator);function Fl(){return Ml}const Ul=new ao(Oa.comparator);function Vl(){let e=Ul;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const s of n)e=e.insert(s.key,s);return e}function zl(e){let t=Ul;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Bl(){return ql()}function $l(){return ql()}function ql(){return new Ol((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Wl=new ao(Oa.comparator),Hl=new co(Oa.comparator);function Kl(){let e=Hl;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const s of n)e=e.add(s);return e}const Gl=new co(Ca);function Ql(){return Gl}function Yl(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ya(t)?"-0":t}}function Xl(e){return{integerValue:""+e}}function Jl(e,t){return Xa(t)?Xl(t):Yl(e,t)}class Zl{constructor(){this._=void 0}}function ec(e,t,n){return e instanceof rc?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&xo(t)&&(t=bo(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof sc?ic(e,t):e instanceof ac?oc(e,t):function(e,t){const n=nc(e,t),r=cc(n)+cc(e.Pe);return Ro(n)&&Ro(e.Pe)?Xl(r):Yl(e.serializer,r)}(e,t)}function tc(e,t,n){return e instanceof sc?ic(e,t):e instanceof ac?oc(e,t):n}function nc(e,t){return e instanceof lc?function(e){return Ro(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class rc extends Zl{}class sc extends Zl{constructor(e){super(),this.elements=e}}function ic(e,t){const n=uc(t);for(const r of e.elements)n.some((e=>So(e,r)))||n.push(r);return{arrayValue:{values:n}}}class ac extends Zl{constructor(e){super(),this.elements=e}}function oc(e,t){let n=uc(t);for(const r of e.elements)n=n.filter((e=>!So(e,r)));return{arrayValue:{values:n}}}class lc extends Zl{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function cc(e){return vo(e.integerValue||e.doubleValue)}function uc(e){return Lo(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class dc{constructor(e,t){this.field=e,this.transform=t}}class hc{constructor(e,t){this.version=e,this.transformResults=t}}class fc{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new fc}static exists(e){return new fc(void 0,e)}static updateTime(e){return new fc(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mc(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class pc{}function gc(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Sc(e.key,fc.none()):new wc(e.key,e.data,fc.none());{const n=e.data,r=Bo.empty();let s=new co(La.comparator);for(let e of t.fields)if(!s.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),s=s.add(e)}return new kc(e.key,r,new ho(s.toArray()),fc.none())}}function vc(e,t,n){e instanceof wc?function(e,t,n){const r=e.value.clone(),s=Ec(e.fieldTransforms,t,n.transformResults);r.setAll(s),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof kc?function(e,t,n){if(!mc(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Ec(e.fieldTransforms,t,n.transformResults),s=t.data;s.setAll(Nc(e)),s.setAll(r),t.convertToFoundDocument(n.version,s).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function yc(e,t,n,r){return e instanceof wc?function(e,t,n,r){if(!mc(e.precondition,t))return n;const s=e.value.clone(),i=_c(e.fieldTransforms,r,t);return s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null}(e,t,n,r):e instanceof kc?function(e,t,n,r){if(!mc(e.precondition,t))return n;const s=_c(e.fieldTransforms,r,t),i=t.data;return i.setAll(Nc(e)),i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return mc(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function xc(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),s=nc(r.transform,e||null);null!=s&&(null===n&&(n=Bo.empty()),n.set(r.field,s))}return n||null}function bc(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Ta(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof sc&&t instanceof sc||e instanceof ac&&t instanceof ac?Ta(e.elements,t.elements,So):e instanceof lc&&t instanceof lc?So(e.Pe,t.Pe):e instanceof rc&&t instanceof rc}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class wc extends pc{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class kc extends pc{constructor(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Nc(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Ec(e,t,n){const r=new Map;fa(e.length===n.length);for(let s=0;s<n.length;s++){const i=e[s],a=i.transform,o=t.data.field(i.field);r.set(i.field,tc(a,o,n[s]))}return r}function _c(e,t,n){const r=new Map;for(const s of e){const e=s.transform,i=n.data.field(s.field);r.set(s.field,ec(e,i,t))}return r}class Sc extends pc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jc extends pc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Cc{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&vc(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=yc(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=yc(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=$l();return this.mutations.forEach((r=>{const s=e.get(r.key),i=s.overlayedDocument;let a=this.applyToLocalView(i,s.mutatedFields);a=t.has(r.key)?null:a;const o=gc(i,a);null!==o&&n.set(r.key,o),i.isValidDocument()||i.convertToNoDocument(Aa.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Kl())}isEqual(e){return this.batchId===e.batchId&&Ta(this.mutations,e.mutations,((e,t)=>bc(e,t)))&&Ta(this.baseMutations,e.baseMutations,((e,t)=>bc(e,t)))}}class Tc{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){fa(e.mutations.length===n.length);let r=Wl;const s=e.mutations;for(let i=0;i<s.length;i++)r=r.insert(s[i].key,n[i].version);return new Tc(e,t,n,r)}}class Ic{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ac{constructor(e,t,n){this.alias=e,this.aggregateType=t,this.fieldPath=n}}class Pc{constructor(e,t){this.count=e,this.unchangedNames=t}}var Dc,Rc;function Lc(e){switch(e){default:return ha();case pa.CANCELLED:case pa.UNKNOWN:case pa.DEADLINE_EXCEEDED:case pa.RESOURCE_EXHAUSTED:case pa.INTERNAL:case pa.UNAVAILABLE:case pa.UNAUTHENTICATED:return!1;case pa.INVALID_ARGUMENT:case pa.NOT_FOUND:case pa.ALREADY_EXISTS:case pa.PERMISSION_DENIED:case pa.FAILED_PRECONDITION:case pa.ABORTED:case pa.OUT_OF_RANGE:case pa.UNIMPLEMENTED:case pa.DATA_LOSS:return!0}}function Oc(e){if(void 0===e)return ca("GRPC error has no .code"),pa.UNKNOWN;switch(e){case Dc.OK:return pa.OK;case Dc.CANCELLED:return pa.CANCELLED;case Dc.UNKNOWN:return pa.UNKNOWN;case Dc.DEADLINE_EXCEEDED:return pa.DEADLINE_EXCEEDED;case Dc.RESOURCE_EXHAUSTED:return pa.RESOURCE_EXHAUSTED;case Dc.INTERNAL:return pa.INTERNAL;case Dc.UNAVAILABLE:return pa.UNAVAILABLE;case Dc.UNAUTHENTICATED:return pa.UNAUTHENTICATED;case Dc.INVALID_ARGUMENT:return pa.INVALID_ARGUMENT;case Dc.NOT_FOUND:return pa.NOT_FOUND;case Dc.ALREADY_EXISTS:return pa.ALREADY_EXISTS;case Dc.PERMISSION_DENIED:return pa.PERMISSION_DENIED;case Dc.FAILED_PRECONDITION:return pa.FAILED_PRECONDITION;case Dc.ABORTED:return pa.ABORTED;case Dc.OUT_OF_RANGE:return pa.OUT_OF_RANGE;case Dc.UNIMPLEMENTED:return pa.UNIMPLEMENTED;case Dc.DATA_LOSS:return pa.DATA_LOSS;default:return ha()}}(Rc=Dc||(Dc={}))[Rc.OK=0]="OK",Rc[Rc.CANCELLED=1]="CANCELLED",Rc[Rc.UNKNOWN=2]="UNKNOWN",Rc[Rc.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Rc[Rc.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Rc[Rc.NOT_FOUND=5]="NOT_FOUND",Rc[Rc.ALREADY_EXISTS=6]="ALREADY_EXISTS",Rc[Rc.PERMISSION_DENIED=7]="PERMISSION_DENIED",Rc[Rc.UNAUTHENTICATED=16]="UNAUTHENTICATED",Rc[Rc.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Rc[Rc.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Rc[Rc.ABORTED=10]="ABORTED",Rc[Rc.OUT_OF_RANGE=11]="OUT_OF_RANGE",Rc[Rc.UNIMPLEMENTED=12]="UNIMPLEMENTED",Rc[Rc.INTERNAL=13]="INTERNAL",Rc[Rc.UNAVAILABLE=14]="UNAVAILABLE",Rc[Rc.DATA_LOSS=15]="DATA_LOSS";let Mc=null;function Fc(){return new TextEncoder}const Uc=new $i([4294967295,4294967295],0);function Vc(e){const t=Fc().encode(e),n=new qi;return n.update(t),new Uint8Array(n.digest())}function zc(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),s=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new $i([n,r],0),new $i([s,i],0)]}class Bc{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new $c(`Invalid padding: ${t}`);if(n<0)throw new $c(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new $c(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new $c(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=$i.fromNumber(this.Ie)}Ee(e,t,n){let r=e.add(t.multiply($i.fromNumber(n)));return 1===r.compare(Uc)&&(r=new $i([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=Vc(e),[n,r]=zc(t);for(let s=0;s<this.hashCount;s++){const e=this.Ee(n,r,s);if(!this.de(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),i=new Bc(s,r,t);return n.forEach((e=>i.insert(e))),i}insert(e){if(0===this.Ie)return;const t=Vc(e),[n,r]=zc(t);for(let s=0;s<this.hashCount;s++){const e=this.Ee(n,r,s);this.Ae(e)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class $c extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class qc{constructor(e,t,n,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Wc.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new qc(Aa.min(),r,new ao(Ca),Fl(),Kl())}}class Wc{constructor(e,t,n,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Wc(n,t,Kl(),Kl(),Kl())}}class Hc{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}}class Kc{constructor(e,t){this.targetId=e,this.me=t}}class Gc{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:mo.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Qc{constructor(){this.fe=0,this.ge=Jc(),this.pe=mo.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Kl(),t=Kl(),n=Kl();return this.ge.forEach(((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:ha()}})),new Wc(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=Jc()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,fa(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Yc{constructor(e){this.Le=e,this.Be=new Map,this.ke=Fl(),this.qe=Xc(),this.Qe=new ao(Ca)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,(t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:ha()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((e,n)=>{this.ze(n)&&t(n)}))}He(e){const t=e.targetId,n=e.me.count,r=this.Je(t);if(r){const s=r.target;if(vl(s))if(0===n){const e=new Oa(s.path);this.Ue(t,e,qo.newNoDocument(e,Aa.min()))}else fa(1===n);else{const r=this.Ye(t);if(r!==n){const n=this.Ze(e),s=n?this.Xe(n,e,r):1;if(0!==s){this.je(t);const e=2===s?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,e)}null==Mc||Mc.et(function(e,t,n,r,s){var i,a,o,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===s,hashCount:null!==(i=null==h?void 0:h.hashCount)&&void 0!==i?i:0,bitmapLength:null!==(l=null===(o=null===(a=null==h?void 0:h.bits)||void 0===a?void 0:a.bitmap)||void 0===o?void 0:o.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.me,this.Le.tt(),n,s))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:s=0}=t;let i,a;try{i=yo(n).toUint8Array()}catch(e){if(e instanceof fo)return ua("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new Bc(i,r,s)}catch(e){return ua(e instanceof $c?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.Ie?null:a}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const s=this.Le.tt(),i=`projects/${s.projectId}/databases/${s.database}/documents/${n.path.canonicalString()}`;e.mightContain(i)||(this.Ue(t,n,null),r++)})),r}rt(e){const t=new Map;this.Be.forEach(((n,r)=>{const s=this.Je(r);if(s){if(n.current&&vl(s.target)){const t=new Oa(s.target.path);null!==this.ke.get(t)||this.it(r,t)||this.Ue(r,t,qo.newNoDocument(t,e))}n.be&&(t.set(r,n.ve()),n.Ce())}}));let n=Kl();this.qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Je(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.ke.forEach(((t,n)=>n.setReadTime(e)));const r=new qc(e,t,this.Qe,this.ke,n);return this.ke=Fl(),this.qe=Xc(),this.Qe=new ao(Ca),r}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new Qc,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new co(Ca),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||la("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Qc),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.Ue(e,t,null)}))}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Xc(){return new ao(Oa.comparator)}function Jc(){return new ao(Oa.comparator)}const Zc={asc:"ASCENDING",desc:"DESCENDING"},eu={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tu={and:"AND",or:"OR"};class nu{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ru(e,t){return e.useProto3Json||Qa(t)?t:{value:t}}function su(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function iu(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function au(e,t){return su(e,t.toTimestamp())}function ou(e){return fa(!!e),Aa.fromTimestamp(function(e){const t=go(e);return new Ia(t.seconds,t.nanos)}(e))}function lu(e,t){return cu(e,t).canonicalString()}function cu(e,t){const n=function(e){return new Da(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function uu(e){const t=Da.fromString(e);return fa(Au(t)),t}function du(e,t){return lu(e.databaseId,t.path)}function hu(e,t){const n=uu(t);if(n.get(1)!==e.databaseId.projectId)throw new ga(pa.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ga(pa.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Oa(gu(n))}function fu(e,t){return lu(e.databaseId,t)}function mu(e){const t=uu(e);return 4===t.length?Da.emptyPath():gu(t)}function pu(e){return new Da(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function gu(e){return fa(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function vu(e,t,n){return{name:du(e,t),fields:n.value.mapValue.fields}}function yu(e,t){let n;if(t instanceof wc)n={update:vu(e,t.key,t.value)};else if(t instanceof Sc)n={delete:du(e,t.key)};else if(t instanceof kc)n={update:vu(e,t.key,t.data),updateMask:Iu(t.fieldMask)};else{if(!(t instanceof jc))return ha();n={verify:du(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof rc)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof sc)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof ac)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof lc)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw ha()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:au(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:ha()}(e,t.precondition)),n}function xu(e,t){return{documents:[fu(e,t.path)]}}function bu(e,t){const n={structuredQuery:{}},r=t.path;let s;null!==t.collectionGroup?(s=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=fu(e,s);const i=function(e){if(0!==e.length)return Tu(Jo.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const a=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:ju(e.field),direction:Eu(e.dir)}}(e)))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=ru(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{_t:n,parent:s}}function wu(e,t,n,r){const{_t:s,parent:i}=bu(e,t),a={},o=[];let l=0;return n.forEach((e=>{const t=r?e.alias:"aggregate_"+l++;a[t]=e.alias,"count"===e.aggregateType?o.push({alias:t,count:{}}):"avg"===e.aggregateType?o.push({alias:t,avg:{field:ju(e.fieldPath)}}):"sum"===e.aggregateType&&o.push({alias:t,sum:{field:ju(e.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:o,structuredQuery:s.structuredQuery},parent:s.parent},ut:a,parent:i}}function ku(e){let t=mu(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){fa(1===r);const e=n.from[0];e.allDescendants?s=e.collectionId:t=t.child(e.collectionId)}let i=[];n.where&&(i=function(e){const t=Nu(e);return t instanceof Jo&&el(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map((e=>function(e){return new Go(Cu(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,Qa(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Wo(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Wo(n,t)}(n.endAt)),xl(t,s,a,i,o,"F",l,c)}function Nu(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Cu(e.unaryFilter.field);return Xo.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Cu(e.unaryFilter.field);return Xo.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Cu(e.unaryFilter.field);return Xo.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Cu(e.unaryFilter.field);return Xo.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ha()}}(e):void 0!==e.fieldFilter?function(e){return Xo.create(Cu(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ha()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Jo.create(e.compositeFilter.filters.map((e=>Nu(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return ha()}}(e.compositeFilter.op))}(e):ha()}function Eu(e){return Zc[e]}function _u(e){return eu[e]}function Su(e){return tu[e]}function ju(e){return{fieldPath:e.canonicalString()}}function Cu(e){return La.fromServerFormat(e.fieldPath)}function Tu(e){return e instanceof Xo?function(e){if("=="===e.op){if(Mo(e.value))return{unaryFilter:{field:ju(e.field),op:"IS_NAN"}};if(Oo(e.value))return{unaryFilter:{field:ju(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Mo(e.value))return{unaryFilter:{field:ju(e.field),op:"IS_NOT_NAN"}};if(Oo(e.value))return{unaryFilter:{field:ju(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ju(e.field),op:_u(e.op),value:e.value}}}(e):e instanceof Jo?function(e){const t=e.getFilters().map((e=>Tu(e)));return 1===t.length?t[0]:{compositeFilter:{op:Su(e.op),filters:t}}}(e):ha()}function Iu(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Au(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Pu{constructor(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Aa.min(),i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Aa.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:mo.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new Pu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Pu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Pu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Pu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Du{constructor(e){this.ct=e}}function Ru(e){const t=ku({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Cl(t,t.limit,"L"):t}class Lu{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(vo(e.integerValue));else if("doubleValue"in e){const n=vo(e.doubleValue);isNaN(n)?this.dt(t,13):(this.dt(t,15),Ya(n)?t.At(0):t.At(n))}else if("timestampValue"in e){let n=e.timestampValue;this.dt(t,20),"string"==typeof n&&(n=go(n)),t.Rt(`${n.seconds||""}`),t.At(n.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(yo(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.dt(t,45),t.At(n.latitude||0),t.At(n.longitude||0)}else"mapValue"in e?zo(e)?this.dt(t,Number.MAX_SAFE_INTEGER):Uo(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):ha()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){const n=e.fields||{};this.dt(t,55);for(const r of Object.keys(n))this.Vt(r,t),this.Tt(n[r],t)}wt(e,t){var n,r;const s=e.fields||{};this.dt(t,53);const i="value",a=(null===(r=null===(n=s[i].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.dt(t,15),t.At(vo(a)),this.Vt(i,t),this.Tt(s[i],t)}bt(e,t){const n=e.values||[];this.dt(t,50);for(const r of n)this.Tt(r,t)}yt(e,t){this.dt(t,37),Oa.fromName(e).path.forEach((e=>{this.dt(t,60),this.Dt(e,t)}))}dt(e,t){e.At(t)}ft(e){e.At(2)}}Lu.vt=new Lu;class Ou{constructor(){this.un=new Mu}addToCollectionParentIndex(e,t){return this.un.add(t),Wa.resolve()}getCollectionParents(e,t){return Wa.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return Wa.resolve()}deleteFieldIndex(e,t){return Wa.resolve()}deleteAllFieldIndexes(e){return Wa.resolve()}createTargetIndexes(e,t){return Wa.resolve()}getDocumentsMatchingTarget(e,t){return Wa.resolve(null)}getIndexType(e,t){return Wa.resolve(0)}getFieldIndexes(e,t){return Wa.resolve([])}getNextCollectionGroupToUpdate(e){return Wa.resolve(null)}getMinOffset(e,t){return Wa.resolve(Va.min())}getMinOffsetFromCollectionGroup(e,t){return Wa.resolve(Va.min())}updateCollectionGroup(e,t,n){return Wa.resolve()}updateIndexEntries(e,t){return Wa.resolve()}}class Mu{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new co(Da.comparator),s=!r.has(n);return this.index[t]=r.add(n),s}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new co(Da.comparator)).toArray()}}new Uint8Array(0);class Fu{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Fu(e,Fu.DEFAULT_COLLECTION_PERCENTILE,Fu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Fu.DEFAULT_COLLECTION_PERCENTILE=10,Fu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fu.DEFAULT=new Fu(41943040,Fu.DEFAULT_COLLECTION_PERCENTILE,Fu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fu.DISABLED=new Fu(-1,0,0);class Uu{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Uu(0)}static kn(){return new Uu(-1)}}class Vu{constructor(){this.changes=new Ol((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,qo.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Wa.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class zu{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Bu{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&yc(n.mutation,e,ho.empty(),Ia.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Kl()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Kl();const r=Bl();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Vl();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Bl();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Kl())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let s=Fl();const i=ql(),a=ql();return t.forEach(((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof kc)?s=s.insert(t.key,t):void 0!==a?(i.set(t.key,a.mutation.getFieldMask()),yc(a.mutation,t,a.mutation.getFieldMask(),Ia.now())):i.set(t.key,ho.empty())})),this.recalculateAndSaveOverlays(e,s).next((e=>(e.forEach(((e,t)=>i.set(e,t))),t.forEach(((e,t)=>{var n;return a.set(e,new zu(t,null!==(n=i.get(e))&&void 0!==n?n:null))})),a)))}recalculateAndSaveOverlays(e,t){const n=ql();let r=new ao(((e,t)=>e-t)),s=Kl();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const s of e)s.keys().forEach((e=>{const i=t.get(e);if(null===i)return;let a=n.get(e)||ho.empty();a=s.applyToLocalView(i,a),n.set(e,a);const o=(r.get(s.batchId)||Kl()).add(e);r=r.insert(s.batchId,o)}))})).next((()=>{const i=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,c=$l();l.forEach((e=>{if(!s.has(e)){const r=gc(t.get(e),n.get(e));null!==r&&c.set(e,r),s=s.add(e)}})),i.push(this.documentOverlayCache.saveOverlays(e,o,c))}return Wa.waitFor(i)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Oa.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):kl(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((s=>{const i=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-s.size):Wa.resolve(Bl());let a=-1,o=s;return i.next((t=>Wa.forEach(t,((t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),s.get(t)?Wa.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{o=o.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,s))).next((()=>this.computeViews(e,o,t,Kl()))).next((e=>({batchId:a,changes:zl(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Oa(t)).next((e=>{let t=Vl();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const s=t.collectionGroup;let i=Vl();return this.indexManager.getCollectionParents(e,s).next((a=>Wa.forEach(a,(a=>{const o=function(e,t){return new yl(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(s));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next((e=>{e.forEach(((e,t)=>{i=i.insert(e,t)}))}))})).next((()=>i))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((i=>(s=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,s,r)))).next((e=>{s.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,qo.newInvalidDocument(r)))}));let n=Vl();return e.forEach(((e,r)=>{const i=s.get(e);void 0!==i&&yc(i.mutation,r,ho.empty(),Ia.now()),Pl(t,r)&&(n=n.insert(e,r))})),n}))}}class $u{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return Wa.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:ou(e.createTime)}}(t)),Wa.resolve()}getNamedQuery(e,t){return Wa.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(e){return{name:e.name,query:Ru(e.bundledQuery),readTime:ou(e.readTime)}}(t)),Wa.resolve()}}class qu{constructor(){this.overlays=new ao(Oa.comparator),this.Ir=new Map}getOverlay(e,t){return Wa.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Bl();return Wa.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.ht(e,t,r)})),Wa.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Ir.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Ir.delete(n)),Wa.resolve()}getOverlaysForCollection(e,t,n){const r=Bl(),s=t.length+1,i=new Oa(t.child("")),a=this.overlays.getIteratorFrom(i);for(;a.hasNext();){const e=a.getNext().value,i=e.getKey();if(!t.isPrefixOf(i.path))break;i.path.length===s&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Wa.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let s=new ao(((e,t)=>e-t));const i=this.overlays.getIterator();for(;i.hasNext();){const e=i.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=s.get(e.largestBatchId);null===t&&(t=Bl(),s=s.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=Bl(),o=s.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach(((e,t)=>a.set(e,t))),!(a.size()>=r)););return Wa.resolve(a)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Ir.get(r.largestBatchId).delete(n.key);this.Ir.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Ic(t,n));let s=this.Ir.get(t);void 0===s&&(s=Kl(),this.Ir.set(t,s)),this.Ir.set(t,s.add(n.key))}}class Wu{constructor(){this.sessionToken=mo.EMPTY_BYTE_STRING}getSessionToken(e){return Wa.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Wa.resolve()}}class Hu{constructor(){this.Tr=new co(Ku.Er),this.dr=new co(Ku.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const n=new Ku(e,t);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Vr(new Ku(e,t))}mr(e,t){e.forEach((e=>this.removeReference(e,t)))}gr(e){const t=new Oa(new Da([])),n=new Ku(t,e),r=new Ku(t,e+1),s=[];return this.dr.forEachInRange([n,r],(e=>{this.Vr(e),s.push(e.key)})),s}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new Oa(new Da([])),n=new Ku(t,e),r=new Ku(t,e+1);let s=Kl();return this.dr.forEachInRange([n,r],(e=>{s=s.add(e.key)})),s}containsKey(e){const t=new Ku(e,0),n=this.Tr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Ku{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return Oa.comparator(e.key,t.key)||Ca(e.wr,t.wr)}static Ar(e,t){return Ca(e.wr,t.wr)||Oa.comparator(e.key,t.key)}}class Gu{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new co(Ku.Er)}checkEmpty(e){return Wa.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new Cc(s,t,n,r);this.mutationQueue.push(i);for(const a of r)this.br=this.br.add(new Ku(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Wa.resolve(i)}lookupMutationBatch(e,t){return Wa.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.vr(n),s=r<0?0:r;return Wa.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Wa.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return Wa.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Ku(t,0),r=new Ku(t,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([n,r],(e=>{const t=this.Dr(e.wr);s.push(t)})),Wa.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new co(Ca);return t.forEach((e=>{const t=new Ku(e,0),r=new Ku(e,Number.POSITIVE_INFINITY);this.br.forEachInRange([t,r],(e=>{n=n.add(e.wr)}))})),Wa.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let s=n;Oa.isDocumentKey(s)||(s=s.child(""));const i=new Ku(new Oa(s),0);let a=new co(Ca);return this.br.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.wr)),!0)}),i),Wa.resolve(this.Cr(a))}Cr(e){const t=[];return e.forEach((e=>{const n=this.Dr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){fa(0===this.Fr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.br;return Wa.forEach(t.mutations,(r=>{const s=new Ku(r.key,t.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.br=n}))}On(e){}containsKey(e,t){const n=new Ku(t,0),r=this.br.firstAfterOrEqual(n);return Wa.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Wa.resolve()}Fr(e,t){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Qu{constructor(e){this.Mr=e,this.docs=new ao(Oa.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),s=r?r.size:0,i=this.Mr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:i}),this.size+=i-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Wa.resolve(n?n.document.mutableCopy():qo.newInvalidDocument(t))}getEntries(e,t){let n=Fl();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():qo.newInvalidDocument(e))})),Wa.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let s=Fl();const i=t.path,a=new Oa(i.child("")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!i.isPrefixOf(e.path))break;e.path.length>i.length+1||za(Ua(a),n)<=0||(r.has(a.key)||Pl(t,a))&&(s=s.insert(a.key,a.mutableCopy()))}return Wa.resolve(s)}getAllFromCollectionGroup(e,t,n,r){ha()}Or(e,t){return Wa.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Yu(this)}getSize(e){return Wa.resolve(this.size)}}class Yu extends Vu{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.cr.addEntry(e,r)):this.cr.removeEntry(n)})),Wa.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}class Xu{constructor(e){this.persistence=e,this.Nr=new Ol((e=>pl(e)),gl),this.lastRemoteSnapshotVersion=Aa.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Hu,this.targetCount=0,this.kr=Uu.Bn()}forEachTarget(e,t){return this.Nr.forEach(((e,n)=>t(n))),Wa.resolve()}getLastRemoteSnapshotVersion(e){return Wa.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Wa.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Wa.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Lr&&(this.Lr=t),Wa.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new Uu(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,Wa.resolve()}updateTargetData(e,t){return this.Kn(t),Wa.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,Wa.resolve()}removeTargets(e,t,n){let r=0;const s=[];return this.Nr.forEach(((i,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.Nr.delete(i),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)})),Wa.waitFor(s).next((()=>r))}getTargetCount(e){return Wa.resolve(this.targetCount)}getTargetData(e,t){const n=this.Nr.get(t)||null;return Wa.resolve(n)}addMatchingKeys(e,t,n){return this.Br.Rr(t,n),Wa.resolve()}removeMatchingKeys(e,t,n){this.Br.mr(t,n);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach((t=>{s.push(r.markPotentiallyOrphaned(e,t))})),Wa.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),Wa.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Br.yr(t);return Wa.resolve(n)}containsKey(e,t){return Wa.resolve(this.Br.containsKey(t))}}class Ju{constructor(e,t){this.qr={},this.overlays={},this.Qr=new Ga(0),this.Kr=!1,this.Kr=!0,this.$r=new Wu,this.referenceDelegate=e(this),this.Ur=new Xu(this),this.indexManager=new Ou,this.remoteDocumentCache=function(e){return new Qu(e)}((e=>this.referenceDelegate.Wr(e))),this.serializer=new Du(t),this.Gr=new $u(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new qu,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.qr[e.toKey()];return n||(n=new Gu(t,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,n){la("MemoryPersistence","Starting transaction:",e);const r=new Zu(this.Qr.next());return this.referenceDelegate.zr(),n(r).next((e=>this.referenceDelegate.jr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Hr(e,t){return Wa.or(Object.values(this.qr).map((n=>()=>n.containsKey(e,t))))}}class Zu extends $a{constructor(e){super(),this.currentSequenceNumber=e}}class ed{constructor(e){this.persistence=e,this.Jr=new Hu,this.Yr=null}static Zr(e){return new ed(e)}get Xr(){if(this.Yr)return this.Yr;throw ha()}addReference(e,t,n){return this.Jr.addReference(n,t),this.Xr.delete(n.toString()),Wa.resolve()}removeReference(e,t,n){return this.Jr.removeReference(n,t),this.Xr.add(n.toString()),Wa.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),Wa.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach((e=>this.Xr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Xr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Wa.forEach(this.Xr,(n=>{const r=Oa.fromPath(n);return this.ei(e,r).next((e=>{e||t.removeEntry(r,Aa.min())}))})).next((()=>(this.Yr=null,t.apply(e))))}updateLimboDocument(e,t){return this.ei(e,t).next((e=>{e?this.Xr.delete(t.toString()):this.Xr.add(t.toString())}))}Wr(e){return 0}ei(e,t){return Wa.or([()=>Wa.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class td{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.$i=n,this.Ui=r}static Wi(e,t){let n=Kl(),r=Kl();for(const s of t.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new td(e,t.fromCache,n,r)}}class nd{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class rd{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=Me()?8:Ha(Oe())>0?6:4}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,n,r){const s={result:null};return this.Yi(e,t).next((e=>{s.result=e})).next((()=>{if(!s.result)return this.Zi(e,t,r,n).next((e=>{s.result=e}))})).next((()=>{if(s.result)return;const n=new nd;return this.Xi(e,t,n).next((r=>{if(s.result=r,this.zi)return this.es(e,t,n,r.size)}))})).next((()=>s.result))}es(e,t,n,r){return n.documentReadCount<this.ji?(oa()<=tt.DEBUG&&la("QueryEngine","SDK will not create cache indexes for query:",Al(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Wa.resolve()):(oa()<=tt.DEBUG&&la("QueryEngine","Query:",Al(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Hi*r?(oa()<=tt.DEBUG&&la("QueryEngine","The SDK decides to create cache indexes for query:",Al(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,El(t))):Wa.resolve())}Yi(e,t){if(wl(t))return Wa.resolve(null);let n=El(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Cl(t,null,"F"),n=El(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const s=Kl(...r);return this.Ji.getDocuments(e,s).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const i=this.ts(t,r);return this.ns(t,i,s,n.readTime)?this.Yi(e,Cl(t,null,"F")):this.rs(e,i,t,n)}))))})))))}Zi(e,t,n,r){return wl(t)||r.isEqual(Aa.min())?Wa.resolve(null):this.Ji.getDocuments(e,n).next((s=>{const i=this.ts(t,s);return this.ns(t,i,n,r)?Wa.resolve(null):(oa()<=tt.DEBUG&&la("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Al(t)),this.rs(e,i,t,Fa(r,-1)).next((e=>e)))}))}ts(e,t){let n=new co(Rl(e));return t.forEach(((t,r)=>{Pl(e,r)&&(n=n.add(r))})),n}ns(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Xi(e,t,n){return oa()<=tt.DEBUG&&la("QueryEngine","Using full collection scan to execute query:",Al(t)),this.Ji.getDocumentsMatchingQuery(e,t,Va.min(),n)}rs(e,t,n,r){return this.Ji.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class sd{constructor(e,t,n,r){this.persistence=e,this.ss=t,this.serializer=r,this.os=new ao(Ca),this._s=new Ol((e=>pl(e)),gl),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Bu(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.os)))}}function id(e,t,n,r){return new sd(e,t,n,r)}async function ad(e,t){const n=ma(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((s=>(r=s,n.ls(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const s=[],i=[];let a=Kl();for(const e of r){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next((e=>({hs:e,removedBatchIds:s,addedBatchIds:i})))}))}))}function od(e){const t=ma(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Ur.getLastRemoteSnapshotVersion(e)))}function ld(e,t,n){let r=Kl(),s=Kl();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Fl();return n.forEach(((n,i)=>{const a=e.get(n);i.isFoundDocument()!==a.isFoundDocument()&&(s=s.add(n)),i.isNoDocument()&&i.version.isEqual(Aa.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):la("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)})),{Ps:r,Is:s}}))}function cd(e,t){const n=ma(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function ud(e,t){const n=ma(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Ur.getTargetData(e,t).next((s=>s?(r=s,Wa.resolve(r)):n.Ur.allocateTargetId(e).next((s=>(r=new Pu(t,s,"TargetPurposeListen",e.currentSequenceNumber),n.Ur.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.os.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.os=n.os.insert(e.targetId,e),n._s.set(t,e.targetId)),e}))}async function dd(e,t,n){const r=ma(e),s=r.os.get(t),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,(e=>r.persistence.referenceDelegate.removeTarget(e,s)))}catch(e){if(!Ka(e))throw e;la("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.os=r.os.remove(t),r._s.delete(s.target)}function hd(e,t,n){const r=ma(e);let s=Aa.min(),i=Kl();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=ma(e),s=r._s.get(n);return void 0!==s?Wa.resolve(r.os.get(s)):r.Ur.getTargetData(t,n)}(r,e,El(t)).next((t=>{if(t)return s=t.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(e,t.targetId).next((e=>{i=e}))})).next((()=>r.ss.getDocumentsMatchingQuery(e,t,n?s:Aa.min(),n?i:Kl()))).next((e=>(fd(r,Dl(t),e),{documents:e,Ts:i})))))}function fd(e,t,n){let r=e.us.get(t)||Aa.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.us.set(t,r)}class md{constructor(){this.activeTargetIds=Ql()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class pd{constructor(){this.so=new md,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,n){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new md,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class gd{_o(e){}shutdown(){}}class vd{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){la("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){la("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let yd=null;function xd(){return null===yd?yd=268435456+Math.round(2147483648*Math.random()):yd++,"0x"+yd.toString(16)}const bd={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class wd{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const kd="WebChannelConnection";class Nd extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Do=t+"://"+e.host,this.vo=`projects/${n}/databases/${r}`,this.Co="(default)"===this.databaseId.database?`project_id=${n}`:`project_id=${n}&database_id=${r}`}get Fo(){return!1}Mo(e,t,n,r,s){const i=xd(),a=this.xo(e,t.toUriEncodedString());la("RestConnection",`Sending RPC '${e}' ${i}:`,a,n);const o={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(o,r,s),this.No(e,a,o,n).then((t=>(la("RestConnection",`Received RPC '${e}' ${i}: `,t),t)),(t=>{throw ua("RestConnection",`RPC '${e}' ${i} failed with error: `,t,"url: ",a,"request:",n),t}))}Lo(e,t,n,r,s,i){return this.Mo(e,t,n,r,s)}Oo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+ia,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}xo(e,t){const n=bd[e];return`${this.Do}/v1/${t}:${n}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,n,r){const s=xd();return new Promise(((i,a)=>{const o=new Ki;o.setWithCredentials(!0),o.listenOnce(Qi.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case Yi.NO_ERROR:const t=o.getResponseJson();la(kd,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(t)),i(t);break;case Yi.TIMEOUT:la(kd,`RPC '${e}' ${s} timed out`),a(new ga(pa.DEADLINE_EXCEEDED,"Request time out"));break;case Yi.HTTP_ERROR:const n=o.getStatus();if(la(kd,`RPC '${e}' ${s} failed with status:`,n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(pa).indexOf(t)>=0?t:pa.UNKNOWN}(t.status);a(new ga(e,t.message))}else a(new ga(pa.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new ga(pa.UNAVAILABLE,"Connection failed."));break;default:ha()}}finally{la(kd,`RPC '${e}' ${s} completed.`)}}));const l=JSON.stringify(r);la(kd,`RPC '${e}' ${s} sending request:`,r),o.send(t,"POST",l,n,15)}))}Bo(e,t,n){const r=xd(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=ea(),a=Zi(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Oo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=s.join("");la(kd,`Creating RPC '${e}' stream ${r}: ${c}`,o);const u=i.createWebChannel(c,o);let d=!1,h=!1;const f=new wd({Io:t=>{h?la(kd,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||(la(kd,`Opening RPC '${e}' stream ${r} transport.`),u.open(),d=!0),la(kd,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},To:()=>u.close()}),m=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return m(u,Gi.EventType.OPEN,(()=>{h||(la(kd,`RPC '${e}' stream ${r} transport opened.`),f.yo())})),m(u,Gi.EventType.CLOSE,(()=>{h||(h=!0,la(kd,`RPC '${e}' stream ${r} transport closed`),f.So())})),m(u,Gi.EventType.ERROR,(t=>{h||(h=!0,ua(kd,`RPC '${e}' stream ${r} transport errored:`,t),f.So(new ga(pa.UNAVAILABLE,"The operation could not be completed")))})),m(u,Gi.EventType.MESSAGE,(t=>{var n;if(!h){const s=t.data[0];fa(!!s);const i=s,a=i.error||(null===(n=i[0])||void 0===n?void 0:n.error);if(a){la(kd,`RPC '${e}' stream ${r} received error:`,a);const t=a.status;let n=function(e){const t=Dc[e];if(void 0!==t)return Oc(t)}(t),s=a.message;void 0===n&&(n=pa.INTERNAL,s="Unknown error status: "+t+" with message "+a.message),h=!0,f.So(new ga(n,s)),u.close()}else la(kd,`RPC '${e}' stream ${r} received:`,s),f.bo(s)}})),m(a,Ji.STAT_EVENT,(t=>{t.stat===Xi.PROXY?la(kd,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===Xi.NOPROXY&&la(kd,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{f.wo()}),0),f}}function Ed(){return"undefined"!=typeof document?document:null}function _d(e){return new nu(e,!0)}class Sd{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ui=e,this.timerId=t,this.ko=n,this.qo=r,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),r=Math.max(0,t-n);r>0&&la("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class jd{constructor(e,t,n,r,s,i,a,o){this.ui=e,this.Ho=n,this.Jo=r,this.connection=s,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Sd(e,t)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,4!==e?this.t_.reset():t&&t.code===pa.RESOURCE_EXHAUSTED?(ca(t.toString()),ca("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===pa.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Yo===t&&this.P_(n,r)}),(t=>{e((()=>{const e=new ga(pa.UNKNOWN,"Fetching auth token failed: "+t.message);return this.I_(e)}))}))}P_(e,t){const n=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo((()=>{n((()=>this.listener.Eo()))})),this.stream.Ro((()=>{n((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((e=>{n((()=>this.I_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.e_?this.E_(e):this.onNext(e)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return la("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget((()=>this.Yo===e?t():(la("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Cd extends jd{constructor(e,t,n,r,s,i){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,i),this.serializer=s}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:ha()}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],i=function(e,t){return e.useProto3Json?(fa(void 0===t||"string"==typeof t),mo.fromBase64String(t||"")):(fa(void 0===t||t instanceof Buffer||t instanceof Uint8Array),mo.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?pa.UNKNOWN:Oc(e.code);return new ga(t,e.message||"")}(a);n=new Gc(r,s,i,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const s=hu(e,r.document.name),i=ou(r.document.updateTime),a=r.document.createTime?ou(r.document.createTime):Aa.min(),o=new Bo({mapValue:{fields:r.document.fields}}),l=qo.newFoundDocument(s,i,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Hc(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const s=hu(e,r.document),i=r.readTime?ou(r.readTime):Aa.min(),a=qo.newNoDocument(s,i),o=r.removedTargetIds||[];n=new Hc([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const s=hu(e,r.document),i=r.removedTargetIds||[];n=new Hc([],i,s,null)}else{if(!("filter"in t))return ha();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:s}=e,i=new Pc(r,s),a=e.targetId;n=new Kc(a,i)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Aa.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Aa.min():t.readTime?ou(t.readTime):Aa.min()}(e);return this.listener.d_(t,n)}A_(e){const t={};t.database=pu(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=vl(r)?{documents:xu(e,r)}:{query:bu(e,r)._t},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=iu(e,t.resumeToken);const r=ru(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Aa.min())>0){n.readTime=su(e,t.snapshotVersion.toTimestamp());const r=ru(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ha()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.a_(t)}R_(e){const t={};t.database=pu(this.serializer),t.removeTarget=e,this.a_(t)}}class Td extends jd{constructor(e,t,n,r,s,i){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,i),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return fa(!!e.streamToken),this.lastStreamToken=e.streamToken,fa(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){fa(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=function(e,t){return e&&e.length>0?(fa(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?ou(e.updateTime):ou(t);return n.isEqual(Aa.min())&&(n=ou(t)),new hc(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=ou(e.commitTime);return this.listener.g_(n,t)}p_(){const e={};e.database=pu(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>yu(this.serializer,e)))};this.a_(t)}}class Id extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new ga(pa.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,n,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((s=>{let[i,a]=s;return this.connection.Mo(e,cu(t,n),r,i,a)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===pa.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new ga(pa.UNKNOWN,e.toString())}))}Lo(e,t,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[a,o]=i;return this.connection.Lo(e,cu(t,n),r,a,o,s)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===pa.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new ga(pa.UNKNOWN,e.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class Ad{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ca(t),this.D_=!1):la("OnlineStateTracker",t)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class Pd{constructor(e,t,n,r,s){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o((e=>{n.enqueueAndForget((async()=>{zd(this)&&(la("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=ma(e);t.L_.add(4),await Rd(t),t.q_.set("Unknown"),t.L_.delete(4),await Dd(t)}(this))}))})),this.q_=new Ad(n,r)}}async function Dd(e){if(zd(e))for(const t of e.B_)await t(!0)}async function Rd(e){for(const t of e.B_)await t(!1)}function Ld(e,t){const n=ma(e);n.N_.has(t.targetId)||(n.N_.set(t.targetId,t),Vd(n)?Ud(n):ah(n).r_()&&Md(n,t))}function Od(e,t){const n=ma(e),r=ah(n);n.N_.delete(t),r.r_()&&Fd(n,t),0===n.N_.size&&(r.r_()?r.o_():zd(n)&&n.q_.set("Unknown"))}function Md(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Aa.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}ah(e).A_(t)}function Fd(e,t){e.Q_.xe(t),ah(e).R_(t)}function Ud(e){e.Q_=new Yc({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.N_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),ah(e).start(),e.q_.v_()}function Vd(e){return zd(e)&&!ah(e).n_()&&e.N_.size>0}function zd(e){return 0===ma(e).L_.size}function Bd(e){e.Q_=void 0}async function $d(e){e.q_.set("Online")}async function qd(e){e.N_.forEach(((t,n)=>{Md(e,t)}))}async function Wd(e,t){Bd(e),Vd(e)?(e.q_.M_(t),Ud(e)):e.q_.set("Unknown")}async function Hd(e,t,n){if(e.q_.set("Online"),t instanceof Gc&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.N_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.N_.delete(r),e.Q_.removeTarget(r))}(e,t)}catch(n){la("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Kd(e,n)}else if(t instanceof Hc?e.Q_.Ke(t):t instanceof Kc?e.Q_.He(t):e.Q_.We(t),!n.isEqual(Aa.min()))try{const t=await od(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Q_.rt(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const s=e.N_.get(r);s&&e.N_.set(r,s.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.N_.get(t);if(!r)return;e.N_.set(t,r.withResumeToken(mo.EMPTY_BYTE_STRING,r.snapshotVersion)),Fd(e,t);const s=new Pu(r.target,t,n,r.sequenceNumber);Md(e,s)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){la("RemoteStore","Failed to raise snapshot:",t),await Kd(e,t)}}async function Kd(e,t,n){if(!Ka(t))throw t;e.L_.add(1),await Rd(e),e.q_.set("Offline"),n||(n=()=>od(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{la("RemoteStore","Retrying IndexedDB access"),await n(),e.L_.delete(1),await Dd(e)}))}function Gd(e,t){return t().catch((n=>Kd(e,n,t)))}async function Qd(e){const t=ma(e),n=oh(t);let r=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;Yd(t);)try{const e=await cd(t.localStore,r);if(null===e){0===t.O_.length&&n.o_();break}r=e.batchId,Xd(t,e)}catch(e){await Kd(t,e)}Jd(t)&&Zd(t)}function Yd(e){return zd(e)&&e.O_.length<10}function Xd(e,t){e.O_.push(t);const n=oh(e);n.r_()&&n.V_&&n.m_(t.mutations)}function Jd(e){return zd(e)&&!oh(e).n_()&&e.O_.length>0}function Zd(e){oh(e).start()}async function eh(e){oh(e).p_()}async function th(e){const t=oh(e);for(const n of e.O_)t.m_(n.mutations)}async function nh(e,t,n){const r=e.O_.shift(),s=Tc.from(r,t,n);await Gd(e,(()=>e.remoteSyncer.applySuccessfulWrite(s))),await Qd(e)}async function rh(e,t){t&&oh(e).V_&&await async function(e,t){if(function(e){return Lc(e)&&e!==pa.ABORTED}(t.code)){const n=e.O_.shift();oh(e).s_(),await Gd(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Qd(e)}}(e,t),Jd(e)&&Zd(e)}async function sh(e,t){const n=ma(e);n.asyncQueue.verifyOperationInProgress(),la("RemoteStore","RemoteStore received new credentials");const r=zd(n);n.L_.add(3),await Rd(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.L_.delete(3),await Dd(n)}async function ih(e,t){const n=ma(e);t?(n.L_.delete(2),await Dd(n)):t||(n.L_.add(2),await Rd(n),n.q_.set("Unknown"))}function ah(e){return e.K_||(e.K_=function(e,t,n){const r=ma(e);return r.w_(),new Cd(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:$d.bind(null,e),Ro:qd.bind(null,e),mo:Wd.bind(null,e),d_:Hd.bind(null,e)}),e.B_.push((async t=>{t?(e.K_.s_(),Vd(e)?Ud(e):e.q_.set("Unknown")):(await e.K_.stop(),Bd(e))}))),e.K_}function oh(e){return e.U_||(e.U_=function(e,t,n){const r=ma(e);return r.w_(),new Td(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:()=>Promise.resolve(),Ro:eh.bind(null,e),mo:rh.bind(null,e),f_:th.bind(null,e),g_:nh.bind(null,e)}),e.B_.push((async t=>{t?(e.U_.s_(),await Qd(e)):(await e.U_.stop(),e.O_.length>0&&(la("RemoteStore",`Stopping write stream with ${e.O_.length} pending writes`),e.O_=[]))}))),e.U_}class lh{constructor(e,t,n,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=s,this.deferred=new va,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,s){const i=Date.now()+n,a=new lh(e,t,i,r,s);return a.start(n),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ga(pa.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ch(e,t){if(ca("AsyncQueue",`${t}: ${e}`),Ka(e))return new ga(pa.UNAVAILABLE,`${t}: ${e}`);throw e}class uh{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Oa.comparator(t.key,n.key):(e,t)=>Oa.comparator(e.key,t.key),this.keyedMap=Vl(),this.sortedSet=new ao(this.comparator)}static emptySet(e){return new uh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof uh))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new uh;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class dh{constructor(){this.W_=new ao(Oa.comparator)}track(e){const t=e.doc.key,n=this.W_.get(t);n?0!==e.type&&3===n.type?this.W_=this.W_.insert(t,e):3===e.type&&1!==n.type?this.W_=this.W_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.W_=this.W_.remove(t):1===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):ha():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class hh{constructor(e,t,n,r,s,i,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=s,this.fromCache=i,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,s){const i=[];return t.forEach((e=>{i.push({type:0,doc:e})})),new hh(e,t,uh.emptySet(t),i,n,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Tl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class fh{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class mh{constructor(){this.queries=ph(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(e,t){const n=ma(e),r=n.queries;n.queries=ph(),r.forEach(((e,n)=>{for(const r of n.j_)r.onError(t)}))}(this,new ga(pa.ABORTED,"Firestore shutting down"))}}function ph(){return new Ol((e=>Il(e)),Tl)}async function gh(e,t){const n=ma(e);let r=3;const s=t.query;let i=n.queries.get(s);i?!i.H_()&&t.J_()&&(r=2):(i=new fh,r=t.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(e){const n=ch(e,`Initialization of query '${Al(t.query)}' failed`);return void t.onError(n)}n.queries.set(s,i),i.j_.push(t),t.Z_(n.onlineState),i.z_&&t.X_(i.z_)&&bh(n)}async function vh(e,t){const n=ma(e),r=t.query;let s=3;const i=n.queries.get(r);if(i){const e=i.j_.indexOf(t);e>=0&&(i.j_.splice(e,1),0===i.j_.length?s=t.J_()?0:1:!i.H_()&&t.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function yh(e,t){const n=ma(e);let r=!1;for(const s of t){const e=s.query,t=n.queries.get(e);if(t){for(const e of t.j_)e.X_(s)&&(r=!0);t.z_=s}}r&&bh(n)}function xh(e,t,n){const r=ma(e),s=r.queries.get(t);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(t)}function bh(e){e.Y_.forEach((e=>{e.next()}))}var wh,kh;(kh=wh||(wh={})).ea="default",kh.Cache="cache";class Nh{constructor(e,t,n){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new hh(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache)return!0;if(!this.J_())return!0;const n="Offline"!==t;return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}oa(e){e=hh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==wh.Cache}}class Eh{constructor(e){this.key=e}}class _h{constructor(e){this.key=e}}class Sh{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Kl(),this.mutatedKeys=Kl(),this.Aa=Rl(e),this.Ra=new uh(this.Aa)}get Va(){return this.Ta}ma(e,t){const n=t?t.fa:new dh,r=t?t.Ra:this.Ra;let s=t?t.mutatedKeys:this.mutatedKeys,i=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=Pl(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.ga(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.Aa(u,o)>0||l&&this.Aa(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(a=!0)),f&&(u?(i=i.add(u),s=h?s.add(e):s.delete(e)):(i=i.delete(e),s=s.delete(e)))})),null!==this.query.limit)for(;i.size>this.query.limit;){const e="F"===this.query.limitType?i.last():i.first();i=i.delete(e.key),s=s.delete(e.key),n.track({type:1,doc:e})}return{Ra:i,fa:n,ns:a,mutatedKeys:s}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const i=e.fa.G_();i.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ha()}};return n(e)-n(t)}(e.type,t.type)||this.Aa(e.doc,t.doc))),this.pa(n),r=null!=r&&r;const a=t&&!r?this.ya():[],o=0===this.da.size&&this.current&&!r?1:0,l=o!==this.Ea;return this.Ea=o,0!==i.length||l?{snapshot:new hh(this.query,e.Ra,s,i,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new dh,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((e=>this.Ta=this.Ta.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Ta=this.Ta.delete(e))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Kl(),this.Ra.forEach((e=>{this.Sa(e.key)&&(this.da=this.da.add(e.key))}));const t=[];return e.forEach((e=>{this.da.has(e)||t.push(new _h(e))})),this.da.forEach((n=>{e.has(n)||t.push(new Eh(n))})),t}ba(e){this.Ta=e.Ts,this.da=Kl();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return hh.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class jh{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Ch{constructor(e){this.key=e,this.va=!1}}class Th{constructor(e,t,n,r,s,i){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=i,this.Ca={},this.Fa=new Ol((e=>Il(e)),Tl),this.Ma=new Map,this.xa=new Set,this.Oa=new ao(Oa.comparator),this.Na=new Map,this.La=new Hu,this.Ba={},this.ka=new Map,this.qa=Uu.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}async function Ih(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Xh(e);let s;const i=r.Fa.get(t);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await Ph(r,t,n,!0),s}async function Ah(e,t){const n=Xh(e);await Ph(n,t,!0,!1)}async function Ph(e,t,n,r){const s=await ud(e.localStore,El(t)),i=s.targetId,a=e.sharedClientState.addLocalQueryTarget(i,n);let o;return r&&(o=await Dh(e,t,i,"current"===a,s.resumeToken)),e.isPrimaryClient&&n&&Ld(e.remoteStore,s),o}async function Dh(e,t,n,r,s){e.Ka=(t,n,r)=>async function(e,t,n,r){let s=t.view.ma(n);s.ns&&(s=await hd(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ma(n,s)})));const i=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(s,e.isPrimaryClient,i,a);return Wh(e,t.targetId,o.wa),o.snapshot}(e,t,n,r);const i=await hd(e.localStore,t,!0),a=new Sh(t,i.Ts),o=a.ma(i.documents),l=Wc.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,s),c=a.applyChanges(o,e.isPrimaryClient,l);Wh(e,n,c.wa);const u=new jh(t,n,a);return e.Fa.set(t,u),e.Ma.has(n)?e.Ma.get(n).push(t):e.Ma.set(n,[t]),c.snapshot}async function Rh(e,t,n){const r=ma(e),s=r.Fa.get(t),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter((e=>!Tl(e,t)))),void r.Fa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await dd(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Od(r.remoteStore,s.targetId),$h(r,s.targetId)})).catch(qa)):($h(r,s.targetId),await dd(r.localStore,s.targetId,!0))}async function Lh(e,t){const n=ma(e),r=n.Fa.get(t),s=n.Ma.get(r.targetId);n.isPrimaryClient&&1===s.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Od(n.remoteStore,r.targetId))}async function Oh(e,t){const n=ma(e);try{const e=await function(e,t){const n=ma(e),r=t.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const i=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const a=[];t.targetChanges.forEach(((i,o)=>{const l=s.get(o);if(!l)return;a.push(n.Ur.removeMatchingKeys(e,i.removedDocuments,o).next((()=>n.Ur.addMatchingKeys(e,i.addedDocuments,o))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(mo.EMPTY_BYTE_STRING,Aa.min()).withLastLimboFreeSnapshotVersion(Aa.min()):i.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(i.resumeToken,r)),s=s.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,i)&&a.push(n.Ur.updateTargetData(e,c))}));let o=Fl(),l=Kl();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(ld(e,i,t.documentUpdates).next((e=>{o=e.Ps,l=e.Is}))),!r.isEqual(Aa.min())){const t=n.Ur.getLastRemoteSnapshotVersion(e).next((t=>n.Ur.setTargetsMetadata(e,e.currentSequenceNumber,r)));a.push(t)}return Wa.waitFor(a).next((()=>i.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,o,l))).next((()=>o))})).then((e=>(n.os=s,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Na.get(t);r&&(fa(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.va=!0:e.modifiedDocuments.size>0?fa(r.va):e.removedDocuments.size>0&&(fa(r.va),r.va=!1))})),await Gh(n,e,t)}catch(e){await qa(e)}}function Mh(e,t,n){const r=ma(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Fa.forEach(((n,r)=>{const s=r.view.Z_(t);s.snapshot&&e.push(s.snapshot)})),function(e,t){const n=ma(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const s of n.j_)s.Z_(t)&&(r=!0)})),r&&bh(n)}(r.eventManager,t),e.length&&r.Ca.d_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Fh(e,t,n){const r=ma(e);r.sharedClientState.updateQueryState(t,"rejected",n);const s=r.Na.get(t),i=s&&s.key;if(i){let e=new ao(Oa.comparator);e=e.insert(i,qo.newNoDocument(i,Aa.min()));const n=Kl().add(i),s=new qc(Aa.min(),new Map,new ao(Ca),e,n);await Oh(r,s),r.Oa=r.Oa.remove(i),r.Na.delete(t),Kh(r)}else await dd(r.localStore,t,!1).then((()=>$h(r,t,n))).catch(qa)}async function Uh(e,t){const n=ma(e),r=t.batch.batchId;try{const e=await function(e,t){const n=ma(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const s=n.batch,i=s.keys();let a=Wa.resolve();return i.forEach((e=>{a=a.next((()=>r.getEntry(t,e))).next((t=>{const i=n.docVersions.get(e);fa(null!==i),t.version.compareTo(i)<0&&(s.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),a.next((()=>e.mutationQueue.removeMutationBatch(t,s)))}(n,e,t,s).next((()=>s.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Kl();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Bh(n,r,null),zh(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Gh(n,e)}catch(e){await qa(e)}}async function Vh(e,t,n){const r=ma(e);try{const e=await function(e,t){const n=ma(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(fa(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Bh(r,t,n),zh(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Gh(r,e)}catch(n){await qa(n)}}function zh(e,t){(e.ka.get(t)||[]).forEach((e=>{e.resolve()})),e.ka.delete(t)}function Bh(e,t,n){const r=ma(e);let s=r.Ba[r.currentUser.toKey()];if(s){const e=s.get(t);e&&(n?e.reject(n):e.resolve(),s=s.remove(t)),r.Ba[r.currentUser.toKey()]=s}}function $h(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Ma.get(t))e.Fa.delete(r),n&&e.Ca.$a(r,n);e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach((t=>{e.La.containsKey(t)||qh(e,t)}))}function qh(e,t){e.xa.delete(t.path.canonicalString());const n=e.Oa.get(t);null!==n&&(Od(e.remoteStore,n),e.Oa=e.Oa.remove(t),e.Na.delete(n),Kh(e))}function Wh(e,t,n){for(const r of n)r instanceof Eh?(e.La.addReference(r.key,t),Hh(e,r)):r instanceof _h?(la("SyncEngine","Document no longer in limbo: "+r.key),e.La.removeReference(r.key,t),e.La.containsKey(r.key)||qh(e,r.key)):ha()}function Hh(e,t){const n=t.key,r=n.path.canonicalString();e.Oa.get(n)||e.xa.has(r)||(la("SyncEngine","New document in limbo: "+n),e.xa.add(r),Kh(e))}function Kh(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){const t=e.xa.values().next().value;e.xa.delete(t);const n=new Oa(Da.fromString(t)),r=e.qa.next();e.Na.set(r,new Ch(n)),e.Oa=e.Oa.insert(n,r),Ld(e.remoteStore,new Pu(El(bl(n.path)),r,"TargetPurposeLimboResolution",Ga.oe))}}async function Gh(e,t,n){const r=ma(e),s=[],i=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach(((e,o)=>{a.push(r.Ka(o,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const s=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(o.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(o.targetId,s?"current":"not-current")}if(e){s.push(e);const t=td.Wi(o.targetId,e);i.push(t)}})))})),await Promise.all(a),r.Ca.d_(s),await async function(e,t){const n=ma(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Wa.forEach(t,(t=>Wa.forEach(t.$i,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Wa.forEach(t.Ui,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Ka(e))throw e;la("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.os.get(e),r=t.snapshotVersion,s=t.withLastLimboFreeSnapshotVersion(r);n.os=n.os.insert(e,s)}}}(r.localStore,i))}async function Qh(e,t){const n=ma(e);if(!n.currentUser.isEqual(t)){la("SyncEngine","User change. New user:",t.toKey());const e=await ad(n.localStore,t);n.currentUser=t,function(e,t){e.ka.forEach((e=>{e.forEach((e=>{e.reject(new ga(pa.CANCELLED,t))}))})),e.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Gh(n,e.hs)}}function Yh(e,t){const n=ma(e),r=n.Na.get(t);if(r&&r.va)return Kl().add(r.key);{let e=Kl();const r=n.Ma.get(t);if(!r)return e;for(const t of r){const r=n.Fa.get(t);e=e.unionWith(r.view.Va)}return e}}function Xh(e){const t=ma(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Oh.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Yh.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Fh.bind(null,t),t.Ca.d_=yh.bind(null,t.eventManager),t.Ca.$a=xh.bind(null,t.eventManager),t}function Jh(e){const t=ma(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Uh.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Vh.bind(null,t),t}class Zh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=_d(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return id(this.persistence,new rd,e.initialUser,this.serializer)}Ga(e){return new Ju(ed.Zr,this.serializer)}Wa(e){return new pd}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zh.provider={build:()=>new Zh};class ef{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Mh(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Qh.bind(null,this.syncEngine),await ih(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new mh}createDatastore(e){const t=_d(e.databaseInfo.databaseId),n=function(e){return new Nd(e)}(e.databaseInfo);return function(e,t,n,r){return new Id(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,s){return new Pd(e,t,n,r,s)}(this.localStore,this.datastore,e.asyncQueue,(e=>Mh(this.syncEngine,e,0)),vd.D()?new vd:new gd)}createSyncEngine(e,t){return function(e,t,n,r,s,i,a){const o=new Th(e,t,n,r,s,i);return a&&(o.Qa=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=ma(e);la("RemoteStore","RemoteStore shutting down."),t.L_.add(5),await Rd(t),t.k_.shutdown(),t.q_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}ef.provider={build:()=>new ef};class tf{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ca("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}class nf{constructor(e,t,n,r,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=sa.UNAUTHENTICATED,this.clientId=ja.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,(async e=>{la("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(la("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new va;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(fw){const n=ch(fw,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function rf(e,t){e.asyncQueue.verifyOperationInProgress(),la("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await ad(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function sf(e,t){e.asyncQueue.verifyOperationInProgress();const n=await af(e);la("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>sh(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>sh(t.remoteStore,n))),e._onlineComponents=t}async function af(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){la("FirestoreClient","Using user provided OfflineComponentProvider");try{await rf(e,e._uninitializedComponentsProvider._offline)}catch(fw){const n=fw;if(!function(e){return"FirebaseError"===e.name?e.code===pa.FAILED_PRECONDITION||e.code===pa.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;ua("Error using user provided cache. Falling back to memory cache: "+n),await rf(e,new Zh)}}else la("FirestoreClient","Using default OfflineComponentProvider"),await rf(e,new Zh);return e._offlineComponents}async function of(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(la("FirestoreClient","Using user provided OnlineComponentProvider"),await sf(e,e._uninitializedComponentsProvider._online)):(la("FirestoreClient","Using default OnlineComponentProvider"),await sf(e,new ef))),e._onlineComponents}function lf(e){return of(e).then((e=>e.syncEngine))}function cf(e){return of(e).then((e=>e.datastore))}async function uf(e){const t=await of(e),n=t.eventManager;return n.onListen=Ih.bind(null,t.syncEngine),n.onUnlisten=Rh.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Ah.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Lh.bind(null,t.syncEngine),n}function df(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new va;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,s){const i=new tf({next:o=>{i.Za(),t.enqueueAndForget((()=>vh(e,a)));const l=o.docs.has(n);!l&&o.fromCache?s.reject(new ga(pa.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&o.fromCache&&r&&"server"===r.source?s.reject(new ga(pa.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):s.resolve(o)},error:e=>s.reject(e)}),a=new Nh(bl(n.path),i,{includeMetadataChanges:!0,_a:!0});return gh(e,a)}(await uf(e),e.asyncQueue,t,n,r))),r.promise}function hf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new va;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,s){const i=new tf({next:n=>{i.Za(),t.enqueueAndForget((()=>vh(e,a))),n.fromCache&&"server"===r.source?s.reject(new ga(pa.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):s.resolve(n)},error:e=>s.reject(e)}),a=new Nh(n,i,{includeMetadataChanges:!0,_a:!0});return gh(e,a)}(await uf(e),e.asyncQueue,t,n,r))),r.promise}function ff(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const mf=new Map;function pf(e,t,n){if(!n)throw new ga(pa.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function gf(e){if(!Oa.isDocumentKey(e))throw new ga(pa.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function vf(e){if(Oa.isDocumentKey(e))throw new ga(pa.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function yf(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":ha()}function xf(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ga(pa.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=yf(e);throw new ga(pa.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function bf(e,t){if(t<=0)throw new ga(pa.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}class wf{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new ga(pa.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ga(pa.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new ga(pa.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ff(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new ga(pa.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new ga(pa.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new ga(pa.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class kf{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wf({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ga(pa.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ga(pa.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wf(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new xa;switch(e.type){case"firstParty":return new Na(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new ga(pa.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=mf.get(e);t&&(la("ComponentProvider","Removing Datastore"),mf.delete(e),t.terminate())}(this),Promise.resolve()}}class Nf{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Nf(this.firestore,e,this._query)}}class Ef{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _f(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ef(this.firestore,e,this._key)}}class _f extends Nf{constructor(e,t,n){super(e,t,bl(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ef(this.firestore,null,new Oa(e))}withConverter(e){return new _f(this.firestore,e,this._path)}}function Sf(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];if(e=Qe(e),pf("collection","path",t),e instanceof kf){const n=Da.fromString(t,...r);return vf(n),new _f(e,null,n)}{if(!(e instanceof Ef||e instanceof _f))throw new ga(pa.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Da.fromString(t,...r));return vf(n),new _f(e.firestore,null,n)}}function jf(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];if(e=Qe(e),1===arguments.length&&(t=ja.newId()),pf("doc","path",t),e instanceof kf){const n=Da.fromString(t,...r);return gf(n),new Ef(e,null,new Oa(n))}{if(!(e instanceof Ef||e instanceof _f))throw new ga(pa.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Da.fromString(t,...r));return gf(n),new Ef(e.firestore,e instanceof _f?e.converter:null,new Oa(n))}}class Cf{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Sd(this,"async_queue_retry"),this.Vu=()=>{const e=Ed();e&&la("AsyncQueue","Visibility state changed to "+e.visibilityState),this.t_.jo()},this.mu=e;const t=Ed();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=Ed();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const t=new va;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(0!==this.Pu.length){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(Jb){if(!Ka(Jb))throw Jb;la("AsyncQueue","Operation failed with retryable error: "+Jb)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const t=this.mu.then((()=>(this.du=!0,e().catch((e=>{this.Eu=e,this.du=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw ca("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.du=!1,e))))));return this.mu=t,t}enqueueAfterDelay(e,t,n){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const r=lh.createAndSchedule(this,e,t,n,(e=>this.yu(e)));return this.Tu.push(r),r}fu(){this.Eu&&ha()}verifyOperationInProgress(){}async wu(){let e;do{e=this.mu,await e}while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.Tu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}class Tf extends kf{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Cf,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Cf(e),this._firestoreClient=void 0,await e}}}function If(e){if(e._terminated)throw new ga(pa.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Af(e),e._firestoreClient}function Af(e){var t,n,r;const s=e._freezeSettings(),i=function(e,t,n,r){return new ko(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,ff(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,s);e._componentsProvider||(null===(n=s.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=s.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),e._firestoreClient=new nf(e._authCredentials,e._appCheckCredentials,e._queue,i,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class Pf{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"count",t=arguments.length>1?arguments[1]:void 0;this._internalFieldPath=t,this.type="AggregateField",this.aggregateType=e}}class Df{constructor(e,t,n){this._userDataWriter=t,this._data=n,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}class Rf{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Rf(mo.fromBase64String(e))}catch(e){throw new ga(pa.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Rf(mo.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Lf{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new ga(pa.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new La(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Of{constructor(e){this._methodName=e}}class Mf{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ga(pa.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ga(pa.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ca(this._lat,e._lat)||Ca(this._long,e._long)}}class Ff{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const Uf=/^__.*__$/;class Vf{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new kc(e,this.data,this.fieldMask,t,this.fieldTransforms):new wc(e,this.data,t,this.fieldTransforms)}}class zf{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new kc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Bf(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ha()}}class $f{constructor(e,t,n,r,s,i){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===s&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=i||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new $f(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fu({path:n,xu:!1});return r.Ou(e),r}Nu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fu({path:n,xu:!1});return r.vu(),r}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return cm(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(Bf(this.Cu)&&Uf.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class qf{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||_d(e)}Qu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new $f({Cu:e,methodName:t,qu:n,path:La.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Wf(e){const t=e._freezeSettings(),n=_d(e._databaseId);return new qf(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Hf(e,t,n,r,s){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.Qu(i.merge||i.mergeFields?2:0,t,n,s);im("Data must be an object, but it was:",a,r);const o=rm(r,a);let l,c;if(i.merge)l=new ho(a.fieldMask),c=a.fieldTransforms;else if(i.mergeFields){const e=[];for(const r of i.mergeFields){const s=am(t,r,n);if(!a.contains(s))throw new ga(pa.INVALID_ARGUMENT,`Field '${s}' is specified in your field mask but missing from your input data.`);um(e,s)||e.push(s)}l=new ho(e),c=a.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=a.fieldTransforms;return new Vf(new Bo(o),l,c)}class Kf extends Of{_toFieldTransform(e){if(2!==e.Cu)throw 1===e.Cu?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Kf}}function Gf(e,t,n){return new $f({Cu:3,qu:t.settings.qu,methodName:e._methodName,xu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Qf extends Of{_toFieldTransform(e){return new dc(e.path,new rc)}isEqual(e){return e instanceof Qf}}class Yf extends Of{constructor(e,t){super(e),this.Ku=t}_toFieldTransform(e){const t=Gf(this,e,!0),n=this.Ku.map((e=>nm(e,t))),r=new sc(n);return new dc(e.path,r)}isEqual(e){return e instanceof Yf&&Be(this.Ku,e.Ku)}}class Xf extends Of{constructor(e,t){super(e),this.Ku=t}_toFieldTransform(e){const t=Gf(this,e,!0),n=this.Ku.map((e=>nm(e,t))),r=new ac(n);return new dc(e.path,r)}isEqual(e){return e instanceof Xf&&Be(this.Ku,e.Ku)}}class Jf extends Of{constructor(e,t){super(e),this.$u=t}_toFieldTransform(e){const t=new lc(e.serializer,Jl(e.serializer,this.$u));return new dc(e.path,t)}isEqual(e){return e instanceof Jf&&this.$u===e.$u}}function Zf(e,t,n,r){const s=e.Qu(1,t,n);im("Data must be an object, but it was:",s,r);const i=[],a=Bo.empty();ro(r,((e,r)=>{const o=lm(t,e,n);r=Qe(r);const l=s.Nu(o);if(r instanceof Kf)i.push(o);else{const e=nm(r,l);null!=e&&(i.push(o),a.set(o,e))}}));const o=new ho(i);return new zf(a,o,s.fieldTransforms)}function em(e,t,n,r,s,i){const a=e.Qu(1,t,n),o=[am(t,r,n)],l=[s];if(i.length%2!=0)throw new ga(pa.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<i.length;h+=2)o.push(am(t,i[h])),l.push(i[h+1]);const c=[],u=Bo.empty();for(let h=o.length-1;h>=0;--h)if(!um(c,o[h])){const e=o[h];let t=l[h];t=Qe(t);const n=a.Nu(e);if(t instanceof Kf)c.push(e);else{const r=nm(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new ho(c);return new zf(u,d,a.fieldTransforms)}function tm(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return nm(n,e.Qu(r?4:3,t))}function nm(e,t){if(sm(e=Qe(e)))return im("Unsupported field value:",t,e),rm(e,t);if(e instanceof Of)return function(e,t){if(!Bf(t.Cu))throw t.Bu(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Bu(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xu&&4!==t.Cu)throw t.Bu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const s of e){let e=nm(s,t.Lu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Qe(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Jl(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Ia.fromDate(e);return{timestampValue:su(t.serializer,n)}}if(e instanceof Ia){const n=new Ia(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:su(t.serializer,n)}}if(e instanceof Mf)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Rf)return{bytesValue:iu(t.serializer,e._byteString)};if(e instanceof Ef){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Bu(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:lu(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof Ff)return function(e,t){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw t.Bu("VectorValues must only contain numeric values.");return Yl(t.serializer,e)}))}}}}}}(e,t);throw t.Bu(`Unsupported field value: ${yf(e)}`)}(e,t)}function rm(e,t){const n={};return io(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ro(e,((e,r)=>{const s=nm(r,t.Mu(e));null!=s&&(n[e]=s)})),{mapValue:{fields:n}}}function sm(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Ia||e instanceof Mf||e instanceof Rf||e instanceof Ef||e instanceof Of||e instanceof Ff)}function im(e,t,n){if(!sm(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=yf(n);throw"an object"===r?t.Bu(e+" a custom object"):t.Bu(e+" "+r)}}function am(e,t,n){if((t=Qe(t))instanceof Lf)return t._internalPath;if("string"==typeof t)return lm(e,t);throw cm("Field path arguments must be of type string or ",e,!1,void 0,n)}const om=new RegExp("[~\\*/\\[\\]]");function lm(e,t,n){if(t.search(om)>=0)throw cm(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Lf(...t.split("."))._internalPath}catch(Fb){throw cm(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function cm(e,t,n,r,s){const i=r&&!r.isEmpty(),a=void 0!==s;let o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(i||a)&&(l+=" (found",i&&(l+=` in field ${r}`),a&&(l+=` in document ${s}`),l+=")"),new ga(pa.INVALID_ARGUMENT,o+e+l)}function um(e,t){return e.some((e=>e.isEqual(t)))}class dm{constructor(e,t,n,r,s){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ef(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new hm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(fm("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class hm extends dm{data(){return super.data()}}function fm(e,t){return"string"==typeof t?lm(e,t):t instanceof Lf?t._internalPath:t._delegate._internalPath}function mm(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new ga(pa.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class pm{}class gm extends pm{}function vm(e,t){let n=[];for(var r=arguments.length,s=new Array(r>2?r-2:0),i=2;i<r;i++)s[i-2]=arguments[i];t instanceof pm&&n.push(t),n=n.concat(s),function(e){const t=e.filter((e=>e instanceof bm)).length,n=e.filter((e=>e instanceof ym)).length;if(t>1||t>0&&n>0)throw new ga(pa.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class ym extends gm{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new ym(e,t,n)}_apply(e){const t=this._parse(e);return Tm(e._query,t),new Nf(e.firestore,e.converter,jl(e._query,t))}_parse(e){const t=Wf(e.firestore),n=function(e,t,n,r,s,i,a){let o;if(s.isKeyField()){if("array-contains"===i||"array-contains-any"===i)throw new ga(pa.INVALID_ARGUMENT,`Invalid Query. You can't perform '${i}' queries on documentId().`);if("in"===i||"not-in"===i){Cm(a,i);const t=[];for(const n of a)t.push(jm(r,e,n));o={arrayValue:{values:t}}}else o=jm(r,e,a)}else"in"!==i&&"not-in"!==i&&"array-contains-any"!==i||Cm(a,i),o=tm(n,t,a,"in"===i||"not-in"===i);return Xo.create(s,i,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function xm(e,t,n){const r=t,s=fm("where",e);return ym._create(s,r,n)}class bm extends pm{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new bm(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:Jo.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const s of r)Tm(n,s),n=jl(n,s)}(e._query,t),new Nf(e.firestore,e.converter,jl(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class wm extends gm{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new wm(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new ga(pa.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new ga(pa.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Go(t,n)}(e._query,this._field,this._direction);return new Nf(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new yl(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function km(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=fm("orderBy",e);return wm._create(n,t)}class Nm extends gm{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new Nm(e,t,n)}_apply(e){return new Nf(e.firestore,e.converter,Cl(e._query,this._limit,this._limitType))}}function Em(e){return bf("limit",e),Nm._create("limit",e,"F")}class _m extends gm{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new _m(e,t,n)}_apply(e){const t=Sm(e,this.type,this._docOrFields,this._inclusive);return new Nf(e.firestore,e.converter,function(e,t){return new yl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}function Sm(e,t,n,r){if(n[0]=Qe(n[0]),n[0]instanceof dm)return function(e,t,n,r,s){if(!r)throw new ga(pa.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);const i=[];for(const a of Nl(e))if(a.field.isKeyField())i.push(Do(t,r.key));else{const e=r.data.field(a.field);if(xo(e))throw new ga(pa.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=a.field.canonicalString();throw new ga(pa.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${e}' (used as the orderBy) does not exist.`)}i.push(e)}return new Wo(i,s)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const s=Wf(e.firestore);return function(e,t,n,r,s,i){const a=e.explicitOrderBy;if(s.length>a.length)throw new ga(pa.INVALID_ARGUMENT,`Too many arguments provided to ${r}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const o=[];for(let l=0;l<s.length;l++){const i=s[l];if(a[l].field.isKeyField()){if("string"!=typeof i)throw new ga(pa.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${r}(), but got a ${typeof i}`);if(!kl(e)&&-1!==i.indexOf("/"))throw new ga(pa.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${r}() must be a plain document ID, but '${i}' contains a slash.`);const n=e.path.child(Da.fromString(i));if(!Oa.isDocumentKey(n))throw new ga(pa.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${r}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);const s=new Oa(n);o.push(Do(t,s))}else{const e=tm(n,r,i);o.push(e)}}return new Wo(o,i)}(e._query,e.firestore._databaseId,s,t,n,r)}}function jm(e,t,n){if("string"==typeof(n=Qe(n))){if(""===n)throw new ga(pa.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kl(t)&&-1!==n.indexOf("/"))throw new ga(pa.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Da.fromString(n));if(!Oa.isDocumentKey(r))throw new ga(pa.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Do(e,new Oa(r))}if(n instanceof Ef)return Do(e,n._key);throw new ga(pa.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${yf(n)}.`)}function Cm(e,t){if(!Array.isArray(e)||0===e.length)throw new ga(pa.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Tm(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new ga(pa.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ga(pa.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class Im{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(_o(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vo(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(yo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ha()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return ro(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){var t,n,r;const s=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t.value.arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((e=>vo(e.doubleValue)));return new Ff(s)}convertGeoPoint(e){return new Mf(vo(e.latitude),vo(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=bo(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(wo(e));default:return null}}convertTimestamp(e){const t=go(e);return new Ia(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Da.fromString(e);fa(Au(n));const r=new No(n.get(1),n.get(3)),s=new Oa(n.popFirst(5));return r.isEqual(t)||ca(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function Am(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Pm{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Dm extends dm{constructor(e,t,n,r,s,i){super(e,t,n,r,i),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Rm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(fm("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Rm extends Dm{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Lm{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Pm(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Rm(this._firestore,this._userDataWriter,n.key,n,new Pm(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ga(pa.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new Rm(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Pm(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new Rm(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Pm(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let s=-1,i=-1;return 0!==t.type&&(s=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),i=n.indexOf(t.doc.key)),{type:Om(t.type),doc:r,oldIndex:s,newIndex:i}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Om(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ha()}}function Mm(e){e=xf(e,Ef);const t=xf(e.firestore,Tf);return df(If(t),e._key).then((n=>Wm(t,e,n)))}class Fm extends Im{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rf(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ef(this.firestore,null,t)}}function Um(e){e=xf(e,Nf);const t=xf(e.firestore,Tf),n=If(t),r=new Fm(t);return mm(e._query),hf(n,e._query).then((n=>new Lm(t,r,e,n)))}function Vm(e,t,n){e=xf(e,Ef);const r=xf(e.firestore,Tf),s=Am(e.converter,t,n);return qm(r,[Hf(Wf(r),"setDoc",e._key,s,null!==e.converter,n).toMutation(e._key,fc.none())])}function zm(e,t,n){e=xf(e,Ef);const r=xf(e.firestore,Tf),s=Wf(r);let i;for(var a=arguments.length,o=new Array(a>3?a-3:0),l=3;l<a;l++)o[l-3]=arguments[l];return i="string"==typeof(t=Qe(t))||t instanceof Lf?em(s,"updateDoc",e._key,t,n,o):Zf(s,"updateDoc",e._key,t),qm(r,[i.toMutation(e._key,fc.exists(!0))])}function Bm(e){return qm(xf(e.firestore,Tf),[new Sc(e._key,fc.none())])}function $m(e,t){const n=xf(e.firestore,Tf),r=jf(e),s=Am(e.converter,t);return qm(n,[Hf(Wf(e.firestore),"addDoc",r._key,s,null!==e.converter,{}).toMutation(r._key,fc.exists(!1))]).then((()=>r))}function qm(e,t){return function(e,t){const n=new va;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=Jh(e);try{const e=await function(e,t){const n=ma(e),r=Ia.now(),s=t.reduce(((e,t)=>e.add(t.key)),Kl());let i,a;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let o=Fl(),l=Kl();return n.cs.getEntries(e,s).next((e=>{o=e,o.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,o))).next((s=>{i=s;const a=[];for(const e of t){const t=xc(e,i.get(e.key).overlayedDocument);null!=t&&a.push(new kc(e.key,t,$o(t.value.mapValue),fc.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)})).next((t=>{a=t;const r=t.applyToLocalDocumentSet(i,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:a.batchId,changes:zl(i)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Ba[e.currentUser.toKey()];r||(r=new ao(Ca)),r=r.insert(t,n),e.Ba[e.currentUser.toKey()]=r}(r,e.batchId,n),await Gh(r,e.changes),await Qd(r.remoteStore)}catch(e){const t=ch(e,"Failed to persist write");n.reject(t)}}(await lf(e),t,n))),n.promise}(If(e),t)}function Wm(e,t,n){const r=n.docs.get(t._key),s=new Fm(e);return new Dm(e,s,t._key,r,new Pm(n.hasPendingWrites,n.fromCache),t.converter)}function Hm(e){return function(e,t){const n=xf(e.firestore,Tf),r=If(n),s=so(t,((e,t)=>new Ac(t,e.aggregateType,e._internalFieldPath)));return function(e,t,n){const r=new va;return e.asyncQueue.enqueueAndForget((async()=>{try{const s=await cf(e);r.resolve(async function(e,t,n){var r;const s=ma(e),{request:i,ut:a,parent:o}=wu(s.serializer,_l(t),n);s.connection.Fo||delete i.parent;const l=(await s.Lo("RunAggregationQuery",s.serializer.databaseId,o,i,1)).filter((e=>!!e.result));fa(1===l.length);const c=null===(r=l[0].result)||void 0===r?void 0:r.aggregateFields;return Object.keys(c).reduce(((e,t)=>(e[a[t]]=c[t],e)),{})}(s,t,n))}catch(e){r.reject(e)}})),r.promise}(r,e._query,s).then((t=>function(e,t,n){const r=new Fm(e);return new Df(t,r,n)}(n,e,t)))}(e,{count:new Pf("count")})}function Km(){return new Qf("serverTimestamp")}function Gm(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Yf("arrayUnion",t)}function Qm(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Xf("arrayRemove",t)}function Ym(e){return new Jf("increment",e)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){ia=e}(dn),an(new Ye("firestore",((e,n)=>{let{instanceIdentifier:r,options:s}=n;const i=e.getProvider("app").getImmediate(),a=new Tf(new wa(e.getProvider("auth-internal")),new _a(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ga(pa.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new No(e.options.projectId,t)}(i,r),i);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a}),"PUBLIC").setMultipleInstances(!0)),mn(ra,"4.7.3",e),mn(ra,"4.7.3","esm2017")}();mn("firebase","10.14.1","app");const Xm="firebasestorage.googleapis.com",Jm="storageBucket";class Zm extends Ue{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(np(e),`Firebase Storage: ${t} (${np(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Zm.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return np(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}var ep,tp;function np(e){return"storage/"+e}function rp(){return new Zm(ep.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function sp(){return new Zm(ep.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function ip(){return new Zm(ep.CANCELED,"User canceled the upload/download.")}function ap(e){return new Zm(ep.INVALID_ARGUMENT,e)}function op(){return new Zm(ep.APP_DELETED,"The Firebase app was deleted.")}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(ep||(ep={}));class lp{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=lp.makeFromUrl(e,t)}catch(Jb){return new lp(e,"")}if(""===n.path)return n;throw r=e,new Zm(ep.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const s=new RegExp("^gs://"+r+"(/(.*))?$","i");function i(e){e.path_=decodeURIComponent(e.path)}const a=t.replace(/[.]/g,"\\."),o=[{regex:s,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${a}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:i},{regex:new RegExp(`^https?://${t===Xm?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:i}];for(let l=0;l<o.length;l++){const t=o[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let s=r[t.indices.path];s||(s=""),n=new lp(e,s),t.postModify(n);break}}if(null==n)throw function(e){return new Zm(ep.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class cp{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function up(e,t,n,r){if(r<t)throw ap(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw ap(`Invalid value for '${e}'. Expected ${n} or less.`)}function dp(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function hp(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),s=-1!==t.indexOf(e);return n||r||s}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(tp||(tp={}));class fp{constructor(e,t,n,r,s,i,a,o,l,c,u){let d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=i,this.callback_=a,this.errorCallback_=o,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new mp(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===tp.NO_ERROR,s=n.getStatus();if(!t||hp(s,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===tp.ABORT;return void e(!1,new mp(!1,null,t))}const i=-1!==this.successCodes_.indexOf(s);e(!0,new mp(i,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,s=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(s,s.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(Jb){r(Jb)}else if(null!==s){const e=rp();e.serverResponse=s.getErrorText(),this.errorCallback_?r(this.errorCallback_(s,e)):r(e)}else if(t.canceled){r(this.appDelete_?op():ip())}else{r(sp())}};this.canceled_?t(0,new mp(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,s=null,i=null,a=!1,o=0;function l(){return 2===o}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function d(t){s=setTimeout((()=>{s=null,e(f,l())}),t)}function h(){i&&clearTimeout(i)}function f(e){if(c)return void h();for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];if(e)return h(),void u.call(null,e,...n);if(l()||a)return h(),void u.call(null,e,...n);let i;r<64&&(r*=2),1===o?(o=2,i=0):i=1e3*(r+Math.random()),d(i)}let m=!1;function p(e){m||(m=!0,h(),c||(null!==s?(e||(o=2),clearTimeout(s),d(0)):e||(o=1)))}return d(0),i=setTimeout((()=>{a=!0,p(!0)}),n),p}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class mp{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function pp(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}class gp{constructor(e,t){this._service=e,this._location=t instanceof lp?t:lp.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new gp(e,t)}get root(){const e=new lp(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return pp(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new lp(this._location.bucket,e);return new gp(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new Zm(ep.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function vp(e,t){const n=null===t||void 0===t?void 0:t[Jm];return null==n?null:lp.makeFromBucketSpec(n,e)}class yp{constructor(e,t,n,r,s){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=Xm,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?lp.makeFromBucketSpec(r,this._host):vp(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=lp.makeFromBucketSpec(this._url,e):this._bucket=vp(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){up("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){up("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new gp(this,e)}_makeRequest(e,t,n,r){let s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new cp(op());{const i=function(e,t,n,r,s,i){let a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const o=dp(e.urlParams),l=e.url+o,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,i),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new fp(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,s,a)}(e,this._appId,n,r,t,this._firebaseVersion,s);return this._requests.add(i),i.getPromise().then((()=>this._requests.delete(i)),(()=>this._requests.delete(i))),i}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const xp="@firebase/storage",bp="0.13.2",wp="storage";function kp(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new yp(r,s,i,n,dn)}an(new Ye(wp,kp,"PUBLIC").setMultipleInstances(!0)),mn(xp,bp,""),mn(xp,bp,"esm2017");const Np=hn({apiKey:"AIzaSyDcMMaGMCOixe2Cem2LIH05LeRk7bz1I6w",authDomain:"prnclub-vn.firebaseapp.com",databaseURL:"https://prnclub-vn-default-rtdb.firebaseio.com",projectId:"prnclub-vn",storageBucket:"prnclub-vn.firebasestorage.app",messagingSenderId:"183716957909",appId:"1:183716957909:web:2c84ce11972ea7aefa9c5c",measurementId:"G-YKEXQH3FGC"}),Ep=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fn();const t=on(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=on(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Be(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;An(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Oi,persistence:[Gs,As,Ds]}),r=De("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(s=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Vi)return;const r=null===t||void 0===t?void 0:t.token;zi!==r&&(zi=r,await fetch(s,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){Qe(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,r){Qe(e).onIdTokenChanged(t,n,r)}(n,(e=>t(e)))}}var s;const i=Ie("auth");return i&&Kr(n,`http://${i}`),n}(Np),_p=function(e,t){const n="string"==typeof e?e:t||"(default)",r=on("object"==typeof e?e:fn(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=Ae("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var s;const i=(e=xf(e,kf))._getSettings(),a=`${t}:${n}`;if("firestore.googleapis.com"!==i.host&&i.host!==a&&ua("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},i),{host:a,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=sa.MOCK_USER;else{t=Le(r.mockUserToken,null===(s=e._app)||void 0===s?void 0:s.options.projectId);const i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new ga(pa.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new sa(i)}e._authCredentials=new ba(new ya(t,n))}}(r,...e)}return r}(Np);!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fn(),t=arguments.length>1?arguments[1]:void 0;e=Qe(e);const n=on(e,wp).getImmediate({identifier:t}),r=Ae("storage");r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:s}=r;s&&(e._overrideAuthToken="string"===typeof s?s:Le(s,e.app.options.projectId))}(e,t,n,r)}(n,...r)}(Np);var Sp=n(579);const jp=(0,s.createContext)();function Cp(){return(0,s.useContext)(jp)}function Tp(e){let{children:t}=e;const[n,r]=(0,s.useState)(null),[i,a]=(0,s.useState)(null),[o,l]=(0,s.useState)(null),[c,u]=(0,s.useState)(!0);(0,s.useEffect)((()=>{const e=function(e,t,n,r){return Qe(e).onAuthStateChanged(t,n,r)}(Ep,(async e=>{if(e)try{const t=await Mm(jf(_p,"admins",e.uid));if(t.exists()){const e=t.data();if("inactive"===e.status)return await js(Ep),r(null),a(null),l(null),void u(!1);l(e.role)}else{const t=await Mm(jf(_p,"users",e.uid));if(t.exists()){const e=t.data();if("inactive"===e.status)return await js(Ep),r(null),a(null),l(null),void u(!1);a(e)}l("user")}r(e)}catch(t){console.error("Error checking user status:",t),r(null),a(null),l(null)}else r(null),a(null),l(null);u(!1)}));return e}),[]);const d={currentUser:n,userData:i,userRole:o,register:async function(e,t,n){try{const r=await async function(e,t,n){if(ln(e.app))return Promise.reject(Rn(e));const r=Ur(e),s=Hr(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ms),i=await s.catch((t=>{throw"auth/password-does-not-meet-requirements"===t.code&&Es(e),t})),a=await ps._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(a.user),a}(Ep,e,t);return await Ss(r.user,{displayName:n}),await Vm(jf(_p,"users",r.user.uid),{uid:r.user.uid,email:e,displayName:n,role:"user",status:"active",createdAt:new Date,featured:[]}),r.user}catch(r){throw r}},login:async function(e,t){try{const n=await _s(Ep,e,t),r=await Mm(jf(_p,"users",n.user.uid));if(r.exists()){if("inactive"===r.data().status)throw await js(Ep),new Error("Account is inactive. Please contact support.");return n.user}return await Vm(jf(_p,"users",n.user.uid),{uid:n.user.uid,email:n.user.email,displayName:n.user.displayName||e.split("@")[0],role:"user",status:"active",createdAt:new Date,featured:[]}),n.user}catch(n){throw n}},adminLogin:async function(e,t){try{const n=await _s(Ep,e,t),r=await Mm(jf(_p,"admins",n.user.uid));if(r.exists()){const e=r.data();if("inactive"===e.status)throw await js(Ep),new Error("Account is inactive. Please contact support.");if("admin"===e.role||"ad_admin"===e.role)return{user:n.user,role:e.role};throw await js(Ep),new Error("This user does not have admin permissions.")}throw await js(Ep),new Error("This user does not have admin permissions.")}catch(n){throw n}},logout:function(){return js(Ep)},resetPassword:function(e){return async function(e,t,n){const r=Ur(e),s={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&Ns(r,s,n),await Hr(r,s,"getOobCode",es)}(Ep,e)},updateUserData:async function(){if(n)try{const e=await Mm(jf(_p,"users",n.uid));if(e.exists()){const t=e.data();return a(t),t}}catch(e){console.error("Error updating user data:",e)}return null},loading:c};return(0,Sp.jsx)(jp.Provider,{value:d,children:!c&&t})}const Ip=(0,s.createContext)();function Ap(){return(0,s.useContext)(Ip)}function Pp(e){let{children:t}=e;(0,s.useEffect)((()=>{document.documentElement.classList.add("dark"),document.body.classList.add("bg-dark-900"),document.body.classList.remove("bg-gray-100"),localStorage.setItem("darkMode","true")}),[]);const n={darkMode:!0};return(0,Sp.jsx)(Ip.Provider,{value:n,children:t})}const Dp=(0,s.createContext)();function Rp(e){let{children:t}=e;const[n,r]=(0,s.useState)(null),i=J(),a=async e=>{try{if(i.pathname.startsWith("/admin"))return;if(!(()=>{const e=localStorage.getItem("lastVisitTime"),t=Date.now();return(!e||t-parseInt(e)>18e5)&&(localStorage.setItem("lastVisitTime",t.toString()),!0)})())return;const t=(()=>{let e=sessionStorage.getItem("visitorSession");return e||(e=Math.random().toString(36).substring(2)+Date.now().toString(36),sessionStorage.setItem("visitorSession",e)),e})(),n=jf(_p,"statistics","mainSiteVisitors");(await Mm(n)).exists()?await Vm(n,{[e]:Ym(1),total:Ym(1),lastUpdated:new Date},{merge:!0}):await Vm(n,{mobile:"mobile"===e?1:0,pc:"pc"===e?1:0,total:1,lastUpdated:new Date});const r=Sf(_p,"statistics","mainSiteVisitors","dailyStats"),s=new Date;s.setHours(0,0,0,0),await $m(r,{date:s,[e]:1,sessionId:t,createdAt:new Date})}catch(t){console.error("Error updating device statistics:",t)}};(0,s.useEffect)((()=>{const e=(()=>{const e=navigator.userAgent.toLowerCase();return/mobile|android|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(e)?"mobile":"pc"})();r(e),sessionStorage.getItem("visitorSession")||a(e)}),[]);const o={deviceType:n};return(0,Sp.jsx)(Dp.Provider,{value:o,children:t})}const Lp=(0,s.createContext)(),Op=e=>{let{children:t}=e;const n={trackAdClick:async(e,t)=>{try{const e=jf(_p,"statistics","adPerformance"),n=jf(_p,"statistics/adPerformance/dailyStats",(new Date).toISOString().split("T")[0]),r={totalClicks:Ym(1),lastUpdated:Ia.now(),[`positionStats.${t}.clicks`]:Ym(1)};await zm(e,r);(await Mm(n)).exists()?await zm(n,{clicks:Ym(1),[`positionClicks.${t}`]:Ym(1)}):await Vm(n,{date:Ia.now(),clicks:1,impressions:0,positionClicks:{[t]:1},positionImpressions:{[t]:0}});const s=(await Mm(e)).data(),i=s.totalClicks/s.totalImpressions*100;await zm(e,{ctr:i})}catch(n){console.error("Error tracking ad click:",n)}},trackAdImpression:async(e,t)=>{try{const e=jf(_p,"statistics","adPerformance"),n=jf(_p,"statistics/adPerformance/dailyStats",(new Date).toISOString().split("T")[0]),r={totalImpressions:Ym(1),lastUpdated:Ia.now(),[`positionStats.${t}.impressions`]:Ym(1)};await zm(e,r);(await Mm(n)).exists()?await zm(n,{impressions:Ym(1),[`positionImpressions.${t}`]:Ym(1)}):await Vm(n,{date:Ia.now(),clicks:0,impressions:1,positionClicks:{[t]:0},positionImpressions:{[t]:1}});const s=(await Mm(e)).data(),i=s.totalImpressions/s.totalPageViews;await zm(e,{impressionsPerPage:i})}catch(n){console.error("Error tracking ad impression:",n)}},trackPageView:async()=>{try{const e=jf(_p,"statistics","adPerformance");await zm(e,{totalPageViews:Ym(1),lastUpdated:Ia.now()})}catch(e){console.error("Error tracking page view:",e)}}};return(0,Sp.jsx)(Lp.Provider,{value:n,children:t})};var Mp=n(950),Fp=n.t(Mp,2);function Up(){return Up=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Up.apply(this,arguments)}function Vp(e,t){if(null==e)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const zp=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Bp=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"];try{window.__reactRouterVersion="6"}catch(Jb){}const $p=s.createContext({isTransitioning:!1});new Map;const qp=i.startTransition;Fp.flushSync,i.useId;function Wp(e){let{basename:t,children:n,future:r,window:i}=e,a=s.useRef();var o;null==a.current&&(a.current=(void 0===(o={window:i,v5Compat:!0})&&(o={}),p((function(e,t){let{pathname:n,search:r,hash:s}=e.location;return h("",{pathname:n,search:r,hash:s},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:f(t)}),null,o)));let l=a.current,[c,u]=s.useState({action:l.action,location:l.location}),{v7_startTransition:d}=r||{},m=s.useCallback((e=>{d&&qp?qp((()=>u(e))):u(e)}),[u,d]);return s.useLayoutEffect((()=>l.listen(m)),[l,m]),s.useEffect((()=>ge(r)),[r]),s.createElement(be,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}const Hp="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Kp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gp=s.forwardRef((function(e,t){let n,{onClick:r,relative:i,reloadDocument:a,replace:o,state:l,target:u,to:d,preventScrollReset:h,viewTransition:m}=e,p=Vp(e,zp),{basename:g}=s.useContext(K),v=!1;if("string"===typeof d&&Kp.test(d)&&(n=d,Hp))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),n=P(t.pathname,g);t.origin===e.origin&&null!=n?d=n+t.search+t.hash:v=!0}catch(Jb){}let y=function(e,t){let{relative:n}=void 0===t?{}:t;X()||c(!1);let{basename:r,navigator:i}=s.useContext(K),{hash:a,pathname:o,search:l}=re(e,{relative:n}),u=o;return"/"!==r&&(u="/"===o?r:M([r,o])),i.createHref({pathname:u,search:l,hash:a})}(d,{relative:i}),x=function(e,t){let{target:n,replace:r,state:i,preventScrollReset:a,relative:o,viewTransition:l}=void 0===t?{}:t,c=ee(),u=J(),d=re(e,{relative:o});return s.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:f(u)===f(d);c(e,{replace:n,state:i,preventScrollReset:a,relative:o,viewTransition:l})}}),[u,c,d,r,i,n,e,a,o,l])}(d,{replace:o,state:l,target:u,preventScrollReset:h,relative:i,viewTransition:m});return s.createElement("a",Up({},p,{href:n||y,onClick:v||a?r:function(e){r&&r(e),e.defaultPrevented||x(e)},ref:t,target:u}))}));const Qp=s.forwardRef((function(e,t){let{"aria-current":n="page",caseSensitive:r=!1,className:i="",end:a=!1,style:o,to:l,viewTransition:u,children:d}=e,h=Vp(e,Bp),f=re(l,{relative:h.relative}),m=J(),p=s.useContext(H),{navigator:g,basename:v}=s.useContext(K),y=null!=p&&function(e,t){void 0===t&&(t={});let n=s.useContext($p);null==n&&c(!1);let{basename:r}=Jp(Yp.useViewTransitionState),i=re(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=P(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=P(n.nextLocation.pathname,r)||n.nextLocation.pathname;return null!=I(i.pathname,o)||null!=I(i.pathname,a)}(f)&&!0===u,x=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,b=m.pathname,w=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;r||(b=b.toLowerCase(),w=w?w.toLowerCase():null,x=x.toLowerCase()),w&&v&&(w=P(w,v)||w);const k="/"!==x&&x.endsWith("/")?x.length-1:x.length;let N,E=b===x||!a&&b.startsWith(x)&&"/"===b.charAt(k),_=null!=w&&(w===x||!a&&w.startsWith(x)&&"/"===w.charAt(x.length)),S={isActive:E,isPending:_,isTransitioning:y},j=E?n:void 0;N="function"===typeof i?i(S):[i,E?"active":null,_?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let C="function"===typeof o?o(S):o;return s.createElement(Gp,Up({},h,{"aria-current":j,className:N,ref:t,style:C,to:l,viewTransition:u}),"function"===typeof d?d(S):d)}));var Yp,Xp;function Jp(e){let t=s.useContext(W);return t||c(!1),t}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Yp||(Yp={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Xp||(Xp={}));Math.pow(10,8);const Zp=6048e5,eg=43200,tg=Symbol.for("constructDateFrom");function ng(e,t){return"function"===typeof e?e(t):e&&"object"===typeof e&&tg in e?e[tg](t):e instanceof Date?new e.constructor(t):new Date(t)}function rg(e){return ng(e,Date.now())}const sg={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function ig(e){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const ag={date:ig({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:ig({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:ig({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},og={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function lg(e){return(t,n)=>{let r;if("formatting"===(n?.context?String(n.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,s=n?.width?String(n.width):t;r=e.formattingValues[s]||e.formattingValues[t]}else{const t=e.defaultWidth,s=n?.width?String(n.width):e.defaultWidth;r=e.values[s]||e.values[t]}return r[e.argumentCallback?e.argumentCallback(t):t]}}function cg(e){return function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const a=i[0],o=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(o)?function(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n;return}(o,(e=>e.test(a))):function(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n;return}(o,(e=>e.test(a)));let c;c=e.valueCallback?e.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;return{value:c,rest:t.slice(a.length)}}}function ug(e){return function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=t.match(e.matchPattern);if(!r)return null;const s=r[0],i=t.match(e.parsePattern);if(!i)return null;let a=e.valueCallback?e.valueCallback(i[0]):i[0];a=n.valueCallback?n.valueCallback(a):a;return{value:a,rest:t.slice(s.length)}}}const dg={code:"en-US",formatDistance:(e,t,n)=>{let r;const s=sg[e];return r="string"===typeof s?s:1===t?s.one:s.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r},formatLong:ag,formatRelative:(e,t,n,r)=>og[e],localize:{ordinalNumber:(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:lg({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:lg({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:lg({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:lg({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:lg({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:ug({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)}),era:cg({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:cg({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:cg({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:cg({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:cg({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};let hg={};function fg(){return hg}function mg(e,t){return ng(t||e,e)}function pg(e){const t=mg(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function gg(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const s=ng.bind(null,e||n.find((e=>"object"===typeof e)));return n.map(s)}function vg(e,t){const n=+mg(e)-+mg(t);return n<0?-1:n>0?1:n}function yg(e,t,n){const[r,s]=gg(n?.in,e,t);return 12*(r.getFullYear()-s.getFullYear())+(r.getMonth()-s.getMonth())}function xg(e,t){const n=mg(e,t?.in);return n.setHours(23,59,59,999),n}function bg(e,t){const n=mg(e,t?.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function wg(e,t){const n=mg(e,t?.in);return+xg(n,t)===+bg(n,t)}function kg(e,t,n){const[r,s,i]=gg(n?.in,e,e,t),a=vg(s,i),o=Math.abs(yg(s,i));if(o<1)return 0;1===s.getMonth()&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-a*o);let l=vg(s,i)===-a;wg(r)&&1===o&&1===vg(r,i)&&(l=!1);const c=a*(o-+l);return 0===c?0:c}function Ng(e,t){return+mg(e)-+mg(t)}function Eg(e,t,n){const r=Ng(e,t)/1e3;return(s=n?.roundingMethod,e=>{const t=(s?Math[s]:Math.trunc)(e);return 0===t?0:t})(r);var s}function _g(e,t,n){const r=fg(),s=n?.locale??r.locale??dg,i=vg(e,t);if(isNaN(i))throw new RangeError("Invalid time value");const a=Object.assign({},n,{addSuffix:n?.addSuffix,comparison:i}),[o,l]=gg(n?.in,...i>0?[t,e]:[e,t]),c=Eg(l,o),u=(pg(l)-pg(o))/1e3,d=Math.round((c-u)/60);let h;if(d<2)return n?.includeSeconds?c<5?s.formatDistance("lessThanXSeconds",5,a):c<10?s.formatDistance("lessThanXSeconds",10,a):c<20?s.formatDistance("lessThanXSeconds",20,a):c<40?s.formatDistance("halfAMinute",0,a):c<60?s.formatDistance("lessThanXMinutes",1,a):s.formatDistance("xMinutes",1,a):0===d?s.formatDistance("lessThanXMinutes",1,a):s.formatDistance("xMinutes",d,a);if(d<45)return s.formatDistance("xMinutes",d,a);if(d<90)return s.formatDistance("aboutXHours",1,a);if(d<1440){const e=Math.round(d/60);return s.formatDistance("aboutXHours",e,a)}if(d<2520)return s.formatDistance("xDays",1,a);if(d<eg){const e=Math.round(d/1440);return s.formatDistance("xDays",e,a)}if(d<86400)return h=Math.round(d/eg),s.formatDistance("aboutXMonths",h,a);if(h=kg(l,o),h<12){const e=Math.round(d/eg);return s.formatDistance("xMonths",e,a)}{const e=h%12,t=Math.trunc(h/12);return e<3?s.formatDistance("aboutXYears",t,a):e<9?s.formatDistance("overXYears",t,a):s.formatDistance("almostXYears",t+1,a)}}function Sg(e,t){return _g(e,rg(e),t)}const jg={lessThanXSeconds:{one:"bir saniyeden az",other:"{{count}} saniyeden az"},xSeconds:{one:"1 saniye",other:"{{count}} saniye"},halfAMinute:"yar\u0131m dakika",lessThanXMinutes:{one:"bir dakikadan az",other:"{{count}} dakikadan az"},xMinutes:{one:"1 dakika",other:"{{count}} dakika"},aboutXHours:{one:"yakla\u015f\u0131k 1 saat",other:"yakla\u015f\u0131k {{count}} saat"},xHours:{one:"1 saat",other:"{{count}} saat"},xDays:{one:"1 g\xfcn",other:"{{count}} g\xfcn"},aboutXWeeks:{one:"yakla\u015f\u0131k 1 hafta",other:"yakla\u015f\u0131k {{count}} hafta"},xWeeks:{one:"1 hafta",other:"{{count}} hafta"},aboutXMonths:{one:"yakla\u015f\u0131k 1 ay",other:"yakla\u015f\u0131k {{count}} ay"},xMonths:{one:"1 ay",other:"{{count}} ay"},aboutXYears:{one:"yakla\u015f\u0131k 1 y\u0131l",other:"yakla\u015f\u0131k {{count}} y\u0131l"},xYears:{one:"1 y\u0131l",other:"{{count}} y\u0131l"},overXYears:{one:"1 y\u0131ldan fazla",other:"{{count}} y\u0131ldan fazla"},almostXYears:{one:"neredeyse 1 y\u0131l",other:"neredeyse {{count}} y\u0131l"}},Cg={date:ig({formats:{full:"d MMMM y EEEE",long:"d MMMM y",medium:"d MMM y",short:"dd.MM.yyyy"},defaultWidth:"full"}),time:ig({formats:{full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:ig({formats:{full:"{{date}} 'saat' {{time}}",long:"{{date}} 'saat' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},Tg={lastWeek:"'ge\xe7en hafta' eeee 'saat' p",yesterday:"'d\xfcn saat' p",today:"'bug\xfcn saat' p",tomorrow:"'yar\u0131n saat' p",nextWeek:"eeee 'saat' p",other:"P"},Ig={code:"tr",formatDistance:(e,t,n)=>{let r;const s=jg[e];return r="string"===typeof s?s:1===t?s.one:s.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?r+" sonra":r+" \xf6nce":r},formatLong:Cg,formatRelative:(e,t,n,r)=>Tg[e],localize:{ordinalNumber:(e,t)=>Number(e)+".",era:lg({values:{narrow:["M\xd6","MS"],abbreviated:["M\xd6","MS"],wide:["Milattan \xd6nce","Milattan Sonra"]},defaultWidth:"wide"}),quarter:lg({values:{narrow:["1","2","3","4"],abbreviated:["1\xc7","2\xc7","3\xc7","4\xc7"],wide:["\u0130lk \xe7eyrek","\u0130kinci \xc7eyrek","\xdc\xe7\xfcnc\xfc \xe7eyrek","Son \xe7eyrek"]},defaultWidth:"wide",argumentCallback:e=>Number(e)-1}),month:lg({values:{narrow:["O","\u015e","M","N","M","H","T","A","E","E","K","A"],abbreviated:["Oca","\u015eub","Mar","Nis","May","Haz","Tem","A\u011fu","Eyl","Eki","Kas","Ara"],wide:["Ocak","\u015eubat","Mart","Nisan","May\u0131s","Haziran","Temmuz","A\u011fustos","Eyl\xfcl","Ekim","Kas\u0131m","Aral\u0131k"]},defaultWidth:"wide"}),day:lg({values:{narrow:["P","P","S","\xc7","P","C","C"],short:["Pz","Pt","Sa","\xc7a","Pe","Cu","Ct"],abbreviated:["Paz","Pzt","Sal","\xc7ar","Per","Cum","Cts"],wide:["Pazar","Pazartesi","Sal\u0131","\xc7ar\u015famba","Per\u015fembe","Cuma","Cumartesi"]},defaultWidth:"wide"}),dayPeriod:lg({values:{narrow:{am:"\xf6\xf6",pm:"\xf6s",midnight:"gy",noon:"\xf6",morning:"sa",afternoon:"\xf6s",evening:"ak",night:"ge"},abbreviated:{am:"\xd6\xd6",pm:"\xd6S",midnight:"gece yar\u0131s\u0131",noon:"\xf6\u011fle",morning:"sabah",afternoon:"\xf6\u011fleden sonra",evening:"ak\u015fam",night:"gece"},wide:{am:"\xd6.\xd6.",pm:"\xd6.S.",midnight:"gece yar\u0131s\u0131",noon:"\xf6\u011fle",morning:"sabah",afternoon:"\xf6\u011fleden sonra",evening:"ak\u015fam",night:"gece"}},defaultWidth:"wide",formattingValues:{narrow:{am:"\xf6\xf6",pm:"\xf6s",midnight:"gy",noon:"\xf6",morning:"sa",afternoon:"\xf6s",evening:"ak",night:"ge"},abbreviated:{am:"\xd6\xd6",pm:"\xd6S",midnight:"gece yar\u0131s\u0131",noon:"\xf6\u011flen",morning:"sabahleyin",afternoon:"\xf6\u011fleden sonra",evening:"ak\u015famleyin",night:"geceleyin"},wide:{am:"\xf6.\xf6.",pm:"\xf6.s.",midnight:"gece yar\u0131s\u0131",noon:"\xf6\u011flen",morning:"sabahleyin",afternoon:"\xf6\u011fleden sonra",evening:"ak\u015famleyin",night:"geceleyin"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:ug({matchPattern:/^(\d+)(\.)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:cg({matchPatterns:{narrow:/^(m\xf6|ms)/i,abbreviated:/^(m\xf6|ms)/i,wide:/^(milattan \xf6nce|milattan sonra)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/(^m\xf6|^milattan \xf6nce)/i,/(^ms|^milattan sonra)/i]},defaultParseWidth:"any"}),quarter:cg({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^[1234]\xe7/i,wide:/^((i|\u0130)lk|(i|\u0130)kinci|\xfc\xe7\xfcnc\xfc|son) \xe7eyrek/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i],abbreviated:[/1\xe7/i,/2\xe7/i,/3\xe7/i,/4\xe7/i],wide:[/^(i|\u0130)lk \xe7eyrek/i,/(i|\u0130)kinci \xe7eyrek/i,/\xfc\xe7\xfcnc\xfc \xe7eyrek/i,/son \xe7eyrek/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:cg({matchPatterns:{narrow:/^[o\u015fmnhtaek]/i,abbreviated:/^(oca|\u015fub|mar|nis|may|haz|tem|a\u011fu|eyl|eki|kas|ara)/i,wide:/^(ocak|\u015fubat|mart|nisan|may\u0131s|haziran|temmuz|a\u011fustos|eyl\xfcl|ekim|kas\u0131m|aral\u0131k)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^o/i,/^\u015f/i,/^m/i,/^n/i,/^m/i,/^h/i,/^t/i,/^a/i,/^e/i,/^e/i,/^k/i,/^a/i],any:[/^o/i,/^\u015f/i,/^mar/i,/^n/i,/^may/i,/^h/i,/^t/i,/^a\u011f/i,/^ey/i,/^ek/i,/^k/i,/^ar/i]},defaultParseWidth:"any"}),day:cg({matchPatterns:{narrow:/^[ps\xe7c]/i,short:/^(pz|pt|sa|\xe7a|pe|cu|ct)/i,abbreviated:/^(paz|pzt|sal|\xe7ar|per|cum|cts)/i,wide:/^(pazar(?!tesi)|pazartesi|sal\u0131|\xe7ar\u015famba|per\u015fembe|cuma(?!rtesi)|cumartesi)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^p/i,/^p/i,/^s/i,/^\xe7/i,/^p/i,/^c/i,/^c/i],any:[/^pz/i,/^pt/i,/^sa/i,/^\xe7a/i,/^pe/i,/^cu/i,/^ct/i],wide:[/^pazar(?!tesi)/i,/^pazartesi/i,/^sal\u0131/i,/^\xe7ar\u015famba/i,/^per\u015fembe/i,/^cuma(?!rtesi)/i,/^cumartesi/i]},defaultParseWidth:"any"}),dayPeriod:cg({matchPatterns:{narrow:/^(\xf6\xf6|\xf6s|gy|\xf6|sa|\xf6s|ak|ge)/i,any:/^(\xf6\.?\s?[\xf6s]\.?|\xf6\u011fleden sonra|gece yar\u0131s\u0131|\xf6\u011fle|(sabah|\xf6\u011f|ak\u015fam|gece)(leyin))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^\xf6\.?\xf6\.?/i,pm:/^\xf6\.?s\.?/i,midnight:/^(gy|gece yar\u0131s\u0131)/i,noon:/^\xf6\u011f/i,morning:/^sa/i,afternoon:/^\xf6\u011fleden sonra/i,evening:/^ak/i,night:/^ge/i}},defaultParseWidth:"any"})},options:{weekStartsOn:1,firstWeekContainsDate:1}};function Ag(e,t){let{title:n,titleId:r,...i}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Pg=s.forwardRef(Ag);function Dg(e,t){let{title:n,titleId:r,...i}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Rg=s.forwardRef(Dg),Lg=e=>{let{video:t}=e;return(0,Sp.jsx)("div",{className:"card group hover:shadow-lg transition-all duration-300",children:(0,Sp.jsxs)(Gp,{to:`/video/${t.id}`,className:"block relative",children:[(0,Sp.jsxs)("div",{className:"relative aspect-video overflow-hidden rounded-t-lg",children:[(0,Sp.jsx)("img",{src:t.thumbnailUrl,alt:t.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",loading:"lazy"}),(0,Sp.jsx)("div",{className:"absolute bottom-2 right-2 bg-black bg-opacity-70 text-white text-xs px-2 py-1 rounded",children:(0,Sp.jsxs)("span",{className:"flex items-center",children:[(0,Sp.jsx)(Pg,{className:"w-3 h-3 mr-1"}),(e=>{if(!e&&0!==e)return"0:00";const t=e%60;return`${Math.floor(e/60)}:${t<10?"0":""}${t}`})(t.duration)]})})]}),(0,Sp.jsxs)("div",{className:"p-3",children:[(0,Sp.jsx)("h3",{className:"text-white font-medium line-clamp-2 group-hover:text-primary-400 transition-colors",children:t.title}),(0,Sp.jsxs)("div",{className:"mt-2 flex justify-between items-center text-sm text-gray-400",children:[(0,Sp.jsx)("span",{children:t.uploader}),(0,Sp.jsxs)("div",{className:"flex items-center",children:[(0,Sp.jsx)(Rg,{className:"w-4 h-4 mr-1"}),(0,Sp.jsx)("span",{children:(e=>void 0===e||null===e?"0":e>=1e6?`${(e/1e6).toFixed(1)}M`:e>=1e3?`${(e/1e3).toFixed(1)}K`:e.toString())(t.views||t.viewCount)})]})]}),(0,Sp.jsx)("div",{className:"mt-1 text-xs text-gray-500",children:(e=>{if(!e)return"";return Sg(e.toDate?e.toDate():new Date(e),{addSuffix:!0,locale:Ig})})(t.createdAt)})]})]})})},Og=e=>{let{adId:t,link:n,position:r,children:i}=e;const{trackAdClick:a,trackAdImpression:o}=(0,s.useContext)(Lp);(0,s.useEffect)((()=>{o(t,r)}),[t,r,o]);return(0,Sp.jsx)("a",{href:n,target:"_blank",rel:"noopener noreferrer",onClick:e=>{a(t,r)},className:"block",children:i})},Mg=e=>{let{position:t}=e;const[n,r]=(0,s.useState)(null),[i,a]=(0,s.useState)(!0);return(0,s.useEffect)((()=>{(async()=>{try{const e=vm(Sf(_p,"advertisements"),xm("position","==",t),xm("active","==",!0)),n=await Um(e);if(!n.empty){const e=n.docs.map((e=>({id:e.id,...e.data()}))),t=Math.floor(Math.random()*e.length);r(e[t])}}catch(e){console.error("Error fetching advertisement:",e)}finally{a(!1)}})()}),[t]),i?(0,Sp.jsx)("div",{className:"ad-placeholder animate-pulse"}):n?(0,Sp.jsx)("div",{className:"relative",children:(0,Sp.jsx)(Og,{adId:n.id,link:n.link,position:t,children:"video"===n.adType?(0,Sp.jsx)("video",{src:n.imageUrl,className:"w-full h-auto",muted:!0,autoPlay:!0,loop:!0,playsInline:!0}):(0,Sp.jsx)("img",{src:n.imageUrl,alt:n.companyName||"Advertisement",className:"w-full h-auto"})})}):null};function Fg(e,t){let{title:n,titleId:r,...i}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const Ug=s.forwardRef(Fg),Vg=()=>{var e;const[t,n]=(0,s.useState)([]),[r,i]=(0,s.useState)(!0),[a,o]=(0,s.useState)(null),[l,c]=(0,s.useState)(0),u=16,d=J(),h=ee(),f=new URLSearchParams(d.search),m=parseInt(f.get("page"))||1,p=(null===(e=f.get("search"))||void 0===e?void 0:e.toLowerCase())||"",g=(0,s.useCallback)((async()=>{i(!0),o(null);try{const e=Sf(_p,"videos");if(p){const t=vm(e,xm("titleLower",">=",p),xm("titleLower","<=",p+"\uf8ff"),Em(50)),r=vm(e,xm("categoryLower",">=",p),xm("categoryLower","<=",p+"\uf8ff"),Em(50)),s=vm(e,xm("pornstarLower",">=",p),xm("pornstarLower","<=",p+"\uf8ff"),Em(50)),i=vm(e,xm("tagsLower","array-contains",p),Em(50)),[a,o,l,d]=await Promise.all([Um(t),Um(r),Um(s),Um(i)]),h=[...a.docs,...o.docs,...l.docs,...d.docs],f=Array.from(new Set(h.map((e=>e.id)))).map((e=>h.find((t=>t.id===e)))),g=f.length;c(Math.ceil(g/u));const v=(m-1)*u,y=f.slice(v,v+u).map((e=>({id:e.id,...e.data()})));n(y)}else{const t=(await Um(Sf(_p,"videos"))).size;c(Math.ceil(t/u));const r=(m-1)*u,s=(await Um(vm(e,km("createdAt","desc"),Em(r+u)))).docs,i=s.slice(r,r+u).map((e=>({id:e.id,...e.data()})));n(i)}}catch(a){console.error("Error fetching videos:",a),o("An error occurred while fetching videos.")}finally{i(!1)}}),[m,p,u]);(0,s.useEffect)((()=>{g()}),[g]);const v=e=>{const t=new URLSearchParams(f);t.set("page",e),h({search:t.toString()}),window.scrollTo(0,0)};return(0,Sp.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,Sp.jsx)("div",{className:"mb-6",children:(0,Sp.jsx)(Mg,{position:"header"})}),a&&(0,Sp.jsx)("div",{className:"bg-red-500 bg-opacity-20 border border-red-500 text-red-500 px-4 py-3 rounded mb-4",children:a}),r?(0,Sp.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,Sp.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"})}):(0,Sp.jsxs)("div",{className:"flex-1",children:[(0,Sp.jsx)("h2",{className:"text-xl font-bold text-white mb-4",children:"All Videos"}),0===t.length?(0,Sp.jsxs)("div",{className:"bg-dark-700 rounded-lg p-8 text-center",children:[(0,Sp.jsx)("p",{className:"text-gray-400 mb-4",children:"No videos found."}),(0,Sp.jsxs)("button",{onClick:g,className:"btn btn-primary flex items-center mx-auto",children:[(0,Sp.jsx)(Ug,{className:"h-5 w-5 mr-2"}),"Refresh"]})]}):(0,Sp.jsxs)(Sp.Fragment,{children:[(0,Sp.jsx)("div",{className:"grid grid-cols-4 gap-4",children:t.map((e=>(0,Sp.jsx)(Lg,{video:e},e.id)))}),l>1&&(0,Sp.jsxs)("div",{className:"flex justify-center items-center gap-2 mt-8",children:[m>1&&(0,Sp.jsx)("button",{onClick:()=>v(m-1),className:"px-4 py-2 rounded-lg bg-dark-700 text-gray-400 hover:bg-dark-600 hover:text-white transition-all duration-200",children:"\u2190"}),Array.from({length:Math.min(l,5)},((e,t)=>(0,Sp.jsx)("button",{onClick:()=>v(t+1),className:"px-4 py-2 rounded-lg transition-all duration-200 "+(m===t+1?"bg-primary-600 text-white":"bg-dark-700 text-gray-400 hover:bg-dark-600 hover:text-white"),children:t+1},t+1))),l>5&&m<l-2&&(0,Sp.jsxs)(Sp.Fragment,{children:[(0,Sp.jsx)("span",{className:"text-gray-400 px-2",children:"..."}),(0,Sp.jsx)("button",{onClick:()=>v(l),className:"px-4 py-2 rounded-lg bg-dark-700 text-gray-400 hover:bg-dark-600 hover:text-white transition-all duration-200",children:l})]}),m<l&&(0,Sp.jsx)("button",{onClick:()=>v(m+1),className:"px-4 py-2 rounded-lg bg-dark-700 text-gray-400 hover:bg-dark-600 hover:text-white transition-all duration-200",children:"\u2192"})]})]})]}),(0,Sp.jsx)("div",{className:"my-8",children:(0,Sp.jsx)(Mg,{position:"video-before"})})]})};function zg(e,t){let{title:n,titleId:r,...i}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.633 10.25c.806 0 1.533-.446 2.031-1.08a9.041 9.041 0 0 1 2.861-2.4c.723-.384 1.35-.956 1.653-1.715a4.498 4.498 0 0 0 .322-1.672V2.75a.75.75 0 0 1 .75-.75 2.25 2.25 0 0 1 2.25 2.25c0 1.152-.26 2.243-.723 3.218-.266.558.107 1.282.725 1.282m0 0h3.126c1.026 0 1.945.694 2.054 1.715.045.422.068.85.068 1.285a11.95 11.95 0 0 1-2.649 7.521c-.388.482-.987.729-1.605.729H13.48c-.483 0-.964-.078-1.423-.23l-3.114-1.04a4.501 4.501 0 0 0-1.423-.23H5.904m10.598-9.75H14.25M5.904 18.5c.083.205.173.405.27.602.197.4-.078.898-.523.898h-.908c-.889 0-1.713-.518-1.972-1.368a12 12 0 0 1-.521-3.507c0-1.553.295-3.036.831-4.398C3.387 9.953 4.167 9.5 5 9.5h1.053c.472 0 .745.556.5.96a8.958 8.958 0 0 0-1.302 4.665c0 1.194.232 2.333.654 3.375Z"}))}const Bg=s.forwardRef(zg);function $g(e,t){let{title:n,titleId:r,...i}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.498 15.25H4.372c-1.026 0-1.945-.694-2.054-1.715a12.137 12.137 0 0 1-.068-1.285c0-2.848.992-5.464 2.649-7.521C5.287 4.247 5.886 4 6.504 4h4.016a4.5 4.5 0 0 1 1.423.23l3.114 1.04a4.5 4.5 0 0 0 1.423.23h1.294M7.498 15.25c.618 0 .991.724.725 1.282A7.471 7.471 0 0 0 7.5 19.75 2.25 2.25 0 0 0 9.75 22a.75.75 0 0 0 .75-.75v-.633c0-.573.11-1.14.322-1.672.304-.76.93-1.33 1.653-1.715a9.04 9.04 0 0 0 2.86-2.4c.498-.634 1.226-1.08 2.032-1.08h.384m-10.253 1.5H9.7m8.075-9.75c.01.05.027.1.05.148.593 1.2.925 2.55.925 3.977 0 1.487-.36 2.89-.999 4.125m.023-8.25c-.076-.365.183-.75.575-.75h.908c.889 0 1.713.518 1.972 1.368.339 1.11.521 2.287.521 3.507 0 1.553-.295 3.036-.831 4.398-.306.774-1.086 1.227-1.918 1.227h-1.053c-.472 0-.745-.556-.5-.96a8.95 8.95 0 0 0 .303-.54"}))}const qg=s.forwardRef($g);function Wg(e,t){let{title:n,titleId:r,...i}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"}))}const Hg=s.forwardRef(Wg);function Kg(e,t){let{title:n,titleId:r,...i}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const Gg=s.forwardRef(Kg);function Qg(e,t){let{title:n,titleId:r,...i}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.76c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.076-4.076a1.526 1.526 0 0 1 1.037-.443 48.282 48.282 0 0 0 5.68-.494c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"}))}const Yg=s.forwardRef(Qg);function Xg(e,t){let{title:n,titleId:r,...i}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{d:"M7.493 18.5c-.425 0-.82-.236-.975-.632A7.48 7.48 0 0 1 6 15.125c0-1.75.599-3.358 1.602-4.634.151-.192.373-.309.6-.397.473-.183.89-.514 1.212-.924a9.042 9.042 0 0 1 2.861-2.4c.723-.384 1.35-.956 1.653-1.715a4.498 4.498 0 0 0 .322-1.672V2.75A.75.75 0 0 1 15 2a2.25 2.25 0 0 1 2.25 2.25c0 1.152-.26 2.243-.723 3.218-.266.558.107 1.282.725 1.282h3.126c1.026 0 1.945.694 2.054 1.715.045.422.068.85.068 1.285a11.95 11.95 0 0 1-2.649 7.521c-.388.482-.987.729-1.605.729H14.23c-.483 0-.964-.078-1.423-.23l-3.114-1.04a4.501 4.501 0 0 0-1.423-.23h-.777ZM2.331 10.727a11.969 11.969 0 0 0-.831 4.398 12 12 0 0 0 .52 3.507C2.28 19.482 3.105 20 3.994 20H4.9c.445 0 .72-.498.523-.898a8.963 8.963 0 0 1-.924-3.977c0-1.708.476-3.305 1.302-4.666.245-.403-.028-.959-.5-.959H4.25c-.832 0-1.612.453-1.918 1.227Z"}))}const Jg=s.forwardRef(Xg);function Zg(e,t){let{title:n,titleId:r,...i}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{d:"M15.73 5.5h1.035A7.465 7.465 0 0 1 18 9.625a7.465 7.465 0 0 1-1.235 4.125h-.148c-.806 0-1.534.446-2.031 1.08a9.04 9.04 0 0 1-2.861 2.4c-.723.384-1.35.956-1.653 1.715a4.499 4.499 0 0 0-.322 1.672v.633A.75.75 0 0 1 9 22a2.25 2.25 0 0 1-2.25-2.25c0-1.152.26-2.243.723-3.218.266-.558-.107-1.282-.725-1.282H3.622c-1.026 0-1.945-.694-2.054-1.715A12.137 12.137 0 0 1 1.5 12.25c0-2.848.992-5.464 2.649-7.521C4.537 4.247 5.136 4 5.754 4H9.77a4.5 4.5 0 0 1 1.423.23l3.114 1.04a4.5 4.5 0 0 0 1.423.23ZM21.669 14.023c.536-1.362.831-2.845.831-4.398 0-1.22-.182-2.398-.52-3.507-.26-.85-1.084-1.368-1.973-1.368H19.1c-.445 0-.72.498-.523.898.591 1.2.924 2.55.924 3.977a8.958 8.958 0 0 1-1.302 4.666c-.245.403.028.959.5.959h1.053c.832 0 1.612-.453 1.918-1.227Z"}))}const ev=s.forwardRef(Zg);function tv(e,t){let{title:n,titleId:r,...i}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{d:"m11.645 20.91-.007-.003-.022-.012a15.247 15.247 0 0 1-.383-.218 25.18 25.18 0 0 1-4.244-3.17C4.688 15.36 2.25 12.174 2.25 8.25 2.25 5.322 4.714 3 7.688 3A5.5 5.5 0 0 1 12 5.052 5.5 5.5 0 0 1 16.313 3c2.973 0 5.437 2.322 5.437 5.25 0 3.925-2.438 7.111-4.739 9.256a25.175 25.175 0 0 1-4.244 3.17 15.247 15.247 0 0 1-.383.219l-.022.012-.007.004-.003.001a.752.752 0 0 1-.704 0l-.003-.001Z"}))}const nv=s.forwardRef(tv),rv=()=>{var e,t;const{id:n}=ne(),r=J(),i=ee(),{currentUser:a,updateUserData:o}=Cp(),[l,c]=(0,s.useState)(null),[u,d]=(0,s.useState)([]),[h,f]=(0,s.useState)(!0),[m,p]=(0,s.useState)(null),[g,v]=(0,s.useState)({liked:!1,disliked:!1,featured:!1}),[y,x]=(0,s.useState)(!1),b=(0,s.useRef)(null),[w,k]=(0,s.useState)(null),[N,E]=(0,s.useState)(!1),[_,S]=(0,s.useState)(null),[j,C]=((0,s.useRef)(null),(0,s.useState)([]));(0,s.useEffect)((()=>{if(_){const e=setTimeout((()=>{S(null)}),3e3);return()=>clearTimeout(e)}}),[_]);const T=(0,s.useCallback)((async e=>{try{let t;t=e.tags&&e.tags.length>0?vm(Sf(_p,"videos"),xm("tags","array-contains-any",e.tags.slice(0,10))):e.actors&&e.actors.length>0?vm(Sf(_p,"videos"),xm("actors","array-contains-any",e.actors)):vm(Sf(_p,"videos"),xm("categories","array-contains-any",e.categories||[]));let r=(await Um(t)).docs.map((e=>({id:e.id,...e.data()}))).filter((e=>e.id!==n)).slice(0,8);d(r)}catch(m){console.error("Error fetching related videos:",m)}}),[n]);(0,s.useEffect)((()=>{(async()=>{f(!0);try{const s=await Mm(jf(_p,"videos",n));if(s.exists()){const i={id:s.id,...s.data()};if(c(i),await zm(jf(_p,"videos",n),{viewCount:Ym(1)}),i.categories&&i.categories.length>0)for(const e of i.categories){const t=vm(Sf(_p,"categories"),xm("name","==",e)),n=await Um(t);if(n.empty)await $m(Sf(_p,"categories"),{name:e,viewCount:1,createdAt:Km()});else{const e=n.docs[0];await zm(jf(_p,"categories",e.id),{viewCount:Ym(1)})}}if(a){const s=await Mm(jf(_p,"users",a.uid));if(s.exists()){var e,t,r;const i=s.data();v({liked:(null===(e=i.likedVideos)||void 0===e?void 0:e.includes(n))||!1,disliked:(null===(t=i.dislikedVideos)||void 0===t?void 0:t.includes(n))||!1,featured:(null===(r=i.featured)||void 0===r?void 0:r.includes(n))||!1})}}T(i)}else p("Video not found.")}catch(m){console.error("Error fetching video:",m),p("An error occurred while loading the video.")}finally{f(!1)}})()}),[n,a,T]),(0,s.useEffect)((()=>{const e=()=>{const e=document.querySelectorAll(".ad-video-before"),t=document.querySelectorAll(".ad-video-after");e.forEach((e=>{e.style.display="block"})),b.current&&b.current.addEventListener("ended",(()=>{t.forEach((e=>{e.style.display="block"}))}))},t=t=>{if(t.data&&"string"===typeof t.data)try{const n=JSON.parse(t.data);if("play"===n.event)e();else if("end"===n.event){document.querySelectorAll(".ad-video-after").forEach((e=>{e.style.display="block"}))}}catch(Jb){}};return window.addEventListener("message",t),b.current&&b.current.addEventListener("play",e),()=>{window.removeEventListener("message",t),b.current&&(b.current.removeEventListener("play",e),b.current.removeEventListener("ended",(()=>{})))}}),[l]),(0,s.useEffect)((()=>{const e=b.current;if(e)return e.addEventListener("play",I),e.addEventListener("pause",A),e.addEventListener("ended",P),e.addEventListener("timeupdate",D),()=>{e&&(e.removeEventListener("play",I),e.removeEventListener("pause",A),e.removeEventListener("ended",P),e.removeEventListener("timeupdate",D))}}),[]);const I=()=>{console.log("Video playing")},A=()=>{console.log("Video paused")},P=()=>{console.log("Video ended")},D=()=>{},R=e=>e?e<1e3?e.toString():e<1e6?`${(e/1e3).toFixed(1)}K`:`${(e/1e6).toFixed(1)}M`:"0",L=e=>{if(!e)return"";const t=e.toDate?e.toDate():new Date(e);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric"}).format(t)};return h?(0,Sp.jsx)("div",{className:"flex justify-center items-center min-h-screen",children:"Loading..."}):m?(0,Sp.jsx)("div",{className:"text-red-500 text-center py-8",children:m}):l?(0,Sp.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[("/categories"===(null===(e=r.state)||void 0===e?void 0:e.from)||"/pornstars"===(null===(t=r.state)||void 0===t?void 0:t.from))&&(0,Sp.jsxs)("button",{onClick:()=>{var e,t;"/categories"===(null===(e=r.state)||void 0===e?void 0:e.from)||"/pornstars"===(null===(t=r.state)||void 0===t?void 0:t.from)?i("/videos"):i(-1)},className:"mb-4 flex items-center text-blue-500 hover:text-blue-600",children:[(0,Sp.jsx)("span",{className:"mr-2",children:"\u2190"})," Back"]}),_&&(0,Sp.jsx)("div",{className:`fixed top-4 right-4 z-50 px-4 py-2 rounded-md shadow-lg ${"success"===_.type?"bg-green-500":"bg-red-500"} text-white`,children:_.text}),(0,Sp.jsx)("div",{className:"mb-4",children:(0,Sp.jsx)(Mg,{position:"header"})}),h?(0,Sp.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,Sp.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"})}):(0,Sp.jsxs)("div",{className:"flex flex-col lg:flex-row gap-6",children:[(0,Sp.jsxs)("div",{className:"flex-1 max-w-[1280px]",children:[(0,Sp.jsx)("div",{className:"mb-4",children:(0,Sp.jsx)(Mg,{position:"video-before"})}),(0,Sp.jsx)("div",{className:"w-full rounded-xl overflow-hidden bg-dark-900",children:l.iframeCode?(0,Sp.jsx)("div",{className:"w-full aspect-video relative overflow-hidden",dangerouslySetInnerHTML:{__html:l.iframeCode.replace("<iframe",'<iframe id="videoIframe" ref={iframeRef}').replace("<iframe",'<iframe style="width:100%;height:100%;position:absolute;top:0;left:0;border:0;"').replace("http://","https://").replace("<iframe",'<iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowFullScreen').replace("</iframe>","<script>\n                        try {\n                          document.addEventListener('DOMContentLoaded', function() {\n                            var video = document.querySelector('video');\n                            if (video) {\n                              video.addEventListener('play', function() {\n                                window.parent.postMessage(JSON.stringify({event: 'play'}), '*');\n                              });\n                              video.addEventListener('pause', function() {\n                                window.parent.postMessage(JSON.stringify({event: 'pause'}), '*');\n                              });\n                              video.addEventListener('ended', function() {\n                                window.parent.postMessage(JSON.stringify({event: 'end'}), '*');\n                              });\n                            }\n                          });\n                        } catch (e) {\n                          console.error('Video player error:', e);\n                        }\n                      <\/script></iframe>")}}):(0,Sp.jsx)("video",{ref:b,src:l.videoUrl,className:"w-full aspect-video object-contain",controls:!0,crossOrigin:"anonymous",playsInline:!0,onPlay:I,onPause:A,onEnded:P,onTimeUpdate:D,preload:"auto"})}),(0,Sp.jsx)("div",{className:"w-full mt-4",children:(0,Sp.jsx)(Mg,{position:"video-after"})}),(0,Sp.jsxs)("div",{className:"mt-3",children:[(0,Sp.jsx)("h1",{className:"text-2xl md:text-3xl font-bold text-white mb-3 leading-tight hover:text-primary-400 transition-colors cursor-pointer",children:l.title}),(0,Sp.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 py-4 border-t border-b border-dark-700/50",children:[(0,Sp.jsx)("div",{className:"flex items-center gap-2",children:(0,Sp.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[(0,Sp.jsx)(Rg,{className:"h-5 w-5"}),(0,Sp.jsxs)("span",{children:[(e=>e?e<1e3?e.toString():e<1e6?`${(e/1e3).toFixed(1)}K`:`${(e/1e6).toFixed(1)}M`:"0")(l.views||l.viewCount)," views"]}),(0,Sp.jsx)("span",{className:"mx-1",children:"\u2022"}),(0,Sp.jsx)("span",{children:L(l.createdAt)})]})}),(0,Sp.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Sp.jsxs)("div",{className:"flex items-center bg-dark-800 rounded-full p-1 shadow-lg hover:shadow-primary-500/10 transition-all duration-300",children:[(0,Sp.jsxs)("button",{onClick:async()=>{if(a)try{const e=jf(_p,"users",a.uid),t=jf(_p,"videos",n);g.liked?(await zm(e,{likedVideos:Qm(n)}),await zm(t,{likeCount:Ym(-1)}),v({...g,liked:!1})):(g.disliked&&(await zm(e,{dislikedVideos:Qm(n)}),await zm(t,{dislikeCount:Ym(-1)}),v({...g,disliked:!1})),await zm(e,{likedVideos:Gm(n)}),await zm(t,{likeCount:Ym(1)}),v({...g,liked:!0}));const r=await Mm(t);c({...l,...r.data()})}catch(m){console.error("Error during like operation:",m),S({type:"error",text:"An error occurred while updating like status"})}else S({type:"error",text:"You need to login to perform this action."})},className:"flex items-center gap-2 px-5 py-2.5 rounded-full transition-all duration-300 "+(g.liked?"bg-primary-500 text-white shadow-lg shadow-primary-500/20":"text-gray-300 hover:bg-dark-700 hover:text-white"),children:[g.liked?(0,Sp.jsx)(Jg,{className:"h-5 w-5"}):(0,Sp.jsx)(Bg,{className:"h-5 w-5"}),(0,Sp.jsx)("span",{className:"font-medium",children:R(l.likeCount||0)})]}),(0,Sp.jsx)("div",{className:"h-8 w-px bg-dark-600 mx-1"}),(0,Sp.jsx)("button",{onClick:async()=>{if(a)try{const e=jf(_p,"users",a.uid),t=jf(_p,"videos",n);g.disliked?(await zm(e,{dislikedVideos:Qm(n)}),await zm(t,{dislikeCount:Ym(-1)}),v({...g,disliked:!1})):(g.liked&&(await zm(e,{likedVideos:Qm(n)}),await zm(t,{likeCount:Ym(-1)}),v({...g,liked:!1})),await zm(e,{dislikedVideos:Gm(n)}),await zm(t,{dislikeCount:Ym(1)}),v({...g,disliked:!0}));const r=await Mm(t);c({...l,...r.data()})}catch(m){console.error("Error during dislike operation:",m),S({type:"error",text:"An error occurred while updating dislike status"})}else S({type:"error",text:"You need to login to perform this action."})},className:"flex items-center gap-2 px-5 py-2.5 rounded-full transition-all duration-300 "+(g.disliked?"bg-red-500 text-white shadow-lg shadow-red-500/20":"text-gray-300 hover:bg-dark-700 hover:text-white"),children:g.disliked?(0,Sp.jsx)(ev,{className:"h-5 w-5"}):(0,Sp.jsx)(qg,{className:"h-5 w-5"})})]}),(0,Sp.jsxs)("button",{onClick:async()=>{if(a)try{const t=jf(_p,"users",a.uid);if(g.featured)await zm(t,{featured:Qm(n)}),v({...g,featured:!1}),S({type:"success",text:"Video removed from favorites"});else if(await zm(t,{featured:Gm(n)}),v({...g,featured:!0}),S({type:"success",text:"Video added to favorites"}),l.categories&&l.categories.length>0)try{const e=jf(_p,"statistics","categories"),t=await Mm(e);if(t.exists()){const n=t.data();for(const t of l.categories){const r=n[t]||0;await zm(e,{[t]:r+1})}}else{const e={};for(const t of l.categories)e[t]=1;await Vm(jf(_p,"statistics","categories"),e)}}catch(e){console.error("Error updating category stats:",e)}await o()}catch(m){console.error("Error during favorite operation:",m),S({type:"error",text:"An error occurred while updating favorites"})}else S({type:"error",text:"You need to login to perform this action."})},className:"flex items-center gap-2 px-5 py-2.5 rounded-full transition-all duration-300 "+(g.featured?"bg-red-500 text-white shadow-lg shadow-red-500/20":"bg-dark-800 text-gray-300 hover:bg-dark-700 hover:text-white shadow-lg hover:shadow-primary-500/10"),children:[g.featured?(0,Sp.jsx)(nv,{className:"h-5 w-5"}):(0,Sp.jsx)(Hg,{className:"h-5 w-5"}),(0,Sp.jsx)("span",{className:"font-medium",children:"Save"})]})]})]}),(0,Sp.jsxs)("div",{className:"mt-6 p-4 bg-dark-800 rounded-2xl hover:bg-dark-700/80 transition-all duration-300 cursor-pointer shadow-lg hover:shadow-primary-500/5",onClick:()=>x(!y),children:[(0,Sp.jsx)("div",{className:`text-gray-300 ${y?"":"line-clamp-2"} border-b border-dark-600 pb-4 mb-4`,children:l.description||"No description provided."}),l.description&&l.description.length>100&&(0,Sp.jsx)("button",{className:"text-primary-400 text-sm mt-3 mb-4 font-medium hover:text-primary-300 transition-colors flex items-center gap-2",children:y?"Show less":"Show more"}),(0,Sp.jsxs)("div",{className:"flex flex-wrap gap-2",children:[l.categories&&l.categories.map((e=>(0,Sp.jsxs)(Gp,{to:`/?category=${e}`,className:"bg-dark-700/50 hover:bg-dark-600 text-xs text-gray-300 px-4 py-2 rounded-full transition-all duration-300 hover:text-white hover:shadow-lg hover:shadow-primary-500/10 font-medium flex items-center gap-1",children:[(0,Sp.jsx)("span",{className:"text-primary-400",children:"#"}),e]},e))),l.tags&&l.tags.map((e=>(0,Sp.jsxs)(Gp,{to:`/?tag=${e}`,className:"bg-dark-800/50 hover:bg-dark-700 text-xs text-gray-400 px-4 py-2 rounded-full transition-all duration-300 hover:text-white hover:shadow-lg hover:shadow-primary-500/10 font-medium flex items-center gap-1",children:[(0,Sp.jsx)("span",{className:"text-primary-400",children:"#"}),e]},e)))]})]}),l.actors&&l.actors.length>0&&(0,Sp.jsxs)("div",{className:"mt-4 p-4 bg-dark-800/50 rounded-2xl",children:[(0,Sp.jsx)("h3",{className:"text-sm font-medium text-gray-400 mb-3",children:"Actors"}),(0,Sp.jsx)("div",{className:"flex flex-wrap gap-2",children:l.actors.map((e=>(0,Sp.jsxs)(Gp,{to:`/?actor=${e}`,className:"bg-primary-900/30 hover:bg-primary-900/50 text-xs text-primary-300 px-4 py-2 rounded-full transition-all duration-300 hover:text-primary-200 hover:shadow-lg hover:shadow-primary-500/10 font-medium flex items-center gap-1",children:[(0,Sp.jsx)("span",{className:"text-primary-400",children:"@"}),e]},e)))})]})]}),(0,Sp.jsxs)("div",{className:"mt-6",children:[(0,Sp.jsxs)("div",{className:"flex items-center gap-2 mb-6",children:[(0,Sp.jsx)("h3",{className:"text-lg font-medium text-white",children:"Comments"}),l.commentCount>0&&(0,Sp.jsx)("span",{className:"text-sm text-gray-400",children:R(l.commentCount)})]}),(0,Sp.jsxs)("div",{className:"flex gap-4 mb-6",children:[(0,Sp.jsx)("div",{className:"flex-shrink-0",children:(0,Sp.jsx)("div",{className:"w-10 h-10 rounded-full bg-dark-600 flex items-center justify-center",children:(0,Sp.jsx)(Gg,{className:"h-6 w-6 text-gray-400"})})}),(0,Sp.jsx)("div",{className:"flex-1",children:(0,Sp.jsx)("div",{className:"relative",children:(0,Sp.jsx)("textarea",{placeholder:"Add a comment...",rows:"1",className:"w-full bg-transparent border-b border-dark-600 focus:border-white text-gray-200 placeholder-gray-500 py-1 resize-none focus:outline-none transition-colors"})})})]}),(0,Sp.jsx)("div",{className:"space-y-4",children:j&&j.length>0?j.map((e=>(0,Sp.jsxs)("div",{className:"flex gap-4 group",children:[(0,Sp.jsx)("div",{className:"flex-shrink-0",children:(0,Sp.jsx)("div",{className:"w-10 h-10 rounded-full bg-dark-600 flex items-center justify-center",children:(0,Sp.jsx)(Gg,{className:"h-6 w-6 text-gray-400"})})}),(0,Sp.jsxs)("div",{className:"flex-1",children:[(0,Sp.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Sp.jsx)("span",{className:"font-medium text-white",children:e.userName||"Anonymous"}),(0,Sp.jsx)("span",{className:"text-xs text-gray-400",children:L(e.createdAt)})]}),(0,Sp.jsx)("p",{className:"text-gray-300 mt-1",children:e.text}),(0,Sp.jsxs)("div",{className:"flex items-center gap-4 mt-2",children:[(0,Sp.jsxs)("button",{className:"flex items-center gap-1 text-gray-400 hover:text-white",children:[(0,Sp.jsx)(Bg,{className:"h-4 w-4"}),(0,Sp.jsx)("span",{className:"text-xs",children:R(e.likes||0)})]}),(0,Sp.jsx)("button",{className:"flex items-center gap-1 text-gray-400 hover:text-white",children:(0,Sp.jsx)(qg,{className:"h-4 w-4"})}),(0,Sp.jsx)("button",{className:"text-xs font-medium text-gray-400 hover:text-white",children:"Reply"})]})]})]},e.id))):(0,Sp.jsxs)("div",{className:"text-center py-8 text-gray-400",children:[(0,Sp.jsx)(Yg,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),(0,Sp.jsx)("p",{children:"No comments yet. Be the first to comment!"})]})})]})]}),(0,Sp.jsx)("div",{className:"lg:w-[400px] xl:w-[426px]",children:(0,Sp.jsx)("div",{className:"grid gap-3",children:u.length>0?u.map((e=>(0,Sp.jsx)(Lg,{video:e},e.id))):(0,Sp.jsx)("p",{className:"text-gray-400",children:"No related videos found."})})})]}),(0,Sp.jsx)("div",{className:"mt-8",children:(0,Sp.jsx)(Mg,{position:"footer"})})]}):(0,Sp.jsxs)("div",{className:"text-center py-12",children:[(0,Sp.jsx)("p",{className:"text-gray-400 text-lg",children:"Video not found."}),(0,Sp.jsx)(Gp,{to:"/",className:"mt-4 inline-block btn btn-primary",children:"Return to Home Page"})]})};var sv=e=>"checkbox"===e.type,iv=e=>e instanceof Date,av=e=>null==e;const ov=e=>"object"===typeof e;var lv=e=>!av(e)&&!Array.isArray(e)&&ov(e)&&!iv(e),cv=e=>lv(e)&&e.target?sv(e.target)?e.target.checked:e.target.value:e,uv=(e,t)=>e.has((e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e)(t)),dv="undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement&&"undefined"!==typeof document;function hv(e){let t;const n=Array.isArray(e),r="undefined"!==typeof FileList&&e instanceof FileList;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else{if(dv&&(e instanceof Blob||r)||!n&&!lv(e))return e;if(t=n?[]:{},n||(e=>{const t=e.constructor&&e.constructor.prototype;return lv(t)&&t.hasOwnProperty("isPrototypeOf")})(e))for(const n in e)e.hasOwnProperty(n)&&(t[n]=hv(e[n]));else t=e}return t}var fv=e=>Array.isArray(e)?e.filter(Boolean):[],mv=e=>void 0===e,pv=(e,t,n)=>{if(!t||!lv(e))return n;const r=fv(t.split(/[,[\].]+?/)).reduce(((e,t)=>av(e)?e:e[t]),e);return mv(r)||r===e?mv(e[t])?n:e[t]:r},gv=e=>"boolean"===typeof e,vv=e=>/^\w*$/.test(e),yv=e=>fv(e.replace(/["|']|\]/g,"").split(/\.|\[/)),xv=(e,t,n)=>{let r=-1;const s=vv(t)?[t]:yv(t),i=s.length,a=i-1;for(;++r<i;){const t=s[r];let i=n;if(r!==a){const n=e[t];i=lv(n)||Array.isArray(n)?n:isNaN(+s[r+1])?{}:[]}if("__proto__"===t||"constructor"===t||"prototype"===t)return;e[t]=i,e=e[t]}return e};const bv="blur",wv="focusout",kv="onBlur",Nv="onChange",Ev="onSubmit",_v="onTouched",Sv="all",jv="max",Cv="min",Tv="maxLength",Iv="minLength",Av="pattern",Pv="required",Dv="validate";s.createContext(null);var Rv=function(e,t,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const s={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(s,i,{get:()=>{const s=i;return t._proxyFormState[s]!==Sv&&(t._proxyFormState[s]=!r||Sv),n&&(n[s]=!0),e[s]}});return s},Lv=e=>lv(e)&&!Object.keys(e).length,Ov=(e,t,n,r)=>{n(e);const{name:s,...i}=e;return Lv(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find((e=>t[e]===(!r||Sv)))},Mv=e=>Array.isArray(e)?e:[e];function Fv(e){const t=s.useRef(e);t.current=e,s.useEffect((()=>{const n=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{n&&n.unsubscribe()}}),[e.disabled])}var Uv=e=>"string"===typeof e,Vv=(e,t,n,r,s)=>Uv(e)?(r&&t.watch.add(e),pv(n,e,s)):Array.isArray(e)?e.map((e=>(r&&t.watch.add(e),pv(n,e)))):(r&&(t.watchAll=!0),n);var zv=(e,t,n,r,s)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:s||!0}}:{},Bv=e=>({isOnSubmit:!e||e===Ev,isOnBlur:e===kv,isOnChange:e===Nv,isOnAll:e===Sv,isOnTouch:e===_v}),$v=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some((t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length)))));const qv=(e,t,n,r)=>{for(const s of n||Object.keys(e)){const n=pv(e,s);if(n){const{_f:e,...i}=n;if(e){if(e.refs&&e.refs[0]&&t(e.refs[0],s)&&!r)return!0;if(e.ref&&t(e.ref,e.name)&&!r)return!0;if(qv(i,t))break}else if(lv(i)&&qv(i,t))break}}};var Wv=(e,t,n)=>{const r=Mv(pv(e,n));return xv(r,"root",t[n]),xv(e,n,r),e},Hv=e=>"file"===e.type,Kv=e=>"function"===typeof e,Gv=e=>{if(!dv)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Qv=e=>Uv(e),Yv=e=>"radio"===e.type,Xv=e=>e instanceof RegExp;const Jv={value:!1,isValid:!1},Zv={value:!0,isValid:!0};var ey=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter((e=>e&&e.checked&&!e.disabled)).map((e=>e.value));return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!mv(e[0].attributes.value)?mv(e[0].value)||""===e[0].value?Zv:{value:e[0].value,isValid:!0}:Zv:Jv}return Jv};const ty={isValid:!1,value:null};var ny=e=>Array.isArray(e)?e.reduce(((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e),ty):ty;function ry(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"validate";if(Qv(e)||Array.isArray(e)&&e.every(Qv)||gv(e)&&!e)return{type:n,message:Qv(e)?e:"",ref:t}}var sy=e=>lv(e)&&!Xv(e)?e:{value:e,message:""},iy=async(e,t,n,r,s,i)=>{const{ref:a,refs:o,required:l,maxLength:c,minLength:u,min:d,max:h,pattern:f,validate:m,name:p,valueAsNumber:g,mount:v}=e._f,y=pv(n,p);if(!v||t.has(p))return{};const x=o?o[0]:a,b=e=>{s&&x.reportValidity&&(x.setCustomValidity(gv(e)?"":e||""),x.reportValidity())},w={},k=Yv(a),N=sv(a),E=k||N,_=(g||Hv(a))&&mv(a.value)&&mv(y)||Gv(a)&&""===a.value||""===y||Array.isArray(y)&&!y.length,S=zv.bind(null,p,r,w),j=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Tv,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Iv;const i=e?t:n;w[p]={type:e?r:s,message:i,ref:a,...S(e?r:s,i)}};if(i?!Array.isArray(y)||!y.length:l&&(!E&&(_||av(y))||gv(y)&&!y||N&&!ey(o).isValid||k&&!ny(o).isValid)){const{value:e,message:t}=Qv(l)?{value:!!l,message:l}:sy(l);if(e&&(w[p]={type:Pv,message:t,ref:x,...S(Pv,t)},!r))return b(t),w}if(!_&&(!av(d)||!av(h))){let e,t;const n=sy(h),s=sy(d);if(av(y)||isNaN(y)){const r=a.valueAsDate||new Date(y),i=e=>new Date((new Date).toDateString()+" "+e),o="time"==a.type,l="week"==a.type;Uv(n.value)&&y&&(e=o?i(y)>i(n.value):l?y>n.value:r>new Date(n.value)),Uv(s.value)&&y&&(t=o?i(y)<i(s.value):l?y<s.value:r<new Date(s.value))}else{const r=a.valueAsNumber||(y?+y:y);av(n.value)||(e=r>n.value),av(s.value)||(t=r<s.value)}if((e||t)&&(j(!!e,n.message,s.message,jv,Cv),!r))return b(w[p].message),w}if((c||u)&&!_&&(Uv(y)||i&&Array.isArray(y))){const e=sy(c),t=sy(u),n=!av(e.value)&&y.length>+e.value,s=!av(t.value)&&y.length<+t.value;if((n||s)&&(j(n,e.message,t.message),!r))return b(w[p].message),w}if(f&&!_&&Uv(y)){const{value:e,message:t}=sy(f);if(Xv(e)&&!y.match(e)&&(w[p]={type:Av,message:t,ref:a,...S(Av,t)},!r))return b(t),w}if(m)if(Kv(m)){const e=ry(await m(y,n),x);if(e&&(w[p]={...e,...S(Dv,e.message)},!r))return b(e.message),w}else if(lv(m)){let e={};for(const t in m){if(!Lv(e)&&!r)break;const s=ry(await m[t](y,n),x,t);s&&(e={...s,...S(t,s.message)},b(s.message),r&&(w[p]=e))}if(!Lv(e)&&(w[p]={ref:x,...e},!r))return w}return b(!0),w};function ay(e,t){const n=Array.isArray(t)?t:vv(t)?[t]:yv(t),r=1===n.length?e:function(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=mv(e)?r++:e[t[r++]];return e}(e,n),s=n.length-1,i=n[s];return r&&delete r[i],0!==s&&(lv(r)&&Lv(r)||Array.isArray(r)&&function(e){for(const t in e)if(e.hasOwnProperty(t)&&!mv(e[t]))return!1;return!0}(r))&&ay(e,n.slice(0,-1)),e}var oy=()=>{let e=[];return{get observers(){return e},next:t=>{for(const n of e)n.next&&n.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter((e=>e!==t))}}),unsubscribe:()=>{e=[]}}},ly=e=>av(e)||!ov(e);function cy(e,t){if(ly(e)||ly(t))return e===t;if(iv(e)&&iv(t))return e.getTime()===t.getTime();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const s of n){const n=e[s];if(!r.includes(s))return!1;if("ref"!==s){const e=t[s];if(iv(n)&&iv(e)||lv(n)&&lv(e)||Array.isArray(n)&&Array.isArray(e)?!cy(n,e):n!==e)return!1}}return!0}var uy=e=>"select-multiple"===e.type,dy=e=>Gv(e)&&e.isConnected,hy=e=>{for(const t in e)if(Kv(e[t]))return!0;return!1};function fy(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Array.isArray(e);if(lv(e)||n)for(const r in e)Array.isArray(e[r])||lv(e[r])&&!hy(e[r])?(t[r]=Array.isArray(e[r])?[]:{},fy(e[r],t[r])):av(e[r])||(t[r]=!0);return t}function my(e,t,n){const r=Array.isArray(e);if(lv(e)||r)for(const s in e)Array.isArray(e[s])||lv(e[s])&&!hy(e[s])?mv(t)||ly(n[s])?n[s]=Array.isArray(e[s])?fy(e[s],[]):{...fy(e[s])}:my(e[s],av(t)?{}:t[s],n[s]):n[s]=!cy(e[s],t[s]);return n}var py=(e,t)=>my(e,t,fy(t)),gy=(e,t)=>{let{valueAsNumber:n,valueAsDate:r,setValueAs:s}=t;return mv(e)?e:n?""===e?NaN:e?+e:e:r&&Uv(e)?new Date(e):s?s(e):e};function vy(e){const t=e.ref;return Hv(t)?t.files:Yv(t)?ny(e.refs).value:uy(t)?[...t.selectedOptions].map((e=>{let{value:t}=e;return t})):sv(t)?ey(e.refs).value:gy(mv(t.value)?e.ref.value:t.value,e)}var yy=e=>mv(e)?e:Xv(e)?e.source:lv(e)?Xv(e.value)?e.value.source:e.value:e;const xy="AsyncFunction";function by(e,t,n){const r=pv(e,n);if(r||vv(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const r=s.join("."),i=pv(t,r),a=pv(e,r);if(i&&!Array.isArray(i)&&n!==r)return{name:n};if(a&&a.type)return{name:r,error:a};s.pop()}return{name:n}}const wy={mode:Ev,reValidateMode:Nv,shouldFocusError:!0};function ky(){let e,t={...wy,...arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}},n={submitCount:0,isDirty:!1,isLoading:Kv(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},s=(lv(t.defaultValues)||lv(t.values))&&hv(t.defaultValues||t.values)||{},i=t.shouldUnregister?{}:hv(s),a={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l=0;const c={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},u={values:oy(),array:oy(),state:oy()},d=Bv(t.mode),h=Bv(t.reValidateMode),f=t.criteriaMode===Sv,m=async e=>{if(!t.disabled&&(c.isValid||e)){const e=t.resolver?Lv((await x()).errors):await b(r,!0);e!==n.isValid&&u.state.next({isValid:e})}},p=(e,r)=>{t.disabled||!c.isValidating&&!c.validatingFields||((e||Array.from(o.mount)).forEach((e=>{e&&(r?xv(n.validatingFields,e,r):ay(n.validatingFields,e))})),u.state.next({validatingFields:n.validatingFields,isValidating:!Lv(n.validatingFields)}))},g=(e,t,n,o)=>{const l=pv(r,e);if(l){const r=pv(i,e,mv(n)?pv(s,e):n);mv(r)||o&&o.defaultChecked||t?xv(i,e,t?r:vy(l._f)):N(e,r),a.mount&&m()}},v=(e,i,a,o,l)=>{let d=!1,h=!1;const f={name:e};if(!t.disabled){const t=!!(pv(r,e)&&pv(r,e)._f&&pv(r,e)._f.disabled);if(!a||o){c.isDirty&&(h=n.isDirty,n.isDirty=f.isDirty=w(),d=h!==f.isDirty);const r=t||cy(pv(s,e),i);h=!(t||!pv(n.dirtyFields,e)),r||t?ay(n.dirtyFields,e):xv(n.dirtyFields,e,!0),f.dirtyFields=n.dirtyFields,d=d||c.dirtyFields&&h!==!r}if(a){const t=pv(n.touchedFields,e);t||(xv(n.touchedFields,e,a),f.touchedFields=n.touchedFields,d=d||c.touchedFields&&t!==a)}d&&l&&u.state.next(f)}return d?f:{}},y=(r,s,i,a)=>{const o=pv(n.errors,r),d=c.isValid&&gv(s)&&n.isValid!==s;if(t.delayError&&i?(e=(e=>t=>{clearTimeout(l),l=setTimeout(e,t)})((()=>((e,t)=>{xv(n.errors,e,t),u.state.next({errors:n.errors})})(r,i))),e(t.delayError)):(clearTimeout(l),e=null,i?xv(n.errors,r,i):ay(n.errors,r)),(i?!cy(o,i):o)||!Lv(a)||d){const e={...a,...d&&gv(s)?{isValid:s}:{},errors:n.errors,name:r};n={...n,...e},u.state.next(e)}},x=async e=>{p(e,!0);const n=await t.resolver(i,t.context,((e,t,n,r)=>{const s={};for(const i of e){const e=pv(t,i);e&&xv(s,i,e._f)}return{criteriaMode:n,names:[...e],fields:s,shouldUseNativeValidation:r}})(e||o.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return p(e),n},b=async function(e,r){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{valid:!0};for(const l in e){const u=e[l];if(u){const{_f:e,...d}=u;if(e){const d=o.array.has(e.name),h=u._f&&(!!(a=u._f)&&!!a.validate&&!!(Kv(a.validate)&&a.validate.constructor.name===xy||lv(a.validate)&&Object.values(a.validate).find((e=>e.constructor.name===xy))));h&&c.validatingFields&&p([l],!0);const m=await iy(u,o.disabled,i,f,t.shouldUseNativeValidation&&!r,d);if(h&&c.validatingFields&&p([l]),m[e.name]&&(s.valid=!1,r))break;!r&&(pv(m,e.name)?d?Wv(n.errors,m,e.name):xv(n.errors,e.name,m[e.name]):ay(n.errors,e.name))}!Lv(d)&&await b(d,r,s)}}var a;return s.valid},w=(e,n)=>!t.disabled&&(e&&n&&xv(i,e,n),!cy(T(),s)),k=(e,t,n)=>Vv(e,o,{...a.mount?i:mv(t)?s:Uv(e)?{[e]:t}:t},n,t),N=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=pv(r,e);let a=t;if(s){const n=s._f;n&&(!n.disabled&&xv(i,e,gy(t,n)),a=Gv(n.ref)&&av(t)?"":t,uy(n.ref)?[...n.ref.options].forEach((e=>e.selected=a.includes(e.value))):n.refs?sv(n.ref)?n.refs.length>1?n.refs.forEach((e=>(!e.defaultChecked||!e.disabled)&&(e.checked=Array.isArray(a)?!!a.find((t=>t===e.value)):a===e.value))):n.refs[0]&&(n.refs[0].checked=!!a):n.refs.forEach((e=>e.checked=e.value===a)):Hv(n.ref)?n.ref.value="":(n.ref.value=a,n.ref.type||u.values.next({name:e,values:{...i}})))}(n.shouldDirty||n.shouldTouch)&&v(e,a,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&C(e)},E=(e,t,n)=>{for(const s in t){const i=t[s],a=`${e}.${s}`,l=pv(r,a);(o.array.has(e)||lv(i)||l&&!l._f)&&!iv(i)?E(a,i,n):N(a,i,n)}},_=function(e,t){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const d=pv(r,e),h=o.array.has(e),f=hv(t);xv(i,e,f),h?(u.array.next({name:e,values:{...i}}),(c.isDirty||c.dirtyFields)&&l.shouldDirty&&u.state.next({name:e,dirtyFields:py(s,i),isDirty:w(e,f)})):!d||d._f||av(f)?N(e,f,l):E(e,f,l),$v(e,o)&&u.state.next({...n}),u.values.next({name:a.mount?e:void 0,values:{...i}})},S=async s=>{a.mount=!0;const l=s.target;let g=l.name,w=!0;const k=pv(r,g),N=e=>{w=Number.isNaN(e)||iv(e)&&isNaN(e.getTime())||cy(e,pv(i,g,e))};if(k){let a,_;const S=l.type?vy(k._f):cv(s),j=s.type===bv||s.type===wv,T=!((E=k._f).mount&&(E.required||E.min||E.max||E.maxLength||E.minLength||E.pattern||E.validate))&&!t.resolver&&!pv(n.errors,g)&&!k._f.deps||((e,t,n,r,s)=>!s.isOnAll&&(!n&&s.isOnTouch?!(t||e):(n?r.isOnBlur:s.isOnBlur)?!e:!(n?r.isOnChange:s.isOnChange)||e))(j,pv(n.touchedFields,g),n.isSubmitted,h,d),I=$v(g,o,j);xv(i,g,S),j?(k._f.onBlur&&k._f.onBlur(s),e&&e(0)):k._f.onChange&&k._f.onChange(s);const A=v(g,S,j,!1),P=!Lv(A)||I;if(!j&&u.values.next({name:g,type:s.type,values:{...i}}),T)return c.isValid&&("onBlur"===t.mode&&j?m():j||m()),P&&u.state.next({name:g,...I?{}:A});if(!j&&I&&u.state.next({...n}),t.resolver){const{errors:e}=await x([g]);if(N(S),w){const t=by(n.errors,r,g),s=by(e,r,t.name||g);a=s.error,g=s.name,_=Lv(e)}}else p([g],!0),a=(await iy(k,o.disabled,i,f,t.shouldUseNativeValidation))[g],p([g]),N(S),w&&(a?_=!1:c.isValid&&(_=await b(r,!0)));w&&(k._f.deps&&C(k._f.deps),y(g,_,a,A))}var E},j=(e,t)=>{if(pv(n.errors,t)&&e.focus)return e.focus(),1},C=async function(e){let s,i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const l=Mv(e);if(t.resolver){const t=await(async e=>{const{errors:t}=await x(e);if(e)for(const r of e){const e=pv(t,r);e?xv(n.errors,r,e):ay(n.errors,r)}else n.errors=t;return t})(mv(e)?e:l);s=Lv(t),i=e?!l.some((e=>pv(t,e))):s}else e?(i=(await Promise.all(l.map((async e=>{const t=pv(r,e);return await b(t&&t._f?{[e]:t}:t)})))).every(Boolean),(i||n.isValid)&&m()):i=s=await b(r);return u.state.next({...!Uv(e)||c.isValid&&s!==n.isValid?{}:{name:e},...t.resolver||!e?{isValid:s}:{},errors:n.errors}),a.shouldFocus&&!i&&qv(r,j,e?l:o.mount),i},T=e=>{const t={...a.mount?i:s};return mv(e)?t:Uv(e)?pv(t,e):e.map((e=>pv(t,e)))},I=(e,t)=>({invalid:!!pv((t||n).errors,e),isDirty:!!pv((t||n).dirtyFields,e),error:pv((t||n).errors,e),isValidating:!!pv(n.validatingFields,e),isTouched:!!pv((t||n).touchedFields,e)}),A=(e,t,s)=>{const i=(pv(r,e,{_f:{}})._f||{}).ref,a=pv(n.errors,e)||{},{ref:o,message:l,type:c,...d}=a;xv(n.errors,e,{...d,...t,ref:i}),u.state.next({name:e,errors:n.errors,isValid:!1}),s&&s.shouldFocus&&i&&i.focus&&i.focus()},P=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(const l of e?Mv(e):o.mount)o.mount.delete(l),o.array.delete(l),a.keepValue||(ay(r,l),ay(i,l)),!a.keepError&&ay(n.errors,l),!a.keepDirty&&ay(n.dirtyFields,l),!a.keepTouched&&ay(n.touchedFields,l),!a.keepIsValidating&&ay(n.validatingFields,l),!t.shouldUnregister&&!a.keepDefaultValue&&ay(s,l);u.values.next({values:{...i}}),u.state.next({...n,...a.keepDirty?{isDirty:w()}:{}}),!a.keepIsValid&&m()},D=e=>{let{disabled:t,name:n,field:r,fields:s}=e;(gv(t)&&a.mount||t||o.disabled.has(n))&&(t?o.disabled.add(n):o.disabled.delete(n),v(n,vy(r?r._f:pv(s,n)._f),!1,!1,!0))},R=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=pv(r,e);const l=gv(n.disabled)||gv(t.disabled);return xv(r,e,{...i||{},_f:{...i&&i._f?i._f:{ref:{name:e}},name:e,mount:!0,...n}}),o.mount.add(e),i?D({field:i,disabled:gv(n.disabled)?n.disabled:t.disabled,name:e}):g(e,!0,n.value),{...l?{disabled:n.disabled||t.disabled}:{},...t.progressive?{required:!!n.required,min:yy(n.min),max:yy(n.max),minLength:yy(n.minLength),maxLength:yy(n.maxLength),pattern:yy(n.pattern)}:{},name:e,onChange:S,onBlur:S,ref:l=>{if(l){R(e,n),i=pv(r,e);const t=mv(l.value)&&l.querySelectorAll&&l.querySelectorAll("input,select,textarea")[0]||l,a=(e=>Yv(e)||sv(e))(t),o=i._f.refs||[];if(a?o.find((e=>e===t)):t===i._f.ref)return;xv(r,e,{_f:{...i._f,...a?{refs:[...o.filter(dy),t,...Array.isArray(pv(s,e))?[{}]:[]],ref:{type:t.type,name:e}}:{ref:t}}}),g(e,!1,void 0,t)}else i=pv(r,e,{}),i._f&&(i._f.mount=!1),(t.shouldUnregister||n.shouldUnregister)&&(!uv(o.array,e)||!a.action)&&o.unMount.add(e)}}},L=()=>t.shouldFocusError&&qv(r,j,o.mount),O=(e,s)=>async a=>{let l;a&&(a.preventDefault&&a.preventDefault(),a.persist&&a.persist());let c=hv(i);if(o.disabled.size)for(const e of o.disabled)xv(c,e,void 0);if(u.state.next({isSubmitting:!0}),t.resolver){const{errors:e,values:t}=await x();n.errors=e,c=t}else await b(r);if(ay(n.errors,"root"),Lv(n.errors)){u.state.next({errors:{}});try{await e(c,a)}catch(d){l=d}}else s&&await s({...n.errors},a),L(),setTimeout(L);if(u.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Lv(n.errors)&&!l,submitCount:n.submitCount+1,errors:n.errors}),l)throw l},M=function(e){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const d=e?hv(e):s,h=hv(d),f=Lv(e),m=f?s:h;if(l.keepDefaultValues||(s=d),!l.keepValues){if(l.keepDirtyValues){const e=new Set([...o.mount,...Object.keys(py(s,i))]);for(const t of Array.from(e))pv(n.dirtyFields,t)?xv(m,t,pv(i,t)):_(t,pv(m,t))}else{if(dv&&mv(e))for(const e of o.mount){const t=pv(r,e);if(t&&t._f){const e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(Gv(e)){const t=e.closest("form");if(t){t.reset();break}}}}r={}}i=t.shouldUnregister?l.keepDefaultValues?hv(s):{}:hv(m),u.array.next({values:{...m}}),u.values.next({values:{...m}})}o={mount:l.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!c.isValid||!!l.keepIsValid||!!l.keepDirtyValues,a.watch=!!t.shouldUnregister,u.state.next({submitCount:l.keepSubmitCount?n.submitCount:0,isDirty:!f&&(l.keepDirty?n.isDirty:!(!l.keepDefaultValues||cy(e,s))),isSubmitted:!!l.keepIsSubmitted&&n.isSubmitted,dirtyFields:f?{}:l.keepDirtyValues?l.keepDefaultValues&&i?py(s,i):n.dirtyFields:l.keepDefaultValues&&e?py(s,e):l.keepDirty?n.dirtyFields:{},touchedFields:l.keepTouched?n.touchedFields:{},errors:l.keepErrors?n.errors:{},isSubmitSuccessful:!!l.keepIsSubmitSuccessful&&n.isSubmitSuccessful,isSubmitting:!1})},F=(e,t)=>M(Kv(e)?e(i):e,t);return{control:{register:R,unregister:P,getFieldState:I,handleSubmit:O,setError:A,_executeSchema:x,_getWatch:k,_getDirty:w,_updateValid:m,_removeUnmounted:()=>{for(const e of o.unMount){const t=pv(r,e);t&&(t._f.refs?t._f.refs.every((e=>!dy(e))):!dy(t._f.ref))&&P(e)}o.unMount=new Set},_updateFieldArray:function(e){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],l=arguments.length>2?arguments[2]:void 0,d=arguments.length>3?arguments[3]:void 0,h=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],f=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(d&&l&&!t.disabled){if(a.action=!0,f&&Array.isArray(pv(r,e))){const t=l(pv(r,e),d.argA,d.argB);h&&xv(r,e,t)}if(f&&Array.isArray(pv(n.errors,e))){const t=l(pv(n.errors,e),d.argA,d.argB);h&&xv(n.errors,e,t),((e,t)=>{!fv(pv(e,t)).length&&ay(e,t)})(n.errors,e)}if(c.touchedFields&&f&&Array.isArray(pv(n.touchedFields,e))){const t=l(pv(n.touchedFields,e),d.argA,d.argB);h&&xv(n.touchedFields,e,t)}c.dirtyFields&&(n.dirtyFields=py(s,i)),u.state.next({name:e,isDirty:w(e,o),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else xv(i,e,o)},_updateDisabledField:D,_getFieldArray:e=>fv(pv(a.mount?i:s,e,t.shouldUnregister?pv(s,e,[]):[])),_reset:M,_resetDefaultValues:()=>Kv(t.defaultValues)&&t.defaultValues().then((e=>{F(e,t.resetOptions),u.state.next({isLoading:!1})})),_updateFormState:e=>{n={...n,...e}},_disableForm:e=>{gv(e)&&(u.state.next({disabled:e}),qv(r,((t,n)=>{const s=pv(r,n);s&&(t.disabled=s._f.disabled||e,Array.isArray(s._f.refs)&&s._f.refs.forEach((t=>{t.disabled=s._f.disabled||e})))}),0,!1))},_subjects:u,_proxyFormState:c,_setErrors:e=>{n.errors=e,u.state.next({errors:n.errors,isValid:!1})},get _fields(){return r},get _formValues(){return i},get _state(){return a},set _state(e){a=e},get _defaultValues(){return s},get _names(){return o},set _names(e){o=e},get _formState(){return n},set _formState(e){n=e},get _options(){return t},set _options(e){t={...t,...e}}},trigger:C,register:R,handleSubmit:O,watch:(e,t)=>Kv(e)?u.values.subscribe({next:n=>e(k(void 0,t),n)}):k(e,t,!0),setValue:_,getValues:T,reset:F,resetField:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};pv(r,e)&&(mv(t.defaultValue)?_(e,hv(pv(s,e))):(_(e,t.defaultValue),xv(s,e,hv(t.defaultValue))),t.keepTouched||ay(n.touchedFields,e),t.keepDirty||(ay(n.dirtyFields,e),n.isDirty=t.defaultValue?w(e,hv(pv(s,e))):w()),t.keepError||(ay(n.errors,e),c.isValid&&m()),u.state.next({...n}))},clearErrors:e=>{e&&Mv(e).forEach((e=>ay(n.errors,e))),u.state.next({errors:e?n.errors:{}})},unregister:P,setError:A,setFocus:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=pv(r,e),s=n&&n._f;if(s){const e=s.refs?s.refs[0]:s.ref;e.focus&&(e.focus(),t.shouldSelect&&Kv(e.select)&&e.select())}},getFieldState:I}}function Ny(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=s.useRef(void 0),n=s.useRef(void 0),[r,i]=s.useState({isDirty:!1,isValidating:!1,isLoading:Kv(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Kv(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...ky(e),formState:r});const a=t.current.control;return a._options=e,Fv({subject:a._subjects.state,next:e=>{Ov(e,a._proxyFormState,a._updateFormState,!0)&&i({...a._formState})}}),s.useEffect((()=>a._disableForm(e.disabled)),[a,e.disabled]),s.useEffect((()=>{if(a._proxyFormState.isDirty){const e=a._getDirty();e!==r.isDirty&&a._subjects.state.next({isDirty:e})}}),[a,r.isDirty]),s.useEffect((()=>{e.values&&!cy(e.values,n.current)?(a._reset(e.values,a._options.resetOptions),n.current=e.values,i((e=>({...e})))):a._resetDefaultValues()}),[e.values,a]),s.useEffect((()=>{e.errors&&a._setErrors(e.errors)}),[e.errors,a]),s.useEffect((()=>{a._state.mount||(a._updateValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()})),s.useEffect((()=>{e.shouldUnregister&&a._subjects.values.next({values:a._getWatch()})}),[e.shouldUnregister,a]),t.current.formState=Rv(r,a),t.current}function Ey(e,t){let{title:n,titleId:r,...i}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const _y=s.forwardRef(Ey);function Sy(e,t){let{title:n,titleId:r,...i}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const jy=s.forwardRef(Sy),Cy=()=>{var e,t;const{login:n}=Cp(),r=ee(),i=J(),[a,o]=(0,s.useState)(!1),[l,c]=(0,s.useState)(""),[u,d]=(0,s.useState)(!1),[h,f]=(0,s.useState)(!1),{register:m,handleSubmit:p,formState:{errors:g}}=Ny(),v=(null===(e=i.state)||void 0===e||null===(t=e.from)||void 0===t?void 0:t.pathname)||"/";return(0,Sp.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,Sp.jsxs)("div",{className:"bg-dark-700 rounded-lg shadow-lg p-6",children:[(0,Sp.jsx)("h1",{className:"text-2xl font-bold text-white mb-6 text-center",children:"Sign In"}),l&&(0,Sp.jsx)("div",{className:(u?"bg-yellow-500 bg-opacity-20 border border-yellow-500 text-yellow-500":"bg-red-500 bg-opacity-20 border border-red-500 text-red-500")+" px-4 py-3 rounded mb-4",children:u?(0,Sp.jsxs)("div",{className:"flex items-start",children:[(0,Sp.jsx)(_y,{className:"h-5 w-5 mr-2 mt-0.5 flex-shrink-0"}),(0,Sp.jsxs)("div",{children:[(0,Sp.jsx)("p",{className:"font-medium",children:l}),(0,Sp.jsx)("p",{className:"text-sm mt-1",children:"Your account has been deactivated by an administrator. Please contact support for assistance."})]})]}):l}),(0,Sp.jsxs)("form",{onSubmit:p((async e=>{o(!0),c(""),d(!1);try{await n(e.email,e.password),r(v,{replace:!0})}catch(l){console.error("Error during login:",l),"auth/user-not-found"===l.code||"auth/wrong-password"===l.code?c("Incorrect email or password."):"auth/too-many-requests"===l.code?c("Too many failed login attempts. Please try again later."):l.message&&l.message.includes("deactivated")?(d(!0),c("Account is inactive. Please contact support.")):c("An error occurred during login. Please try again.")}finally{o(!1)}})),children:[(0,Sp.jsxs)("div",{className:"mb-4",children:[(0,Sp.jsx)("label",{htmlFor:"email",className:"block text-gray-300 mb-2",children:"Email"}),(0,Sp.jsx)("input",{id:"email",type:"email",className:"w-full py-2 px-3 bg-dark-800 border border-dark-600 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 text-white",placeholder:"Your email address",...m("email",{required:"Email address is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Please enter a valid email address"}})}),g.email&&(0,Sp.jsx)("p",{className:"text-red-500 text-sm mt-1",children:g.email.message})]}),(0,Sp.jsxs)("div",{className:"mb-6",children:[(0,Sp.jsx)("label",{htmlFor:"password",className:"block text-gray-300 mb-2",children:"Password"}),(0,Sp.jsxs)("div",{className:"relative",children:[(0,Sp.jsx)("input",{id:"password",type:h?"text":"password",className:"w-full py-2 px-3 bg-dark-800 border border-dark-600 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 text-white pr-10",placeholder:"Your password",...m("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}})}),(0,Sp.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-white",onClick:()=>f(!h),children:h?(0,Sp.jsx)(jy,{className:"h-5 w-5"}):(0,Sp.jsx)(Rg,{className:"h-5 w-5"})})]}),g.password&&(0,Sp.jsx)("p",{className:"text-red-500 text-sm mt-1",children:g.password.message})]}),(0,Sp.jsx)("button",{type:"submit",className:"w-full bg-primary-600 hover:bg-primary-700 text-white py-3 rounded-md font-medium",disabled:a,children:a?(0,Sp.jsxs)("span",{className:"flex items-center justify-center",children:[(0,Sp.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Sp.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Sp.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing In..."]}):"Sign In"})]}),(0,Sp.jsx)("div",{className:"mt-4 text-center",children:(0,Sp.jsxs)("p",{className:"text-gray-400",children:["Don't have an account? ",(0,Sp.jsx)(Gp,{to:"/register",className:"text-primary-500 hover:text-primary-400",children:"Register"})]})})]}),(0,Sp.jsx)(Mg,{position:"left"}),(0,Sp.jsx)(Mg,{position:"right"})]})},Ty=()=>{const{register:e}=Cp(),t=ee(),[n,r]=(0,s.useState)(!1),[i,a]=(0,s.useState)(""),[o,l]=(0,s.useState)(!1),[c,u]=(0,s.useState)(!1),{register:d,handleSubmit:h,watch:f,formState:{errors:m}}=Ny(),p=f("password","");return(0,Sp.jsx)("div",{className:"max-w-md mx-auto",children:(0,Sp.jsxs)("div",{className:"bg-dark-700 rounded-lg shadow-lg p-6",children:[(0,Sp.jsx)("h1",{className:"text-2xl font-bold text-white mb-6 text-center",children:"Register"}),i&&(0,Sp.jsx)("div",{className:"bg-red-500 bg-opacity-20 border border-red-500 text-red-500 px-4 py-3 rounded mb-4",children:i}),(0,Sp.jsxs)("form",{onSubmit:h((async n=>{r(!0),a("");try{await e(n.email,n.password,n.displayName),t("/")}catch(i){console.error("Error during registration:",i),"auth/email-already-in-use"===i.code?a("This email address is already in use."):"auth/invalid-email"===i.code?a("Invalid email address."):"auth/weak-password"===i.code?a("Password is too weak. Please choose a stronger password."):a("An error occurred during registration. Please try again.")}finally{r(!1)}})),children:[(0,Sp.jsxs)("div",{className:"mb-4",children:[(0,Sp.jsx)("label",{htmlFor:"displayName",className:"block text-gray-300 mb-2",children:"Username"}),(0,Sp.jsx)("input",{id:"displayName",type:"text",className:"input",placeholder:"Your username",...d("displayName",{required:"Username is required",minLength:{value:3,message:"Username must be at least 3 characters"}})}),m.displayName&&(0,Sp.jsx)("p",{className:"text-red-500 text-sm mt-1",children:m.displayName.message})]}),(0,Sp.jsxs)("div",{className:"mb-4",children:[(0,Sp.jsx)("label",{htmlFor:"email",className:"block text-gray-300 mb-2",children:"Email"}),(0,Sp.jsx)("input",{id:"email",type:"email",className:"input",placeholder:"Your email address",...d("email",{required:"Email address is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Please enter a valid email address"}})}),m.email&&(0,Sp.jsx)("p",{className:"text-red-500 text-sm mt-1",children:m.email.message})]}),(0,Sp.jsxs)("div",{className:"mb-4",children:[(0,Sp.jsx)("label",{htmlFor:"password",className:"block text-gray-300 mb-2",children:"Password"}),(0,Sp.jsxs)("div",{className:"relative",children:[(0,Sp.jsx)("input",{id:"password",type:o?"text":"password",className:"input pr-10",placeholder:"Your password",...d("password",{required:"Password is required",minLength:{value:8,message:"Password must be at least 8 characters"}})}),(0,Sp.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-white",onClick:()=>l(!o),children:o?(0,Sp.jsx)(jy,{className:"h-5 w-5"}):(0,Sp.jsx)(Rg,{className:"h-5 w-5"})})]}),m.password&&(0,Sp.jsx)("p",{className:"text-red-500 text-sm mt-1",children:m.password.message})]}),(0,Sp.jsxs)("div",{className:"mb-4",children:[(0,Sp.jsx)("label",{htmlFor:"confirmPassword",className:"block text-gray-300 mb-2",children:"Confirm Password"}),(0,Sp.jsxs)("div",{className:"relative",children:[(0,Sp.jsx)("input",{id:"confirmPassword",type:c?"text":"password",className:"input pr-10",placeholder:"Re-enter your password",...d("confirmPassword",{required:"Password confirmation is required",validate:e=>e===p||"Passwords do not match"})}),(0,Sp.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-white",onClick:()=>u(!c),children:c?(0,Sp.jsx)(jy,{className:"h-5 w-5"}):(0,Sp.jsx)(Rg,{className:"h-5 w-5"})})]}),m.confirmPassword&&(0,Sp.jsx)("p",{className:"text-red-500 text-sm mt-1",children:m.confirmPassword.message})]}),(0,Sp.jsx)("button",{type:"submit",className:"w-full btn btn-primary py-3",disabled:n,children:n?(0,Sp.jsxs)("span",{className:"flex items-center justify-center",children:[(0,Sp.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Sp.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Sp.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Registering..."]}):"Register"})]}),(0,Sp.jsx)("div",{className:"mt-4 text-center",children:(0,Sp.jsxs)("p",{className:"text-gray-400",children:["Already have an account? ",(0,Sp.jsx)(Gp,{to:"/login",className:"text-primary-500 hover:text-primary-400",children:"Login"})]})})]})})};function Iy(e,t){let{title:n,titleId:r,...i}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Ay=s.forwardRef(Iy);function Py(e,t){let{title:n,titleId:r,...i}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const Dy=s.forwardRef(Py),Ry=()=>{const{currentUser:e,logout:t,resetPassword:n}=Cp(),[r,i]=(0,s.useState)(!0),[a,o]=(0,s.useState)(null),[l,c]=(0,s.useState)([]),[u,d]=(0,s.useState)("profile"),[h,f]=(0,s.useState)(!1),[m,p]=(0,s.useState)(""),[g,v]=(0,s.useState)(""),[y,x]=(0,s.useState)(!1),[b,w]=(0,s.useState)(""),k=ee(),{register:N,handleSubmit:E,formState:{errors:_},setValue:S,watch:j}=Ny(),C=j("password","");(0,s.useEffect)((()=>{(async()=>{i(!0);try{const t=await Mm(jf(_p,"users",e.uid));t.exists()&&(o(t.data()),S("displayName",t.data().displayName||""))}catch(m){console.error("Error occurred while fetching user data:",m),p("An error occurred while fetching user data.")}finally{i(!1)}})()}),[e,S]),(0,s.useEffect)((()=>{(async()=>{if(a&&a.featured&&0!==a.featured.length)try{const e=[];for(const t of a.featured){const n=await Mm(jf(_p,"videos",t));n.exists()&&e.push({id:n.id,...n.data()})}c(e)}catch(m){console.error("Error occurred while fetching featured videos:",m)}else c([])})()}),[a]);return r?(0,Sp.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,Sp.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"})}):(0,Sp.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,Sp.jsxs)("div",{className:"mb-8",children:[(0,Sp.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Profile"}),(0,Sp.jsx)("p",{className:"text-gray-400 mt-2",children:"Manage your account settings"})]}),m&&(0,Sp.jsx)("div",{className:"bg-red-500 bg-opacity-20 border border-red-500 text-red-500 px-4 py-3 rounded mb-4",children:m}),g&&(0,Sp.jsx)("div",{className:"bg-green-500 bg-opacity-20 border border-green-500 text-green-500 px-4 py-3 rounded mb-4",children:g}),(0,Sp.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,Sp.jsx)("div",{className:"md:col-span-1",children:(0,Sp.jsx)("div",{className:"bg-dark-700 rounded-lg p-6",children:(0,Sp.jsxs)("div",{className:"flex flex-col items-center",children:[(0,Sp.jsx)("div",{className:"bg-dark-600 rounded-full p-4 mb-4",children:(0,Sp.jsx)(Ay,{className:"w-16 h-16 text-gray-300"})}),(0,Sp.jsx)("h2",{className:"text-xl font-semibold text-white",children:(null===a||void 0===a?void 0:a.displayName)||"User"}),(0,Sp.jsx)("p",{className:"text-gray-400 mt-1",children:e.email}),(0,Sp.jsxs)("div",{className:"mt-4 flex items-center",children:[(0,Sp.jsx)(nv,{className:"w-5 h-5 text-red-500 mr-2"}),(0,Sp.jsxs)("span",{className:"text-white",children:[l.length," Favorite Videos"]})]}),(0,Sp.jsx)("button",{onClick:async()=>{try{await t(),k("/")}catch(m){console.error("Error occurred during logout:",m),p("An error occurred during logout.")}},className:"mt-6 w-full py-2 px-4 bg-dark-600 hover:bg-dark-500 text-white rounded-md",children:"Sign Out"})]})})}),(0,Sp.jsxs)("div",{className:"md:col-span-2",children:[(0,Sp.jsxs)("div",{className:"bg-dark-700 rounded-lg p-6 mb-6",children:[(0,Sp.jsx)("h3",{className:"text-xl font-semibold text-white mb-4",children:"Update Profile"}),(0,Sp.jsxs)("form",{onSubmit:E((async t=>{p(""),v("");try{await zm(jf(_p,"users",e.uid),{displayName:t.displayName}),v("Profile updated successfully.")}catch(m){console.error("Error occurred while updating profile:",m),p("An error occurred while updating profile.")}})),children:[(0,Sp.jsxs)("div",{className:"mb-4",children:[(0,Sp.jsx)("label",{htmlFor:"displayName",className:"block text-gray-300 mb-2",children:"Display Name"}),(0,Sp.jsx)("input",{id:"displayName",type:"text",className:"w-full py-2 px-3 bg-dark-800 border border-dark-600 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 text-white",placeholder:"Your display name",...N("displayName",{required:"Display name is required"})}),_.displayName&&(0,Sp.jsx)("p",{className:"text-red-500 text-sm mt-1",children:_.displayName.message})]}),(0,Sp.jsx)("button",{type:"submit",className:"py-2 px-4 bg-primary-600 hover:bg-primary-700 text-white rounded-md",children:"Update Profile"})]})]}),(0,Sp.jsxs)("div",{className:"bg-dark-700 rounded-lg p-6 mb-6",children:[(0,Sp.jsx)("h3",{className:"text-xl font-semibold text-white mb-4",children:"Change Password"}),(0,Sp.jsxs)("form",{onSubmit:E((async t=>{p(""),v("");try{await e.updatePassword(t.password),v("Your password has been updated successfully."),S("password",""),S("confirmPassword","")}catch(m){console.error("Error occurred while updating password:",m),p("An error occurred while updating password. Please make sure you have logged in recently.")}})),children:[(0,Sp.jsxs)("div",{className:"mb-4",children:[(0,Sp.jsx)("label",{htmlFor:"password",className:"block text-gray-300 mb-2",children:"New Password"}),(0,Sp.jsx)("input",{id:"password",type:"password",className:"w-full py-2 px-3 bg-dark-800 border border-dark-600 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 text-white",placeholder:"New password",...N("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}})}),_.password&&(0,Sp.jsx)("p",{className:"text-red-500 text-sm mt-1",children:_.password.message})]}),(0,Sp.jsxs)("div",{className:"mb-4",children:[(0,Sp.jsx)("label",{htmlFor:"confirmPassword",className:"block text-gray-300 mb-2",children:"Confirm Password"}),(0,Sp.jsx)("input",{id:"confirmPassword",type:"password",className:"w-full py-2 px-3 bg-dark-800 border border-dark-600 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 text-white",placeholder:"Confirm new password",...N("confirmPassword",{required:"Please confirm your password",validate:e=>e===C||"Passwords do not match"})}),_.confirmPassword&&(0,Sp.jsx)("p",{className:"text-red-500 text-sm mt-1",children:_.confirmPassword.message})]}),(0,Sp.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center",children:[(0,Sp.jsx)("button",{type:"submit",className:"py-2 px-4 bg-primary-600 hover:bg-primary-700 text-white rounded-md mb-2 sm:mb-0 sm:mr-2",children:"Update Password"}),(0,Sp.jsx)("button",{type:"button",onClick:async()=>{p(""),v(""),f(!1);try{await n(e.email),f(!0),v("Password reset link has been sent to your email address.")}catch(m){console.error("Error occurred while sending password reset email:",m),p("An error occurred while sending password reset email.")}},className:"py-2 px-4 bg-dark-600 hover:bg-dark-500 text-white rounded-md",children:"Send Reset Email"})]}),h&&(0,Sp.jsx)("p",{className:"text-green-500 text-sm mt-2",children:"Password reset email sent. Please check your inbox."})]})]}),(0,Sp.jsxs)("div",{className:"bg-dark-700 rounded-lg p-6",children:[(0,Sp.jsx)("h3",{className:"text-xl font-semibold text-white mb-4",children:"Deactivate Account"}),(0,Sp.jsx)("p",{className:"text-gray-400 mb-4",children:"Once you deactivate your account, all your data will be permanently removed. This action cannot be undone."}),(0,Sp.jsxs)("button",{onClick:()=>x(!0),className:"py-2 px-4 bg-red-600 hover:bg-red-700 text-white rounded-md flex items-center",children:[(0,Sp.jsx)(Dy,{className:"w-5 h-5 mr-2"}),"Deactivate Account"]})]})]})]}),y&&(0,Sp.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:(0,Sp.jsxs)("div",{className:"bg-dark-700 rounded-lg max-w-md w-full p-6",children:[(0,Sp.jsxs)("div",{className:"flex items-start mb-4",children:[(0,Sp.jsx)("div",{className:"bg-red-500 bg-opacity-20 p-2 rounded-full mr-3",children:(0,Sp.jsx)(_y,{className:"w-6 h-6 text-red-500"})}),(0,Sp.jsxs)("div",{children:[(0,Sp.jsx)("h3",{className:"text-xl font-semibold text-white",children:"Deactivate Account"}),(0,Sp.jsx)("p",{className:"text-gray-400 mt-1",children:"This action cannot be undone. All your data will be permanently deleted."})]})]}),(0,Sp.jsxs)("div",{className:"mb-4",children:[(0,Sp.jsxs)("label",{className:"block text-gray-300 mb-2",children:["Please type your email address to confirm: ",(0,Sp.jsx)("span",{className:"text-white",children:e.email})]}),(0,Sp.jsx)("input",{type:"text",className:"w-full py-2 px-3 bg-dark-800 border border-dark-600 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 text-white",value:b,onChange:e=>w(e.target.value),placeholder:"Enter your email"})]}),(0,Sp.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,Sp.jsx)("button",{onClick:()=>{x(!1),w("")},className:"py-2 px-4 bg-dark-600 hover:bg-dark-500 text-white rounded-md",children:"Cancel"}),(0,Sp.jsx)("button",{onClick:async()=>{if(b===e.email)try{await zm(jf(_p,"users",e.uid),{status:"inactive",deactivatedAt:new Date}),await t(),k("/")}catch(m){console.error("Error occurred while deactivating account:",m),p("An error occurred while deactivating your account."),x(!1)}else p("You must enter your email address correctly to deactivate your account.")},className:"py-2 px-4 bg-red-600 hover:bg-red-700 text-white rounded-md",children:"Deactivate"})]})]})})]})};function Ly(e,t){let{title:n,titleId:r,...i}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const Oy=s.forwardRef(Ly),My=()=>{const{currentUser:e}=Cp(),[t,n]=(0,s.useState)(!0),[r,i]=(0,s.useState)(null),[a,o]=(0,s.useState)([]),[l,c]=(0,s.useState)(""),[u,d]=(0,s.useState)("");ee();(0,s.useEffect)((()=>{(async()=>{n(!0);try{const t=await Mm(jf(_p,"users",e.uid));t.exists()&&i(t.data())}catch(l){console.error("Error occurred while fetching user data:",l),c("An error occurred while fetching user data.")}finally{n(!1)}})()}),[e]),(0,s.useEffect)((()=>{(async()=>{if(r&&r.featured&&0!==r.featured.length)try{const e=[];for(const t of r.featured){const n=await Mm(jf(_p,"videos",t));n.exists()&&e.push({id:n.id,...n.data()})}o(e)}catch(l){console.error("Error occurred while fetching featured videos:",l)}else o([])})()}),[r]);return t?(0,Sp.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,Sp.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"})}):(0,Sp.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,Sp.jsxs)("div",{className:"mb-8",children:[(0,Sp.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Favorite Videos"}),(0,Sp.jsx)("p",{className:"text-gray-400 mt-2",children:"Your favorite videos collection"})]}),l&&(0,Sp.jsx)("div",{className:"bg-red-500 bg-opacity-20 border border-red-500 text-red-500 px-4 py-3 rounded mb-4",children:l}),u&&(0,Sp.jsx)("div",{className:"bg-green-500 bg-opacity-20 border border-green-500 text-green-500 px-4 py-3 rounded mb-4",children:u}),(0,Sp.jsx)("div",{children:0===a.length?(0,Sp.jsxs)("div",{className:"bg-dark-700 rounded-lg p-8 text-center",children:[(0,Sp.jsx)(Hg,{className:"w-16 h-16 text-gray-500 mx-auto mb-4"}),(0,Sp.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:"No Favorite Videos"}),(0,Sp.jsx)("p",{className:"text-gray-400",children:"You haven't added any videos to your favorites list yet. Browse videos and click the heart icon to add them to your favorites list."})]}):(0,Sp.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:a.map((t=>(0,Sp.jsxs)("div",{className:"relative group",children:[(0,Sp.jsx)(Lg,{video:t}),(0,Sp.jsx)("button",{onClick:()=>(async t=>{try{await zm(jf(_p,"users",e.uid),{featured:Qm(t)});const n=await Mm(jf(_p,"users",e.uid));n.exists()&&i(n.data()),o(a.filter((e=>e.id!==t))),d("Video removed from favorites.")}catch(l){console.error("Error occurred while removing video from favorites:",l),c("An error occurred while removing video from favorites.")}})(t.id),className:"absolute top-2 right-2 bg-black bg-opacity-70 p-2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",title:"Remove from favorites",children:(0,Sp.jsx)(Oy,{className:"w-5 h-5 text-white"})})]},t.id)))})})]})},Fy=()=>(0,Sp.jsxs)("div",{className:"flex flex-col items-center justify-center py-16",children:[(0,Sp.jsx)("h1",{className:"text-6xl font-bold text-primary-500 mb-4",children:"404"}),(0,Sp.jsx)("h2",{className:"text-2xl font-semibold text-white mb-6",children:"Page Not Found"}),(0,Sp.jsx)("p",{className:"text-gray-400 text-center max-w-md mb-8",children:"The page you are looking for does not exist or has been removed. Please return to the homepage or try another page."}),(0,Sp.jsx)(Gp,{to:"/",className:"px-6 py-3 bg-primary-600 hover:bg-primary-700 text-white rounded-md transition-colors",children:"Return to Homepage"})]}),Uy=()=>{const[e,t]=(0,s.useState)([]),[n,r]=(0,s.useState)(!1),[i,a]=(0,s.useState)("all"),{letter:o}=ne(),l=J().pathname.includes("pornstar")?"pornstar":"category",c="#ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");(0,s.useEffect)((()=>{o&&(a(o.toUpperCase()),d(o.toUpperCase()))}),[o]);const u=e=>{if(a(e),"all"===e){const e=async()=>{try{r(!0);const e=vm(Sf(_p,"pornstar"===l?"pornstars":"categories"),km("name","asc")),n=await Um(e),s=[];n.forEach((e=>{s.push({id:e.id,...e.data()})})),t(s)}catch(e){console.error("Error fetching all items:",e)}finally{r(!1)}};e()}else d(e)},d=async e=>{try{r(!0);const n=Sf(_p,"pornstar"===l?"pornstars":"categories");let s;s="#"===e?vm(n,xm("name",">=","0"),xm("name","<=","9"),Em(6)):vm(n,xm("name",">=",e),xm("name","<",String.fromCharCode(e.charCodeAt(0)+1)),Em(6));const i=await Um(s),a=[];for(const e of i.docs){const t={id:e.id,...e.data()};if(t.videoCount&&t.videoCount>0){const e=await h(t.name);t.firstVideoId=e}a.push(t)}t(a)}catch(n){console.error("Error fetching items:",n)}finally{r(!1)}},h=async e=>{try{const t=vm(Sf(_p,"videos"),xm("categories","array-contains",e),Em(1)),n=await Um(t);return n.empty?null:n.docs[0].id}catch(t){return console.error("Error fetching first video:",t),null}};return(0,Sp.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,Sp.jsx)("h1",{className:"text-3xl font-bold text-white mb-8",children:"pornstar"===l?"Pornstars":"Categories"}),(0,Sp.jsx)("div",{className:"bg-gradient-to-r from-dark-800 to-dark-700 rounded-xl p-6 mb-8 shadow-xl",children:(0,Sp.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,Sp.jsx)("button",{onClick:()=>u("all"),className:"px-4 py-2 rounded-lg font-medium transition-all duration-300 "+("all"===i?"bg-primary-600 text-white shadow-lg shadow-primary-500/25":"bg-dark-600 text-gray-400 hover:bg-dark-500 hover:text-white"),children:"All"}),c.map((e=>(0,Sp.jsx)("button",{onClick:()=>u(e),className:"px-4 py-2 rounded-lg font-medium transition-all duration-300 "+(i===e?"bg-primary-600 text-white shadow-lg shadow-primary-500/25":"bg-dark-600 text-gray-400 hover:bg-dark-500 hover:text-white"),children:e},e)))]})}),n?(0,Sp.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,Sp.jsxs)("div",{className:"relative",children:[(0,Sp.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-primary-600"}),(0,Sp.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,Sp.jsx)("div",{className:"h-8 w-8 bg-dark-800 rounded-full"})})]})}):(0,Sp.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4",children:e.map((e=>{const t=e.videoCount&&e.videoCount>0;return(0,Sp.jsxs)(Gp,{to:t?"pornstar"===l?`/video/${e.firstVideoId||""}`:`/category/videos/${e.name}`:`/${l}/${e.name}`,className:"group bg-dark-700 rounded-lg p-4 transition-all duration-300 hover:-translate-y-1 hover:shadow-xl hover:shadow-primary-500/10 "+(t?"hover:bg-primary-600/20":"hover:bg-dark-600"),children:[(0,Sp.jsx)("h3",{className:"text-white text-sm font-medium truncate group-hover:text-primary-400 transition-colors duration-300",children:e.name}),(0,Sp.jsxs)("div",{className:"flex items-center mt-2",children:[(0,Sp.jsxs)("span",{className:"text-xs text-gray-400",children:[e.videoCount||0," videos"]}),(0,Sp.jsx)("span",{className:`ml-auto ${t?"text-primary-400":"text-primary-500"} opacity-0 group-hover:opacity-100 transition-opacity duration-300`,children:t?"Watch \u2192":"View \u2192"})]})]},e.id)}))}),!n&&0===e.length&&(0,Sp.jsxs)("div",{className:"text-center py-16 bg-dark-700 rounded-xl",children:[(0,Sp.jsx)("div",{className:"mb-4",children:(0,Sp.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Sp.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M12 12h.01M12 12h.01M12 12h.01M12 12h.01M12 12h.01M12 12h.01M12 12h.01"})})}),(0,Sp.jsx)("h3",{className:"text-lg font-medium text-white mb-2",children:"No Results Found"}),(0,Sp.jsxs)("p",{className:"text-gray-400",children:["No ","pornstar"===l?"pornstars":"categories"," found for the selected letter."]})]})]})},Vy=()=>{const[e,t]=(0,s.useState)([]),[n,r]=(0,s.useState)(!0),i=J();return(0,s.useEffect)((()=>{(async()=>{try{const e=Sf(_p,"categories"),n=(await Um(e)).docs.map((e=>({id:e.id,...e.data()})));t(n),r(!1)}catch(e){console.error("Error fetching categories:",e),r(!1)}})()}),[]),n?(0,Sp.jsx)("div",{className:"flex justify-center items-center min-h-screen",children:"Loading..."}):(0,Sp.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,Sp.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Sp.jsx)("h1",{className:"text-3xl font-bold",children:"All Categories"}),(0,Sp.jsx)(Gp,{to:"/videos",state:{from:i.pathname},className:"text-blue-500 hover:text-blue-600",children:"View All Videos \u2192"})]}),(0,Sp.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:e.map((e=>(0,Sp.jsx)(Gp,{to:e.videoCount&&e.videoCount>0?`/category/videos/${e.name}`:`/category/${e.name.toLowerCase()}`,className:"bg-gray-800 rounded-lg p-4 hover:bg-gray-700 transition duration-300",children:(0,Sp.jsxs)("div",{className:"text-center",children:[(0,Sp.jsx)("h3",{className:"text-lg font-semibold text-white",children:e.name}),(0,Sp.jsxs)("p",{className:"text-gray-400 text-sm mt-2",children:[e.videoCount||0," videos"]})]})},e.id)))})]})},zy=()=>{const[e,t]=(0,s.useState)([]),[n,r]=(0,s.useState)(!0),i=J();return(0,s.useEffect)((()=>{(async()=>{try{const e=Sf(_p,"pornstars"),n=(await Um(e)).docs.map((e=>({id:e.id,...e.data()})));t(n),r(!1)}catch(e){console.error("Error fetching pornstars:",e),r(!1)}})()}),[]),n?(0,Sp.jsx)("div",{className:"flex justify-center items-center min-h-screen",children:"Loading..."}):(0,Sp.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,Sp.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Sp.jsx)("h1",{className:"text-3xl font-bold",children:"All Pornstars"}),(0,Sp.jsx)(Gp,{to:"/videos",state:{from:i.pathname},className:"text-blue-500 hover:text-blue-600",children:"View All Videos \u2192"})]}),(0,Sp.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:e.map((e=>(0,Sp.jsx)(Gp,{to:`/pornstar/${e.name.toLowerCase()}`,className:"bg-gray-800 rounded-lg p-4 hover:bg-gray-700 transition duration-300",children:(0,Sp.jsxs)("div",{className:"text-center",children:[(0,Sp.jsx)("div",{className:"w-32 h-32 mx-auto mb-3 rounded-full overflow-hidden",children:(0,Sp.jsx)("img",{src:e.imageUrl||"/default-avatar.png",alt:e.name,className:"w-full h-full object-cover"})}),(0,Sp.jsx)("h3",{className:"text-lg font-semibold text-white",children:e.name}),(0,Sp.jsxs)("p",{className:"text-gray-400 text-sm mt-2",children:[e.videoCount||0," videos"]})]})},e.id)))})]})},By=()=>{const[e,t]=(0,s.useState)([]),[n,r]=(0,s.useState)(!0),[i,a]=(0,s.useState)(0),o=16,l=ee(),{page:c}=ne(),u=parseInt(c)||1;(0,s.useEffect)((()=>{isNaN(u)||u<1?l("/videos/1",{replace:!0}):d()}),[u,l]);const d=async()=>{try{r(!0);const e=Sf(_p,"videos"),n=(await Hm(e)).data().count,s=Math.ceil(n/o);if(a(s),u>s)return void l(`/videos/${s}`,{replace:!0});let i;if(1===u)i=vm(e,km("createdAt","desc"),Em(o));else{const t=vm(e,km("createdAt","desc"),Em((u-1)*o)),n=await Um(t),r=n.docs[n.docs.length-1];i=vm(e,km("createdAt","desc"),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return _m._create("startAfter",t,!1)}(r),Em(o))}const c=(await Um(i)).docs.map((e=>({id:e.id,...e.data()})));t(c),r(!1)}catch(e){console.error("Error fetching videos:",e),r(!1)}},h=e=>{l(`/videos/${e}`),window.scrollTo(0,0)};return n?(0,Sp.jsx)("div",{className:"flex justify-center items-center min-h-screen",children:(0,Sp.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"})}):(0,Sp.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,Sp.jsx)("h1",{className:"text-3xl font-bold mb-6 text-white",children:"All Videos"}),(0,Sp.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 mb-8",children:[e.map((e=>(0,Sp.jsx)(Gp,{to:`/video/${e.id}`,state:{from:`/videos/${u}`},children:(0,Sp.jsx)(Lg,{video:e})},e.id))),e.length<o&&Array.from({length:o-e.length}).map(((e,t)=>(0,Sp.jsx)("div",{className:"aspect-video bg-dark-800 rounded-lg opacity-30 border border-dark-700"},`empty-${t}`)))]}),i>1&&(0,Sp.jsxs)("div",{className:"flex justify-center items-center gap-2 mt-8",children:[u>1&&(0,Sp.jsx)("button",{onClick:()=>h(u-1),className:"px-4 py-2 rounded-lg bg-dark-700 text-gray-400 hover:bg-dark-600 hover:text-white transition-all duration-200",children:"\u2190"}),u>3&&(0,Sp.jsxs)(Sp.Fragment,{children:[(0,Sp.jsx)("button",{onClick:()=>h(1),className:"px-4 py-2 rounded-lg bg-dark-700 text-gray-400 hover:bg-dark-600 hover:text-white transition-all duration-200",children:"1"}),u>4&&(0,Sp.jsx)("span",{className:"text-gray-400 px-2",children:"..."})]}),Array.from({length:Math.min(3,i)},((e,t)=>{let n;return n=1===u?t+1:u===i?i-2+t:u-1+t,n<1||n>i?null:(0,Sp.jsx)("button",{onClick:()=>h(n),className:"px-4 py-2 rounded-lg transition-all duration-200 "+(u===n?"bg-primary-600 text-white":"bg-dark-700 text-gray-400 hover:bg-dark-600 hover:text-white"),children:n},n)})).filter(Boolean),u<i-2&&(0,Sp.jsxs)(Sp.Fragment,{children:[u<i-3&&(0,Sp.jsx)("span",{className:"text-gray-400 px-2",children:"..."}),(0,Sp.jsx)("button",{onClick:()=>h(i),className:"px-4 py-2 rounded-lg bg-dark-700 text-gray-400 hover:bg-dark-600 hover:text-white transition-all duration-200",children:i})]}),u<i&&(0,Sp.jsx)("button",{onClick:()=>h(u+1),className:"px-4 py-2 rounded-lg bg-dark-700 text-gray-400 hover:bg-dark-600 hover:text-white transition-all duration-200",children:"\u2192"})]})]})};function $y(e,t){let{title:n,titleId:r,...i}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const qy=s.forwardRef($y),Wy=()=>{const{categoryName:e}=ne(),[t,n]=(0,s.useState)([]),[r,i]=(0,s.useState)(!0),[a,o]=(0,s.useState)(null),[l,c]=(0,s.useState)(null),u=ee(),[d,h]=(0,s.useState)(1),[f,m]=(0,s.useState)(!0);(0,s.useEffect)((()=>{(async()=>{try{const t=vm(Sf(_p,"categories"),xm("name","==",e)),n=await Um(t);if(n.empty)return o("Category not found"),void i(!1);const r={id:n.docs[0].id,...n.docs[0].data()};c(r),p(1)}catch(a){console.error("Error fetching category:",a),o("Failed to load category"),i(!1)}})()}),[e]);const p=async t=>{try{i(!0);const r=vm(Sf(_p,"videos"),xm("categories","array-contains",e),km("createdAt","desc"),Em(16*t)),s=await Um(r);if(s.empty&&1===t)return n([]),m(!1),void i(!1);const a=s.docs.map((e=>({id:e.id,...e.data()})));n(a),m(a.length===16*t),i(!1)}catch(a){console.error("Error fetching videos:",a),o("Failed to load videos"),i(!1)}},g=()=>{u(-1)};return r&&0===t.length?(0,Sp.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,Sp.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,Sp.jsxs)("div",{className:"relative",children:[(0,Sp.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-primary-600"}),(0,Sp.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,Sp.jsx)("div",{className:"h-8 w-8 bg-dark-800 rounded-full"})})]})})}):a?(0,Sp.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,Sp.jsx)("div",{className:"bg-red-500 bg-opacity-20 border border-red-500 text-red-500 px-4 py-3 rounded mb-4",children:a}),(0,Sp.jsxs)("button",{onClick:g,className:"flex items-center text-primary-500 hover:text-primary-400",children:[(0,Sp.jsx)(qy,{className:"h-5 w-5 mr-2"}),"Go Back"]})]}):(0,Sp.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,Sp.jsxs)("div",{className:"flex items-center mb-6",children:[(0,Sp.jsx)("button",{onClick:g,className:"mr-4 p-2 rounded-full bg-dark-700 hover:bg-dark-600 transition-colors",children:(0,Sp.jsx)(qy,{className:"h-5 w-5 text-white"})}),(0,Sp.jsxs)("div",{children:[(0,Sp.jsx)("h1",{className:"text-3xl font-bold text-white",children:e}),l&&(0,Sp.jsxs)("p",{className:"text-gray-400 text-sm mt-1",children:[l.videoCount||0," videos"]})]})]}),t.length>0?(0,Sp.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 mb-8",children:t.map((e=>(0,Sp.jsx)(Lg,{video:e},e.id)))}):(0,Sp.jsxs)("div",{className:"text-center py-16 bg-dark-700 rounded-xl",children:[(0,Sp.jsx)("div",{className:"mb-4",children:(0,Sp.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Sp.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M12 12h.01M12 12h.01M12 12h.01M12 12h.01M12 12h.01M12 12h.01M12 12h.01"})})}),(0,Sp.jsx)("h3",{className:"text-lg font-medium text-white mb-2",children:"No Videos Found"}),(0,Sp.jsx)("p",{className:"text-gray-400",children:"There are no videos in this category yet."})]}),f&&t.length>0&&(0,Sp.jsx)("div",{className:"flex justify-center mt-8",children:(0,Sp.jsx)("button",{onClick:()=>{const e=d+1;h(e),p(e)},className:"px-6 py-3 bg-primary-600 hover:bg-primary-700 text-white rounded-lg shadow-lg shadow-primary-500/20 transition-all duration-300",children:r?(0,Sp.jsxs)("div",{className:"flex items-center",children:[(0,Sp.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white mr-2"}),"Loading..."]}):"Load More Videos"})})]})},Hy=()=>{const{adminLogin:e}=Cp(),t=ee(),[n,r]=(0,s.useState)(!1),[i,a]=(0,s.useState)(""),[o,l]=(0,s.useState)(!1),[c,u]=(0,s.useState)(!1),[d,h]=(0,s.useState)(!1),[f,m]=(0,s.useState)((()=>{const e=localStorage.getItem("darkMode");return null===e||"true"===e}));(0,s.useEffect)((()=>{localStorage.setItem("darkMode",f),document.documentElement.classList.toggle("dark",f)}),[f]);const{register:p,handleSubmit:g,formState:{errors:v}}=Ny();return(0,Sp.jsxs)("div",{className:"flex h-screen "+(f?"bg-[#0c1226]":"bg-gray-100"),children:[(0,Sp.jsx)("div",{className:`w-full lg:w-1/2 flex items-center justify-center ${f?"bg-[#0c1226]":"bg-white"} p-8`,children:(0,Sp.jsxs)("div",{className:"w-full max-w-md",children:[(0,Sp.jsxs)("div",{className:"mb-10",children:[(0,Sp.jsx)("h1",{className:"text-2xl font-bold mb-2 "+(f?"text-white":"text-gray-800"),children:"Sign In"}),(0,Sp.jsx)("p",{className:"text-sm "+(f?"text-gray-400":"text-gray-600"),children:"Enter your email and password to sign in"})]}),o?(0,Sp.jsxs)("div",{className:"bg-red-500 bg-opacity-20 border border-red-500 text-red-500 px-4 py-3 rounded mb-6 flex items-start",children:[(0,Sp.jsx)(_y,{className:"h-5 w-5 mr-2 mt-0.5 flex-shrink-0"}),(0,Sp.jsxs)("div",{children:[(0,Sp.jsx)("p",{className:"font-medium",children:"Account Deactivated"}),(0,Sp.jsx)("p",{className:"text-sm",children:"Your account has been deactivated. Please contact support for assistance."})]})]}):i?(0,Sp.jsx)("div",{className:"bg-red-500 bg-opacity-20 border border-red-500 text-red-500 px-4 py-3 rounded mb-6",children:i}):null,(0,Sp.jsxs)("form",{onSubmit:g((async n=>{r(!0),a(""),l(!1);try{const r=await e(n.email,n.password);"admin"===r.role||"ad_admin"===r.role?t("/admin/dashboard"):a("This user does not have admin permissions.")}catch(i){console.error("Error during admin login:",i),"This user does not have admin permissions."===i.message?a(i.message):"Account is inactive. Please contact support."===i.message?(l(!0),a("Your account has been deactivated. Please contact support for assistance.")):"auth/user-not-found"===i.code?a("No user found with this email address."):"auth/wrong-password"===i.code?a("Incorrect password."):"auth/invalid-email"===i.code?a("Invalid email address."):"auth/too-many-requests"===i.code?a("Too many failed login attempts. Please try again later."):a("An error occurred during login. Please try again.")}finally{r(!1)}})),className:f?"":"space-y-4",children:[(0,Sp.jsxs)("div",{className:"mb-6",children:[(0,Sp.jsx)("label",{htmlFor:"email",className:"block text-sm mb-2 font-medium "+(f?"text-gray-400":"text-gray-700"),children:"Email"}),(0,Sp.jsx)("input",{id:"email",type:"email",className:`w-full rounded-md px-4 py-3 ${f?"bg-[#0c1226] border-gray-700 text-white focus:ring-blue-500":"bg-white border-gray-300 text-gray-900 focus:ring-blue-600 shadow-sm"} border focus:outline-none focus:ring-2 focus:border-transparent`,placeholder:"mail@example.com",...p("email",{required:"Email address is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Please enter a valid email address"}})}),v.email&&(0,Sp.jsx)("p",{className:"text-red-500 text-sm mt-1",children:v.email.message})]}),(0,Sp.jsxs)("div",{className:"mb-6",children:[(0,Sp.jsx)("label",{htmlFor:"password",className:"block text-sm mb-2 font-medium "+(f?"text-gray-400":"text-gray-700"),children:"Password"}),(0,Sp.jsxs)("div",{className:"relative",children:[(0,Sp.jsx)("input",{id:"password",type:c?"text":"password",className:`w-full rounded-md px-4 py-3 ${f?"bg-[#0c1226] border-gray-700 text-white focus:ring-blue-500":"bg-white border-gray-300 text-gray-900 focus:ring-blue-600 shadow-sm"} border focus:outline-none focus:ring-2 focus:border-transparent`,placeholder:"Min. 6 characters",...p("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}})}),(0,Sp.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center "+(f?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-900"),onClick:()=>u(!c),children:c?(0,Sp.jsx)(jy,{className:"h-5 w-5"}):(0,Sp.jsx)(Rg,{className:"h-5 w-5"})})]}),v.password&&(0,Sp.jsx)("p",{className:"text-red-500 text-sm mt-1",children:v.password.message})]}),(0,Sp.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Sp.jsxs)("div",{className:"flex items-center",children:[(0,Sp.jsx)("input",{id:"keepLoggedIn",type:"checkbox",className:"h-4 w-4 rounded focus:ring-blue-500 "+(f?"bg-[#0c1226] border-gray-700 text-blue-600":"bg-white border-gray-300 text-blue-600 shadow-sm"),checked:d,onChange:()=>h(!d)}),(0,Sp.jsx)("label",{htmlFor:"keepLoggedIn",className:"ml-2 block text-sm "+(f?"text-gray-400":"text-gray-700"),children:"Keep me logged in"})]}),(0,Sp.jsx)("div",{children:(0,Sp.jsx)(Gp,{to:"/admin/forgot-password",className:"text-sm "+(f?"text-blue-500 hover:text-blue-400":"text-blue-600 hover:text-blue-800"),children:"Forgot password?"})})]}),(0,Sp.jsx)("button",{type:"submit",className:"w-full text-white font-medium py-3 px-4 rounded-lg transition duration-200 ease-in-out "+(f?"bg-[#7e5bef] hover:bg-[#6a4dd3]":"bg-[#7e5bef] hover:bg-[#6a4dd3] shadow-md"),disabled:n,children:n?(0,Sp.jsxs)("span",{className:"flex items-center justify-center",children:[(0,Sp.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Sp.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Sp.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing In..."]}):"Sign In"})]})]})}),(0,Sp.jsxs)("div",{className:"hidden lg:block lg:w-1/2 relative overflow-hidden",children:[(0,Sp.jsx)("div",{className:"absolute inset-0 rounded-l-[5rem] "+(f?"bg-gradient-to-br from-blue-900 via-indigo-800 to-purple-900":"bg-gradient-to-br from-blue-400 via-blue-600 to-indigo-800")}),(0,Sp.jsx)("div",{className:"absolute top-0 left-0 right-0 h-40 rounded-bl-full "+(f?"bg-gradient-to-r from-purple-800 via-indigo-700 to-transparent opacity-70":"bg-gradient-to-r from-pink-300 via-purple-300 to-transparent opacity-50")}),(0,Sp.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,Sp.jsxs)("div",{className:"z-10 text-center",children:[(0,Sp.jsx)("img",{src:"/images/guzel-removebg-preview.png",alt:"PrnClub Logo",className:"w-40 h-40 mx-auto mb-4"}),(0,Sp.jsx)("h1",{className:"text-4xl font-bold text-white",children:"PrnClub"})]})}),(0,Sp.jsx)("div",{className:"absolute bottom-4 right-4",children:(0,Sp.jsx)("button",{onClick:()=>{m(!f)},className:"text-white bg-white bg-opacity-20 rounded-full p-2 hover:bg-opacity-30 transition-all",children:f?(0,Sp.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,Sp.jsx)("path",{d:"M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"})}):(0,Sp.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,Sp.jsx)("path",{fillRule:"evenodd",d:"M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z",clipRule:"evenodd"})})})})]})]})};function Ky(e,t){let{title:n,titleId:r,...i}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}const Gy=s.forwardRef(Ky);function Qy(e,t){let{title:n,titleId:r,...i}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 1.5H8.25A2.25 2.25 0 0 0 6 3.75v16.5a2.25 2.25 0 0 0 2.25 2.25h7.5A2.25 2.25 0 0 0 18 20.25V3.75a2.25 2.25 0 0 0-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3"}))}const Yy=s.forwardRef(Qy);function Xy(e,t){let{title:n,titleId:r,...i}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17.25v1.007a3 3 0 0 1-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0 1 15 18.257V17.25m6-12V15a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 15V5.25m18 0A2.25 2.25 0 0 0 18.75 3H5.25A2.25 2.25 0 0 0 3 5.25m18 0V12a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 12V5.25"}))}const Jy=s.forwardRef(Xy),Zy=()=>{const[e,t]=(0,s.useState)({totalUsers:0,totalVideos:0,totalComments:0,totalViews:0}),[n,r]=(0,s.useState)([]),[i,a]=(0,s.useState)([]),[o,l]=(0,s.useState)(!0),[c,u]=(0,s.useState)([]),[d,h]=(0,s.useState)([]),[f,m]=(0,s.useState)([]),[p,g]=(0,s.useState)("daily"),[v,y]=(0,s.useState)({mobile:[],pc:[]}),{darkMode:x}=Ap(),[b,w]=(0,s.useState)(null),[k,N]=(0,s.useState)({mobile:0,pc:0,total:0,lastUpdated:null}),[E,_]=(0,s.useState)({avgSessionDuration:0,bounceRate:0,peakHours:[],lastUpdated:null}),[S,j]=(0,s.useState)({sessionDuration:[],bounceRate:[],peakHours:[]}),[C,T]=(0,s.useState)({ctr:0,impressionsPerPage:0,lastUpdated:null});(0,s.useEffect)((()=>{I(p)}),[p]),(0,s.useEffect)((()=>{const e=Ep.onAuthStateChanged((e=>{e&&w(e)}));return()=>e()}),[]),(0,s.useEffect)((()=>{(async()=>{try{const e=jf(_p,"statistics","mainSiteVisitors"),t=await Mm(e);t.exists()&&N(t.data())}catch(e){console.error("Error fetching device statistics:",e)}})()}),[]),(0,s.useEffect)((()=>{(async()=>{try{const e=jf(_p,"statistics","userBehavior"),t=await Mm(e);t.exists()&&_(t.data())}catch(e){console.error("Error fetching user behavior statistics:",e)}})()}),[]);(0,s.useEffect)((()=>{(async e=>{try{const t=Sf(_p,"statistics","userBehavior","dailyStats");let n=new Date;const r=new Date;switch(e){case"daily":default:n.setDate(r.getDate()-7);break;case"weekly":n.setDate(r.getDate()-30);break;case"monthly":n.setMonth(r.getMonth()-6)}n.setHours(0,0,0,0);const s=vm(t,xm("date",">=",n),km("date","asc")),i=await Um(s),a={sessionDuration:[],bounceRate:[],peakHours:[]};i.docs.forEach((e=>{const t=e.data(),n=t.date.toDate().toLocaleDateString("tr-TR",{day:"numeric",month:"short"});a.sessionDuration.push({date:n,value:t.avgSessionDuration||0}),a.bounceRate.push({date:n,value:t.bounceRate||0}),a.peakHours.push({date:n,value:t.peakHourVisitors||0})})),j(a)}catch(t){console.error("Error fetching behavior graph data:",t)}})(p)}),[p]);const I=async e=>{try{l(!0);const t=Sf(_p,"statistics","mainSiteVisitors","dailyStats");let n;const r=new Date;let s=new Date;switch(e){case"daily":default:s.setDate(r.getDate()-7);break;case"weekly":s.setDate(r.getDate()-30);break;case"monthly":s.setMonth(r.getMonth()-6)}s.setHours(0,0,0,0),n=vm(t,xm("date",">=",s),km("date","asc"));const i=await Um(n),a={};i.docs.forEach((e=>{const t=e.data(),n=t.date.toDate().toISOString().split("T")[0];a[n]||(a[n]={mobile:0,pc:0,date:n}),t.mobile&&a[n].mobile++,t.pc&&a[n].pc++}));const o=[],c=[];Object.values(a).forEach((e=>{const t=new Date(e.date).toLocaleDateString("tr-TR",{day:"numeric",month:"short"});o.push({date:t,value:e.mobile}),c.push({date:t,value:e.pc})})),y({mobile:o,pc:c})}catch(t){console.error("Error fetching graph data:",t)}finally{l(!1)}};(0,s.useEffect)((()=>{(async()=>{l(!0);try{const e=await Um(Sf(_p,"users")),n=await Um(Sf(_p,"videos")),s=await Um(Sf(_p,"comments"));let i=0;n.docs.forEach((e=>{i+=e.data().viewCount||0})),t({totalUsers:e.size,totalVideos:n.size,totalComments:s.size,totalViews:i});const o=vm(Sf(_p,"videos"),km("createdAt","desc"),Em(5)),l=(await Um(o)).docs.map((e=>({id:e.id,...e.data()})));r(l);const c=vm(Sf(_p,"videos"),km("viewCount","desc"),Em(6)),u=(await Um(c)).docs.map((e=>({id:e.id,...e.data()})));a(u);const d=(await Um(Sf(_p,"categories"))).docs.map((e=>{const t=e.data();return{id:e.id,name:t.name,viewCount:t.viewCount||0,color:t.color||P()}})),h=d.sort(((e,t)=>t.viewCount-e.viewCount));m(h),I(p)}catch(e){console.error("Dashboard verileri getirilirken hata olu\u015ftu:",e)}finally{l(!1)}})()}),[]),(0,s.useEffect)((()=>{(async()=>{try{const e=jf(_p,"statistics","adPerformance"),t=await Mm(e);t.exists()&&T(t.data())}catch(e){console.error("Error fetching ad statistics:",e)}})()}),[]);const A=e=>k.total>0?e/k.total*100:0;A(k.mobile),A(k.pc);if(o)return(0,Sp.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,Sp.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"})});const P=()=>{const e=["#FF6384","#36A2EB","#FFCE56","#4BC0C0","#9966FF","#FF9F40","#8AC249","#EA5545","#F46A9B","#EF9B20"];return e[Math.floor(Math.random()*e.length)]};return(0,Sp.jsxs)("div",{className:"p-4 sm:p-6 "+(x?"bg-dark-900 text-white":"bg-gray-100 text-gray-800"),children:[(0,Sp.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4 sm:gap-0",children:[(0,Sp.jsxs)("div",{children:[(0,Sp.jsx)("p",{className:"text-sm "+(x?"text-gray-400":"text-gray-600"),children:"Pages / Dashboard"}),(0,Sp.jsx)("h1",{className:"text-2xl font-bold "+(x?"text-white":"text-gray-900"),children:"Main Dashboard"})]}),(0,Sp.jsx)("div",{className:"flex items-center space-x-4",children:(0,Sp.jsx)("div",{className:"h-8 w-8 rounded-full bg-blue-500 overflow-hidden",children:b&&b.photoURL?(0,Sp.jsx)("img",{src:b.photoURL,alt:"Admin Profile",className:"h-full w-full object-cover"}):(0,Sp.jsx)("img",{src:"/images/avatar-default.png",alt:"Default Avatar",className:"h-full w-full object-cover",onError:e=>{e.target.onerror=null,e.target.src="https://ui-avatars.com/api/?name=Admin&background=0D8ABC&color=fff"}})})})]}),(0,Sp.jsxs)("div",{className:"rounded-lg p-4 sm:p-6 mb-6 shadow-lg "+(x?"bg-dark-800":"bg-white border border-gray-200"),children:[(0,Sp.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-3 sm:gap-0",children:[(0,Sp.jsx)("h2",{className:"text-xl font-semibold "+(x?"text-white":"text-gray-900"),children:"Daily Active Users by Device Type"}),(0,Sp.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,Sp.jsx)("button",{onClick:()=>g("daily"),className:"px-3 py-1 rounded-md text-sm font-medium "+("daily"===p?"bg-purple-500 text-white":x?"bg-dark-700 text-gray-300":"bg-gray-100 text-gray-700"),children:"Daily"}),(0,Sp.jsx)("button",{onClick:()=>g("weekly"),className:"px-3 py-1 rounded-md text-sm font-medium "+("weekly"===p?"bg-purple-500 text-white":x?"bg-dark-700 text-gray-300":"bg-gray-100 text-gray-700"),children:"Weekly"}),(0,Sp.jsx)("button",{onClick:()=>g("monthly"),className:"px-3 py-1 rounded-md text-sm font-medium "+("monthly"===p?"bg-purple-500 text-white":x?"bg-dark-700 text-gray-300":"bg-gray-100 text-gray-700"),children:"Monthly"})]})]}),(0,Sp.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 mb-6",children:[(0,Sp.jsx)("div",{className:"p-4 rounded-lg "+(x?"bg-dark-700":"bg-gray-50"),children:(0,Sp.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Sp.jsxs)("div",{children:[(0,Sp.jsx)("p",{className:"text-sm font-medium "+(x?"text-gray-400":"text-gray-600"),children:"Total Visits"}),(0,Sp.jsx)("h3",{className:"text-2xl font-bold "+(x?"text-white":"text-gray-900"),children:k.total||0})]}),(0,Sp.jsx)("div",{className:"p-3 rounded-full bg-blue-500 bg-opacity-10",children:(0,Sp.jsx)(Gy,{className:"w-6 h-6 text-blue-500"})})]})}),(0,Sp.jsx)("div",{className:"p-4 rounded-lg "+(x?"bg-dark-700":"bg-gray-50"),children:(0,Sp.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Sp.jsxs)("div",{children:[(0,Sp.jsx)("p",{className:"text-sm font-medium "+(x?"text-gray-400":"text-gray-600"),children:"Mobile Users"}),(0,Sp.jsx)("h3",{className:"text-2xl font-bold text-purple-500",children:k.mobile||0})]}),(0,Sp.jsx)("div",{className:"p-3 rounded-full bg-purple-500 bg-opacity-10",children:(0,Sp.jsx)(Yy,{className:"w-6 h-6 text-purple-500"})})]})}),(0,Sp.jsx)("div",{className:"p-4 rounded-lg "+(x?"bg-dark-700":"bg-gray-50"),children:(0,Sp.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Sp.jsxs)("div",{children:[(0,Sp.jsx)("p",{className:"text-sm font-medium "+(x?"text-gray-400":"text-gray-600"),children:"PC Users"}),(0,Sp.jsx)("h3",{className:"text-2xl font-bold text-red-500",children:k.pc||0})]}),(0,Sp.jsx)("div",{className:"p-3 rounded-full bg-red-500 bg-opacity-10",children:(0,Sp.jsx)(Jy,{className:"w-6 h-6 text-red-500"})})]})})]}),(0,Sp.jsx)("div",{className:"h-80 relative",children:o?(0,Sp.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,Sp.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-500"})}):(0,Sp.jsxs)("svg",{className:"w-full h-full",viewBox:"0 0 800 300",children:[[0,1,2,3,4,5].map((e=>(0,Sp.jsxs)("g",{children:[(0,Sp.jsx)("line",{x1:"50",y1:60*e,x2:"750",y2:60*e,stroke:x?"#2D3748":"#E2E8F0",strokeWidth:"1"}),(0,Sp.jsx)("text",{x:"30",y:300-60*e,fill:x?"#A0AEC0":"#4A5568",fontSize:"12",textAnchor:"end",children:e*Math.ceil(Math.max(...[...v.mobile,...v.pc].map((e=>e.value)))/5)})]},e))),v.mobile.map(((e,t)=>(0,Sp.jsx)("text",{x:50+t*(700/(v.mobile.length-1)),y:"290",fill:x?"#A0AEC0":"#4A5568",fontSize:"12",textAnchor:"middle",children:e.date},t))),(0,Sp.jsx)("path",{d:`M${v.mobile.map(((e,t)=>{const n=50+t*(700/(v.mobile.length-1)),r=300-e.value*(240/Math.max(...v.mobile.map((e=>e.value))));return`${0===t?"M":"L"}${n},${r}`})).join(" ")}`,fill:"none",stroke:"#9F7AEA",strokeWidth:"3"}),(0,Sp.jsx)("path",{d:`M${v.pc.map(((e,t)=>{const n=50+t*(700/(v.pc.length-1)),r=300-e.value*(240/Math.max(...v.pc.map((e=>e.value))));return`${0===t?"M":"L"}${n},${r}`})).join(" ")}`,fill:"none",stroke:"#F56565",strokeWidth:"3"}),(0,Sp.jsx)("path",{d:`M50,300 ${v.mobile.map(((e,t)=>{const n=50+t*(700/(v.mobile.length-1)),r=300-e.value*(240/Math.max(...v.mobile.map((e=>e.value))));return`L${n},${r}`})).join(" ")} L750,300 Z`,fill:"url(#purpleGradient)",opacity:"0.1"}),(0,Sp.jsx)("path",{d:`M50,300 ${v.pc.map(((e,t)=>{const n=50+t*(700/(v.pc.length-1)),r=300-e.value*(240/Math.max(...v.pc.map((e=>e.value))));return`L${n},${r}`})).join(" ")} L750,300 Z`,fill:"url(#redGradient)",opacity:"0.1"}),(0,Sp.jsxs)("defs",{children:[(0,Sp.jsxs)("linearGradient",{id:"purpleGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[(0,Sp.jsx)("stop",{offset:"0%",stopColor:"#9F7AEA",stopOpacity:"0.8"}),(0,Sp.jsx)("stop",{offset:"100%",stopColor:"#9F7AEA",stopOpacity:"0.1"})]}),(0,Sp.jsxs)("linearGradient",{id:"redGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[(0,Sp.jsx)("stop",{offset:"0%",stopColor:"#F56565",stopOpacity:"0.8"}),(0,Sp.jsx)("stop",{offset:"100%",stopColor:"#F56565",stopOpacity:"0.1"})]})]})]})}),(0,Sp.jsxs)("div",{className:"flex justify-center space-x-6 mt-4",children:[(0,Sp.jsxs)("div",{className:"flex items-center",children:[(0,Sp.jsx)("div",{className:"w-3 h-3 rounded-full bg-purple-500 mr-2"}),(0,Sp.jsx)("span",{className:"text-sm "+(x?"text-gray-300":"text-gray-700"),children:"Mobile Users"})]}),(0,Sp.jsxs)("div",{className:"flex items-center",children:[(0,Sp.jsx)("div",{className:"w-3 h-3 rounded-full bg-red-500 mr-2"}),(0,Sp.jsx)("span",{className:"text-sm "+(x?"text-gray-300":"text-gray-700"),children:"PC Users"})]})]}),(0,Sp.jsx)("div",{className:"text-right mt-4",children:(0,Sp.jsxs)("span",{className:"text-xs "+(x?"text-gray-400":"text-gray-600"),children:["Last Updated: ",k.lastUpdated?new Date(k.lastUpdated.toDate()).toLocaleString("tr-TR"):"N/A"]})})]}),(0,Sp.jsxs)("div",{className:"rounded-lg p-6 mb-6 shadow-lg "+(x?"bg-dark-800":"bg-white border border-gray-200"),children:[(0,Sp.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Sp.jsx)("h2",{className:"text-xl font-semibold "+(x?"text-white":"text-gray-900"),children:"User Behavior Analytics"}),(0,Sp.jsxs)("div",{className:"flex space-x-2",children:[(0,Sp.jsx)("button",{onClick:()=>g("daily"),className:"px-3 py-1 rounded-md text-sm font-medium "+("daily"===p?"bg-purple-500 text-white":x?"bg-dark-700 text-gray-300":"bg-gray-100 text-gray-700"),children:"Daily"}),(0,Sp.jsx)("button",{onClick:()=>g("weekly"),className:"px-3 py-1 rounded-md text-sm font-medium "+("weekly"===p?"bg-purple-500 text-white":x?"bg-dark-700 text-gray-300":"bg-gray-100 text-gray-700"),children:"Weekly"}),(0,Sp.jsx)("button",{onClick:()=>g("monthly"),className:"px-3 py-1 rounded-md text-sm font-medium "+("monthly"===p?"bg-purple-500 text-white":x?"bg-dark-700 text-gray-300":"bg-gray-100 text-gray-700"),children:"Monthly"})]})]}),(0,Sp.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 mb-6",children:[(0,Sp.jsx)("div",{className:"p-4 rounded-lg "+(x?"bg-dark-700":"bg-gray-50"),children:(0,Sp.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Sp.jsxs)("div",{children:[(0,Sp.jsx)("p",{className:"text-sm font-medium "+(x?"text-gray-400":"text-gray-600"),children:"Average Session Duration"}),(0,Sp.jsxs)("h3",{className:"text-2xl font-bold "+(x?"text-white":"text-gray-900"),children:[Math.round(E.avgSessionDuration||0)," min"]})]}),(0,Sp.jsx)("div",{className:"p-3 rounded-full bg-green-500 bg-opacity-10",children:(0,Sp.jsx)(Pg,{className:"w-6 h-6 text-green-500"})})]})}),(0,Sp.jsx)("div",{className:"p-4 rounded-lg "+(x?"bg-dark-700":"bg-gray-50"),children:(0,Sp.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Sp.jsxs)("div",{children:[(0,Sp.jsx)("p",{className:"text-sm font-medium "+(x?"text-gray-400":"text-gray-600"),children:"Bounce Rate"}),(0,Sp.jsxs)("h3",{className:"text-2xl font-bold text-orange-500",children:[Math.round(E.bounceRate||0),"%"]})]}),(0,Sp.jsx)("div",{className:"p-3 rounded-full bg-orange-500 bg-opacity-10",children:(0,Sp.jsx)(Rg,{className:"w-6 h-6 text-orange-500"})})]})}),(0,Sp.jsx)("div",{className:"p-4 rounded-lg "+(x?"bg-dark-700":"bg-gray-50"),children:(0,Sp.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Sp.jsxs)("div",{children:[(0,Sp.jsx)("p",{className:"text-sm font-medium "+(x?"text-gray-400":"text-gray-600"),children:"Peak Hour Traffic"}),(0,Sp.jsx)("h3",{className:"text-2xl font-bold text-blue-500",children:E.peakHour||"N/A"})]}),(0,Sp.jsx)("div",{className:"p-3 rounded-full bg-blue-500 bg-opacity-10",children:(0,Sp.jsx)(Gy,{className:"w-6 h-6 text-blue-500"})})]})})]}),(0,Sp.jsx)("div",{className:"h-80 relative",children:o?(0,Sp.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,Sp.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-500"})}):(0,Sp.jsxs)("svg",{className:"w-full h-full",viewBox:"0 0 800 300",children:[[0,1,2,3,4,5].map((e=>(0,Sp.jsxs)("g",{children:[(0,Sp.jsx)("line",{x1:"50",y1:60*e,x2:"750",y2:60*e,stroke:x?"#2D3748":"#E2E8F0",strokeWidth:"1"}),(0,Sp.jsxs)("text",{x:"30",y:300-60*e,fill:x?"#A0AEC0":"#4A5568",fontSize:"12",textAnchor:"end",children:[20*e,"%"]})]},e))),S.sessionDuration.map(((e,t)=>(0,Sp.jsx)("text",{x:50+t*(700/(S.sessionDuration.length-1)),y:"290",fill:x?"#A0AEC0":"#4A5568",fontSize:"12",textAnchor:"middle",children:e.date},t))),(0,Sp.jsx)("path",{d:`M${S.sessionDuration.map(((e,t)=>`${0===t?"M":"L"}${50+t*(700/(S.sessionDuration.length-1))},${300-2.4*e.value}`)).join(" ")}`,fill:"none",stroke:"#48BB78",strokeWidth:"3"}),(0,Sp.jsx)("path",{d:`M${S.bounceRate.map(((e,t)=>`${0===t?"M":"L"}${50+t*(700/(S.bounceRate.length-1))},${300-2.4*e.value}`)).join(" ")}`,fill:"none",stroke:"#ED8936",strokeWidth:"3"}),(0,Sp.jsx)("path",{d:`M${S.peakHours.map(((e,t)=>`${0===t?"M":"L"}${50+t*(700/(S.peakHours.length-1))},${300-2.4*e.value}`)).join(" ")}`,fill:"none",stroke:"#4299E1",strokeWidth:"3"})]})}),(0,Sp.jsxs)("div",{className:"flex justify-center space-x-6 mt-4",children:[(0,Sp.jsxs)("div",{className:"flex items-center",children:[(0,Sp.jsx)("div",{className:"w-3 h-3 rounded-full bg-green-500 mr-2"}),(0,Sp.jsx)("span",{className:"text-sm "+(x?"text-gray-300":"text-gray-700"),children:"Session Duration"})]}),(0,Sp.jsxs)("div",{className:"flex items-center",children:[(0,Sp.jsx)("div",{className:"w-3 h-3 rounded-full bg-orange-500 mr-2"}),(0,Sp.jsx)("span",{className:"text-sm "+(x?"text-gray-300":"text-gray-700"),children:"Bounce Rate"})]}),(0,Sp.jsxs)("div",{className:"flex items-center",children:[(0,Sp.jsx)("div",{className:"w-3 h-3 rounded-full bg-blue-500 mr-2"}),(0,Sp.jsx)("span",{className:"text-sm "+(x?"text-gray-300":"text-gray-700"),children:"Peak Hours"})]})]}),(0,Sp.jsx)("div",{className:"text-right mt-4",children:(0,Sp.jsxs)("span",{className:"text-xs "+(x?"text-gray-400":"text-gray-600"),children:["Last Updated: ",E.lastUpdated?new Date(E.lastUpdated.toDate()).toLocaleString("tr-TR"):"N/A"]})})]}),(0,Sp.jsxs)("div",{className:"rounded-lg p-6 mb-6 shadow-lg "+(x?"bg-dark-800":"bg-white border border-gray-200"),children:[(0,Sp.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Sp.jsx)("h2",{className:"text-xl font-semibold "+(x?"text-white":"text-gray-900"),children:"Ad Position Stats"}),(0,Sp.jsxs)("div",{className:"text-xs "+(x?"text-gray-400":"text-gray-600"),children:["Last Updated: ",C.lastUpdated?new Date(C.lastUpdated.toDate()).toLocaleString("tr-TR"):"N/A"]})]}),C&&C.positionStats?(0,Sp.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:Object.entries(C.positionStats).map((e=>{let[t,n]=e;const r=n.impressions>0?n.clicks/n.impressions*100:0,s=t.includes("video")?"from-purple-500 to-pink-500":"sidebar"===t?"from-blue-500 to-cyan-500":"header"===t?"from-green-500 to-emerald-500":"footer"===t?"from-orange-500 to-yellow-500":"left"===t?"from-indigo-500 to-blue-500":"from-red-500 to-pink-500";return(0,Sp.jsxs)("div",{className:"p-4 rounded-xl "+(x?"bg-dark-700":"bg-gray-50"),children:[(0,Sp.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,Sp.jsxs)("div",{children:[(0,Sp.jsx)("h3",{className:"text-lg font-medium "+(x?"text-white":"text-gray-900"),children:t.split("-").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(" ")}),(0,Sp.jsxs)("p",{className:"text-sm "+(x?"text-gray-400":"text-gray-600"),children:[((null===n||void 0===n?void 0:n.clicks)||0).toLocaleString()," clicks \u2022 ",((null===n||void 0===n?void 0:n.impressions)||0).toLocaleString()," views"]})]}),(0,Sp.jsxs)("div",{className:"text-2xl font-bold "+(x?"text-white":"text-gray-900"),children:[r.toFixed(1),"%"]})]}),(0,Sp.jsx)("div",{className:`w-full h-3 rounded-full ${x?"bg-dark-600":"bg-gray-200"} overflow-hidden`,children:(0,Sp.jsx)("div",{className:`h-full rounded-full bg-gradient-to-r ${s} transition-all duration-500 ease-out`,style:{width:`${Math.min(2*r,100)}%`,boxShadow:"0 0 10px rgba(0,0,0,0.1)"}})})]},t)}))}):(0,Sp.jsxs)("div",{className:"text-center py-8",children:[(0,Sp.jsx)("div",{className:"rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center "+(x?"bg-dark-700":"bg-gray-100"),children:(0,Sp.jsx)(Rg,{className:"w-8 h-8 "+(x?"text-gray-500":"text-gray-400")})}),(0,Sp.jsx)("p",{className:x?"text-gray-400":"text-gray-600",children:"Ad position statistics are not available yet."}),(0,Sp.jsx)("p",{className:"text-sm mt-2 text-gray-500",children:"Data will be collected as ads are viewed and clicked."})]})]}),(0,Sp.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[(0,Sp.jsxs)("div",{className:"rounded-lg p-6 shadow-lg "+(x?"bg-dark-800":"bg-white border border-gray-200"),children:[(0,Sp.jsx)("h2",{className:"text-lg font-semibold mb-4 uppercase "+(x?"text-white":"text-gray-900"),children:"Ad Performance"}),(0,Sp.jsxs)("div",{className:"space-y-6",children:[(0,Sp.jsxs)("div",{children:[(0,Sp.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,Sp.jsxs)("div",{children:[(0,Sp.jsx)("p",{className:"text-sm font-medium "+(x?"text-gray-400":"text-gray-600"),children:"Click Through Rate (CTR)"}),(0,Sp.jsxs)("h3",{className:"text-2xl font-bold text-green-500",children:[(C.ctr||0).toFixed(2),"%"]})]}),(0,Sp.jsx)("div",{className:"p-3 rounded-full bg-green-500 bg-opacity-10",children:(0,Sp.jsx)(Bg,{className:"w-6 h-6 text-green-500"})})]}),(0,Sp.jsx)("div",{className:"w-full rounded-full h-2 "+(x?"bg-dark-700":"bg-gray-200"),children:(0,Sp.jsx)("div",{className:"h-2 rounded-full bg-green-500",style:{width:`${Math.min(C.ctr||0,100)}%`}})})]}),(0,Sp.jsxs)("div",{children:[(0,Sp.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,Sp.jsxs)("div",{children:[(0,Sp.jsx)("p",{className:"text-sm font-medium "+(x?"text-gray-400":"text-gray-600"),children:"Impressions per Page"}),(0,Sp.jsx)("h3",{className:"text-2xl font-bold text-blue-500",children:Math.round(C.impressionsPerPage||0)})]}),(0,Sp.jsx)("div",{className:"p-3 rounded-full bg-blue-500 bg-opacity-10",children:(0,Sp.jsx)(Rg,{className:"w-6 h-6 text-blue-500"})})]}),(0,Sp.jsx)("div",{className:"w-full rounded-full h-2 "+(x?"bg-dark-700":"bg-gray-200"),children:(0,Sp.jsx)("div",{className:"h-2 rounded-full bg-blue-500",style:{width:`${Math.min(10*(C.impressionsPerPage||0),100)}%`}})})]}),(0,Sp.jsx)("div",{className:"text-right mt-4",children:(0,Sp.jsxs)("span",{className:"text-xs "+(x?"text-gray-400":"text-gray-600"),children:["Last Updated: ",C.lastUpdated?new Date(C.lastUpdated.toDate()).toLocaleString("tr-TR"):"N/A"]})})]})]}),(0,Sp.jsxs)("div",{className:"rounded-lg p-6 shadow-lg "+(x?"bg-dark-800":"bg-white border border-gray-200"),children:[(0,Sp.jsx)("h2",{className:"text-lg font-semibold mb-4 uppercase "+(x?"text-white":"text-gray-900"),children:"Most Popular Categories"}),f.length>0?(0,Sp.jsxs)(Sp.Fragment,{children:[(0,Sp.jsx)("div",{className:"flex justify-center",children:(0,Sp.jsx)("div",{className:"relative w-64 h-64",children:(0,Sp.jsxs)("svg",{viewBox:"0 0 100 100",className:"w-full h-full",children:[(0,Sp.jsx)("circle",{cx:"50",cy:"50",r:"40",fill:"transparent",stroke:x?"#2D3748":"#E2E8F0",strokeWidth:"20"}),f.map(((e,t)=>{const n=f.reduce(((e,t)=>e+t.viewCount),0),r=n>0?e.viewCount/n:1/f.length,s=2*Math.PI*40,i=s*r;let a=0;for(let o=0;o<t;o++){a-=s*(n>0?f[o].viewCount/n:1/f.length)}return(0,Sp.jsx)("circle",{cx:"50",cy:"50",r:"40",fill:"transparent",stroke:e.color,strokeWidth:"20",strokeDasharray:`${i} ${s-i}`,strokeDashoffset:a,transform:"rotate(-90 50 50)"},t)}))]})})}),(0,Sp.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2 mt-4",children:f.slice(0,6).map(((e,t)=>(0,Sp.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Sp.jsxs)("div",{className:"flex items-center",children:[(0,Sp.jsx)("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:e.color}}),(0,Sp.jsx)("span",{className:"text-sm "+(x?"text-gray-300":"text-gray-700"),children:e.name})]}),(0,Sp.jsxs)("span",{className:"text-xs "+(x?"text-gray-400":"text-gray-600"),children:[e.viewCount.toLocaleString()," views"]})]},t)))})]}):(0,Sp.jsxs)("div",{className:"text-center py-8",children:[(0,Sp.jsx)("p",{className:x?"text-gray-400":"text-gray-600",children:"Category statistics are not available yet."}),(0,Sp.jsx)("p",{className:"text-sm mt-2 text-gray-500",children:"Data will be collected from the main site."})]})]})]})]})};function ex(e,t){let{title:n,titleId:r,...i}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))}const tx=s.forwardRef(ex);function nx(e,t){let{title:n,titleId:r,...i}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const rx=s.forwardRef(nx);function sx(e,t){let{title:n,titleId:r,...i}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const ix=s.forwardRef(sx),ax=()=>{const[e,t]=(0,s.useState)([]),[n,r]=(0,s.useState)(!0),[i,a]=(0,s.useState)(""),[o,l]=(0,s.useState)(""),[c,u]=(0,s.useState)(""),[d,h]=(0,s.useState)("date"),[f,m]=(0,s.useState)("all");(0,s.useEffect)((()=>{p()}),[f]);const p=async()=>{r(!0);try{let e;e="all"!==f?vm(Sf(_p,"users"),xm("status","==",f),km("createdAt","desc")):vm(Sf(_p,"users"),km("createdAt","desc"));const n=(await Um(e)).docs.map((e=>({id:e.id,...e.data()})));t(n)}catch(o){console.error("Error fetching users:",o),l("An error occurred while fetching users.")}finally{r(!1)}},g=e=>{if(!e)return"Not specified";return(e.toDate?e.toDate():new Date(e)).toLocaleDateString("en-US",{day:"2-digit",month:"short",year:"numeric"})},v=e.filter((e=>{var t,n;const r=i.toLowerCase();return(null===(t=e.displayName)||void 0===t?void 0:t.toLowerCase().includes(r))||(null===(n=e.email)||void 0===n?void 0:n.toLowerCase().includes(r))}));return(0,Sp.jsxs)("div",{children:[(0,Sp.jsx)("h1",{className:"text-2xl font-bold text-white mb-6",children:"Users"}),o&&(0,Sp.jsx)("div",{className:"bg-red-500 bg-opacity-20 border border-red-500 text-red-500 px-4 py-3 rounded mb-4",children:o}),c&&(0,Sp.jsx)("div",{className:"bg-green-500 bg-opacity-20 border border-green-500 text-green-500 px-4 py-3 rounded mb-4",children:c}),(0,Sp.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 mb-6 bg-dark-700 p-4 rounded-lg",children:[(0,Sp.jsxs)("div",{className:"flex items-center",children:[(0,Sp.jsx)(tx,{className:"h-5 w-5 text-gray-400 mr-2"}),(0,Sp.jsx)("span",{className:"text-gray-400 mr-2",children:"Filter By"}),(0,Sp.jsx)("div",{className:"relative",children:(0,Sp.jsxs)("select",{className:"bg-dark-800 text-white border border-dark-600 rounded-md py-2 pl-3 pr-8 focus:outline-none focus:ring-2 focus:ring-primary-500",value:d,onChange:e=>h(e.target.value),children:[(0,Sp.jsx)("option",{value:"date",children:"Date"}),(0,Sp.jsx)("option",{value:"name",children:"Name"}),(0,Sp.jsx)("option",{value:"email",children:"Email"})]})})]}),(0,Sp.jsxs)("div",{className:"flex items-center",children:[(0,Sp.jsx)("span",{className:"text-gray-400 mr-2",children:"User Status"}),(0,Sp.jsx)("div",{className:"relative",children:(0,Sp.jsxs)("select",{className:"bg-dark-800 text-white border border-dark-600 rounded-md py-2 pl-3 pr-8 focus:outline-none focus:ring-2 focus:ring-primary-500",value:f,onChange:e=>m(e.target.value),children:[(0,Sp.jsx)("option",{value:"all",children:"All"}),(0,Sp.jsx)("option",{value:"active",children:"Active"}),(0,Sp.jsx)("option",{value:"inactive",children:"Inactive"}),(0,Sp.jsx)("option",{value:"pending",children:"Pending"})]})})]}),(0,Sp.jsxs)("button",{onClick:()=>{h("date"),m("all"),a("")},className:"flex items-center justify-center bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-md",children:[(0,Sp.jsx)(Ug,{className:"h-4 w-4 mr-2"}),"Reset Filter"]}),(0,Sp.jsx)("div",{className:"flex-grow",children:(0,Sp.jsxs)("div",{className:"relative",children:[(0,Sp.jsx)("input",{type:"text",placeholder:"Search user name...",className:"w-full py-2 pl-10 pr-4 bg-dark-800 border border-dark-600 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 text-white",value:i,onChange:e=>a(e.target.value)}),(0,Sp.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Sp.jsx)(rx,{className:"h-5 w-5 text-gray-400"})})]})})]}),n?(0,Sp.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,Sp.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"})}):v.length>0?(0,Sp.jsxs)("div",{className:"bg-dark-700 rounded-lg overflow-hidden",children:[(0,Sp.jsx)("div",{className:"overflow-x-auto",children:(0,Sp.jsxs)("table",{className:"min-w-full",children:[(0,Sp.jsx)("thead",{className:"bg-dark-800",children:(0,Sp.jsxs)("tr",{children:[(0,Sp.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"ID"}),(0,Sp.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"NAME"}),(0,Sp.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"EMAIL"}),(0,Sp.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"DATE"}),(0,Sp.jsx)("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-gray-400 uppercase tracking-wider",children:"STATUS"}),(0,Sp.jsx)("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-gray-400 uppercase tracking-wider",children:"ACTIONS"})]})}),(0,Sp.jsx)("tbody",{className:"divide-y divide-dark-600",children:v.map((n=>{const r=(e=>e.status||"active")(n),s=(e=>{switch(e){case"active":return{color:"bg-emerald-500",text:"Active",textColor:"text-white"};case"inactive":return{color:"bg-indigo-500",text:"Inactive",textColor:"text-white"};case"pending":return{color:"bg-indigo-500",text:"Pending",textColor:"text-white"};default:return{color:"bg-gray-500",text:"Unknown",textColor:"text-white"}}})(r);return(0,Sp.jsxs)("tr",{className:"hover:bg-dark-600",children:[(0,Sp.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:n.id.substring(0,5)}),(0,Sp.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Sp.jsxs)("div",{className:"flex items-center",children:[(0,Sp.jsx)(Ay,{className:"h-10 w-10 text-gray-400 mr-3"}),(0,Sp.jsx)("div",{className:"text-sm font-medium text-white",children:n.displayName||"Unnamed User"})]})}),(0,Sp.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:n.email}),(0,Sp.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:g(n.createdAt)}),(0,Sp.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:(0,Sp.jsx)("span",{className:`px-4 py-1 inline-flex text-sm leading-5 font-semibold rounded-full ${s.color} ${s.textColor}`,children:s.text})}),(0,Sp.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:(0,Sp.jsxs)("div",{className:"flex justify-center space-x-2",children:[(0,Sp.jsx)("button",{onClick:()=>"active"===r?(async n=>{if(window.confirm("Are you sure you want to deactivate this user?"))try{const r=jf(_p,"users",n);await zm(r,{status:"inactive",deactivatedAt:new Date}),t(e.map((e=>e.id===n?{...e,status:"inactive",deactivatedAt:new Date}:e))),u("User successfully deactivated.")}catch(o){console.error("Error deactivating user:",o),l("An error occurred while deactivating the user.")}})(n.id):(async n=>{try{const r=jf(_p,"users",n);await zm(r,{status:"active",deactivatedAt:null}),t(e.map((e=>e.id===n?{...e,status:"active",deactivatedAt:null}:e))),u("User successfully activated.")}catch(o){console.error("Error activating user:",o),l("An error occurred while activating the user.")}})(n.id),className:"p-1 rounded-full "+("active"===r?"text-red-500 hover:bg-red-100 hover:bg-opacity-10":"text-green-500 hover:bg-green-100 hover:bg-opacity-10"),title:"active"===r?"Deactivate User":"Activate User",children:"active"===r?(0,Sp.jsx)(Dy,{className:"h-5 w-5"}):(0,Sp.jsx)(Ug,{className:"h-5 w-5"})}),(0,Sp.jsx)("button",{className:"p-1 rounded-full text-blue-500 hover:bg-blue-100 hover:bg-opacity-10",title:"Edit User",children:(0,Sp.jsx)(ix,{className:"h-5 w-5"})})]})})]},n.id)}))})]})}),(0,Sp.jsxs)("div",{className:"bg-dark-800 px-4 py-3 flex items-center justify-between border-t border-dark-600",children:[(0,Sp.jsxs)("div",{className:"text-sm text-gray-400",children:["Showing ",(0,Sp.jsx)("span",{className:"font-medium",children:v.length})," of ",(0,Sp.jsx)("span",{className:"font-medium",children:e.length})," users"]}),(0,Sp.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Sp.jsx)("button",{className:"px-3 py-1 bg-dark-700 text-gray-400 rounded-md hover:bg-dark-600",children:"<"}),(0,Sp.jsx)("button",{className:"px-3 py-1 bg-primary-600 text-white rounded-md",children:"1"}),(0,Sp.jsx)("button",{className:"px-3 py-1 bg-dark-700 text-gray-400 rounded-md hover:bg-dark-600",children:">"})]})]})]}):(0,Sp.jsx)("div",{className:"bg-dark-700 rounded-lg p-8 text-center",children:(0,Sp.jsx)("p",{className:"text-gray-400",children:i?"No users found matching your search criteria.":"No users found."})})]})};function ox(e,t){let{title:n,titleId:r,...i}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const lx=s.forwardRef(ox);function cx(e,t){let{title:n,titleId:r,...i}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const ux=s.forwardRef(cx);function dx(e,t){const n=mg(e,t?.in);return n.setHours(0,0,0,0),n}function hx(e,t,n){const[r,s]=gg(n?.in,e,t),i=dx(r),a=dx(s),o=+i-pg(i),l=+a-pg(a);return Math.round((o-l)/864e5)}function fx(e,t){const n=mg(e,t?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function mx(e,t){const n=mg(e,t?.in);return hx(n,fx(n))+1}function px(e,t){const n=fg(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,s=mg(e,t?.in),i=s.getDay(),a=(i<r?7:0)+i-r;return s.setDate(s.getDate()-a),s.setHours(0,0,0,0),s}function gx(e,t){return px(e,{...t,weekStartsOn:1})}function vx(e,t){const n=mg(e,t?.in),r=n.getFullYear(),s=ng(n,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const i=gx(s),a=ng(n,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const o=gx(a);return n.getTime()>=i.getTime()?r+1:n.getTime()>=o.getTime()?r:r-1}function yx(e,t){const n=vx(e,t),r=ng(t?.in||e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),gx(r)}function xx(e,t){const n=mg(e,t?.in),r=+gx(n)-+yx(n);return Math.round(r/Zp)+1}function bx(e,t){const n=mg(e,t?.in),r=n.getFullYear(),s=fg(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,a=ng(t?.in||e,0);a.setFullYear(r+1,0,i),a.setHours(0,0,0,0);const o=px(a,t),l=ng(t?.in||e,0);l.setFullYear(r,0,i),l.setHours(0,0,0,0);const c=px(l,t);return+n>=+o?r+1:+n>=+c?r:r-1}function wx(e,t){const n=fg(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,s=bx(e,t),i=ng(t?.in||e,0);i.setFullYear(s,0,r),i.setHours(0,0,0,0);return px(i,t)}function kx(e,t){const n=mg(e,t?.in),r=+px(n,t)-+wx(n,t);return Math.round(r/Zp)+1}function Nx(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}const Ex={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Nx("yy"===t?r%100:r,t.length)},M(e,t){const n=e.getMonth();return"M"===t?String(n+1):Nx(n+1,2)},d:(e,t)=>Nx(e.getDate(),t.length),a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(e,t)=>Nx(e.getHours()%12||12,t.length),H:(e,t)=>Nx(e.getHours(),t.length),m:(e,t)=>Nx(e.getMinutes(),t.length),s:(e,t)=>Nx(e.getSeconds(),t.length),S(e,t){const n=t.length,r=e.getMilliseconds();return Nx(Math.trunc(r*Math.pow(10,n-3)),t.length)}},_x="midnight",Sx="noon",jx="morning",Cx="afternoon",Tx="evening",Ix="night",Ax={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){const t=e.getFullYear(),r=t>0?t:1-t;return n.ordinalNumber(r,{unit:"year"})}return Ex.y(e,t)},Y:function(e,t,n,r){const s=bx(e,r),i=s>0?s:1-s;if("YY"===t){return Nx(i%100,2)}return"Yo"===t?n.ordinalNumber(i,{unit:"year"}):Nx(i,t.length)},R:function(e,t){return Nx(vx(e),t.length)},u:function(e,t){return Nx(e.getFullYear(),t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Nx(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Nx(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Ex.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Nx(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const s=kx(e,r);return"wo"===t?n.ordinalNumber(s,{unit:"week"}):Nx(s,t.length)},I:function(e,t,n){const r=xx(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):Nx(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getDate(),{unit:"date"}):Ex.d(e,t)},D:function(e,t,n){const r=mx(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):Nx(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const s=e.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Nx(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const s=e.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Nx(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),s=0===r?7:r;switch(t){case"i":return String(s);case"ii":return Nx(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let s;switch(s=12===r?Sx:0===r?_x:r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let s;switch(s=r>=17?Tx:r>=12?Cx:r>=4?jx:Ix,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),n.ordinalNumber(t,{unit:"hour"})}return Ex.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getHours(),{unit:"hour"}):Ex.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):Nx(r,t.length)},k:function(e,t,n){let r=e.getHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):Nx(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Ex.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Ex.s(e,t)},S:function(e,t){return Ex.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(0===r)return"Z";switch(t){case"X":return Dx(r);case"XXXX":case"XX":return Rx(r);default:return Rx(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return Dx(r);case"xxxx":case"xx":return Rx(r);default:return Rx(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Px(r,":");default:return"GMT"+Rx(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Px(r,":");default:return"GMT"+Rx(r,":")}},t:function(e,t,n){return Nx(Math.trunc(+e/1e3),t.length)},T:function(e,t,n){return Nx(+e,t.length)}};function Px(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e>0?"-":"+",r=Math.abs(e),s=Math.trunc(r/60),i=r%60;return 0===i?n+String(s):n+String(s)+t+Nx(i,2)}function Dx(e,t){if(e%60===0){return(e>0?"-":"+")+Nx(Math.abs(e)/60,2)}return Rx(e,t)}function Rx(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e>0?"-":"+",r=Math.abs(e);return n+Nx(Math.trunc(r/60),2)+t+Nx(r%60,2)}const Lx=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},Ox=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},Mx={p:Ox,P:(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return Lx(e,t);let i;switch(r){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;default:i=t.dateTime({width:"full"})}return i.replace("{{date}}",Lx(r,t)).replace("{{time}}",Ox(s,t))}},Fx=/^D+$/,Ux=/^Y+$/,Vx=["D","DD","YY","YYYY"];function zx(e){return e instanceof Date||"object"===typeof e&&"[object Date]"===Object.prototype.toString.call(e)}function Bx(e){return!(!zx(e)&&"number"!==typeof e||isNaN(+mg(e)))}const $x=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,qx=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Wx=/^'([^]*?)'?$/,Hx=/''/g,Kx=/[a-zA-Z]/;function Gx(e,t,n){const r=fg(),s=n?.locale??r.locale??dg,i=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,o=mg(e,n?.in);if(!Bx(o))throw new RangeError("Invalid time value");let l=t.match(qx).map((e=>{const t=e[0];if("p"===t||"P"===t){return(0,Mx[t])(e,s.formatLong)}return e})).join("").match($x).map((e=>{if("''"===e)return{isToken:!1,value:"'"};const t=e[0];if("'"===t)return{isToken:!1,value:Qx(e)};if(Ax[t])return{isToken:!0,value:e};if(t.match(Kx))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}}));s.localize.preprocessor&&(l=s.localize.preprocessor(o,l));const c={firstWeekContainsDate:i,weekStartsOn:a,locale:s};return l.map((r=>{if(!r.isToken)return r.value;const i=r.value;(!n?.useAdditionalWeekYearTokens&&function(e){return Ux.test(e)}(i)||!n?.useAdditionalDayOfYearTokens&&function(e){return Fx.test(e)}(i))&&function(e,t,n){const r=function(e,t,n){const r="Y"===e[0]?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(e,t,n);if(console.warn(r),Vx.includes(e))throw new RangeError(r)}(i,t,String(e));return(0,Ax[i[0]])(o,i,s.localize,c)})).join("")}function Qx(e){const t=e.match(Wx);return t?t[1].replace(Hx,"'"):e}const Yx=()=>{const[e,t]=(0,s.useState)([]),[n,r]=(0,s.useState)(!0),[i,a]=(0,s.useState)(""),[o,l]=(0,s.useState)(""),[c,u]=(0,s.useState)(""),[d,h]=(0,s.useState)(null),f={title:"",description:"",thumbnailUrl:"",iframeCode:"",categories:[],tags:[],actors:[],blockAds:!0},[m,p]=(0,s.useState)(f),[g,v]=(0,s.useState)(!1),[y,x]=(0,s.useState)({title:"",description:"",categories:[],actors:[],tags:[],featured:!1,thumbnailUrl:"",iframeCode:"",blockAds:!0}),[b,w]=(0,s.useState)(null),[k,N]=(0,s.useState)(null),[E,_]=(0,s.useState)(""),[S,j]=(0,s.useState)(0),[C,T]=(0,s.useState)(!1),[I,A]=(0,s.useState)([]),[P,D]=(0,s.useState)([]),[R,L]=(0,s.useState)([]),[O,M]=(0,s.useState)([]),[F,U]=(0,s.useState)(0),[V,z]=(0,s.useState)({category:-1,actor:-1}),B=(0,s.useRef)(null),$=(0,s.useRef)(null);(0,s.useEffect)((()=>{const e=e=>{B.current&&!B.current.contains(e.target)&&z((e=>({...e,category:-1}))),$.current&&!$.current.contains(e.target)&&z((e=>({...e,actor:-1})))};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[]),(0,s.useEffect)((()=>{(async()=>{try{const e=vm(Sf(_p,"categories"),km("name","asc")),t=(await Um(e)).docs.map((e=>e.data().name));A(t);const n=vm(Sf(_p,"pornstars"),km("name","asc")),r=(await Um(n)).docs.map((e=>e.data().name));D(r)}catch(o){console.error("Error fetching suggestions:",o)}})()}),[]),(0,s.useEffect)((()=>{(async()=>{r(!0);try{const e=vm(Sf(_p,"videos"),km("createdAt","desc")),n=(await Um(e)).docs.map((e=>({id:e.id,...e.data()})));t(n)}catch(o){console.error("Error fetching videos:",o),l("An error occurred while fetching videos.")}finally{r(!1)}})()}),[]);const q=async n=>{if(n.preventDefault(),m.title.trim())if(m.thumbnailUrl.trim()){r(!0),l(""),u("");try{const n=[];for(const e of m.categories){const t=Sf(_p,"categories"),r=vm(t,xm("name","==",e)),s=await Um(r);if(s.empty)n.push($m(t,{name:e,videoCount:1,createdAt:new Date,updatedAt:new Date}));else{const e=s.docs[0];n.push(zm(jf(_p,"categories",e.id),{videoCount:Ym(1),updatedAt:new Date}))}}for(const e of m.actors){const t=Sf(_p,"pornstars"),r=vm(t,xm("name","==",e)),s=await Um(r);if(s.empty)n.push($m(t,{name:e,videoCount:1,createdAt:new Date,updatedAt:new Date}));else{const e=s.docs[0];n.push(zm(jf(_p,"pornstars",e.id),{videoCount:Ym(1),updatedAt:new Date}))}}await Promise.all(n);const r=jf(_p,"videos",m.id);await zm(r,{...m,updatedAt:Km()}),t(e.map((e=>e.id===m.id?{...e,...m}:e))),u("Video updated successfully!"),h(null),p(f)}catch(o){console.error("Error updating video:",o),l("An error occurred while updating the video.")}finally{r(!1)}}else l("Thumbnail URL cannot be empty.");else l("Video title cannot be empty.")},W=e.filter((e=>{const t=i.toLowerCase();return e.title&&e.title.toLowerCase().includes(t)||e.description&&e.description.toLowerCase().includes(t)||e.categories&&e.categories.some((e=>e.toLowerCase().includes(t)))||e.actors&&e.actors.some((e=>e.toLowerCase().includes(t)))||e.tags&&e.tags.some((e=>e.toLowerCase().includes(t)))})),H=async(e,t)=>{if(t&&t.trim())try{const n="categories"===e?"categories":"pornstars",r=Sf(_p,n),s=vm(r,xm("name","==",t.trim())),i=await Um(s);if(i.empty)await $m(r,{name:t.trim(),videoCount:1,createdAt:new Date,updatedAt:new Date});else{const e=i.docs[0];await zm(jf(_p,n,e.id),{videoCount:Ym(1),updatedAt:new Date})}const a={...m};a[e].includes(t.trim())||(a[e]=[...a[e].slice(0,-1),t.trim()],p(a)),u(`${"categories"===e?"Category":"Actor"} "${t}" added successfully!`)}catch(n){console.error(`Error adding ${e}:`,n),l(`Failed to add ${"categories"===e?"category":"actor"}: ${n.message}`)}},K=(e,t)=>{p({...m,[e]:m[e].filter(((e,n)=>n!==t))})},G=async n=>{if(n.preventDefault(),!y.title.trim())return void l("Video title cannot be empty.");if(!y.thumbnailUrl.trim())return void l("Thumbnail URL cannot be empty.");if(!y.iframeCode.trim())return void l("Video iframe code cannot be empty.");const r=y.categories.filter((e=>""!==e.trim())),s=y.actors.filter((e=>""!==e.trim())),i=y.tags.filter((e=>""!==e.trim()));if(0!==r.length)if(0!==s.length)if(0!==i.length){T(!0),j(0);try{for(const e of r){const t=vm(Sf(_p,"categories"),xm("name","==",e)),n=await Um(t);if(n.empty)return l(`Category "${e}" does not exist. Please add it first.`),void T(!1);{const e=n.docs[0];await zm(jf(_p,"categories",e.id),{videoCount:Ym(1)})}}for(const e of s){const t=vm(Sf(_p,"pornstars"),xm("name","==",e)),n=await Um(t);if(n.empty)return l(`Actor "${e}" does not exist. Please add them first.`),void T(!1);{const e=n.docs[0];await zm(jf(_p,"pornstars",e.id),{videoCount:Ym(1)})}}for(const e of i){const t=vm(Sf(_p,"tags"),xm("name","==",e)),n=await Um(t);if(n.empty)await $m(Sf(_p,"tags"),{name:e,videoCount:1,createdAt:Km()});else{const e=n.docs[0];await zm(jf(_p,"tags",e.id),{videoCount:Ym(1)})}}const n={title:y.title,titleLower:y.title.toLowerCase(),description:y.description,categories:r,categoriesLower:r.map((e=>e.toLowerCase())),actors:s,actorsLower:s.map((e=>e.toLowerCase())),tags:i,tagsLower:i.map((e=>e.toLowerCase())),featured:y.featured,thumbnailUrl:y.thumbnailUrl,iframeCode:y.iframeCode,duration:Math.floor(600*Math.random())+60,views:0,likes:0,dislikes:0,createdAt:Km(),updatedAt:Km(),isActive:!0,publishedAt:Km(),blockAds:y.blockAds},a=await $m(Sf(_p,"videos"),n);t([{id:a.id,...n,createdAt:new Date},...e]),x({title:"",description:"",categories:[],actors:[],tags:[],featured:!1,thumbnailUrl:"",iframeCode:"",blockAds:!0}),w(null),N(null),_(""),v(!1),u("Video successfully added and published to the main site.")}catch(o){console.error("Error adding video:",o),l("An error occurred while adding the video.")}T(!1),j(0)}else l("At least one tag is required.");else l("At least one actor is required.");else l("At least one category is required.")},Q=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=e?m:y,r=e?p:x;return(0,Sp.jsxs)("div",{className:"bg-dark-700 rounded-lg p-4",children:[(0,Sp.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Sp.jsxs)("div",{children:[(0,Sp.jsx)("label",{className:"block text-gray-400 mb-1",children:"Title *"}),(0,Sp.jsx)("input",{type:"text",className:"w-full py-2 px-3 bg-dark-600 border border-dark-500 rounded-md text-white",value:t.title,onChange:e=>r({...t,title:e.target.value}),required:!0})]}),(0,Sp.jsxs)("div",{children:[(0,Sp.jsx)("label",{className:"block text-gray-400 mb-1",children:"Description"}),(0,Sp.jsx)("textarea",{className:"w-full py-2 px-3 bg-dark-600 border border-dark-500 rounded-md text-white",value:t.description,onChange:e=>r({...t,description:e.target.value}),rows:"3"})]}),(0,Sp.jsxs)("div",{children:[(0,Sp.jsx)("label",{className:"block text-gray-400 mb-1",children:"Categories *"}),(0,Sp.jsx)("div",{className:"flex flex-wrap gap-2 mb-2",children:t.categories.map(((e,t)=>(0,Sp.jsxs)("span",{className:"bg-dark-600 text-white px-2 py-1 rounded flex items-center",children:[e,(0,Sp.jsx)("button",{onClick:()=>K("categories",t),className:"ml-1 text-red-500 hover:text-red-400",children:(0,Sp.jsx)(Dy,{className:"h-4 w-4"})})]},t)))}),(0,Sp.jsxs)("div",{className:"flex flex-col gap-2",children:[t.categories.length>0&&""===t.categories[t.categories.length-1]&&(0,Sp.jsx)("input",{type:"text",className:"w-full py-1 px-2 bg-dark-600 border border-dark-500 rounded text-white text-sm",placeholder:"Type new category name and press Enter",onKeyPress:e=>{if("Enter"===e.key){e.preventDefault();const n=e.target.value.trim();if(n){H("categories",n);const e=t.categories.filter((e=>""!==e));r({...t,categories:e})}e.target.value=""}}}),(0,Sp.jsx)("button",{onClick:()=>{r({...t,categories:[...t.categories,""]})},className:"bg-green-600 hover:bg-green-700 text-white px-2 py-1 rounded flex items-center justify-center",title:"Add New Category",children:(0,Sp.jsx)(lx,{className:"h-4 w-4"})})]})]}),(0,Sp.jsxs)("div",{children:[(0,Sp.jsx)("label",{className:"block text-gray-400 mb-1",children:"Actors *"}),(0,Sp.jsx)("div",{className:"flex flex-wrap gap-2 mb-2",children:t.actors.map(((e,t)=>(0,Sp.jsxs)("span",{className:"bg-dark-600 text-white px-2 py-1 rounded flex items-center",children:[e,(0,Sp.jsx)("button",{onClick:()=>K("actors",t),className:"ml-1 text-red-500 hover:text-red-400",children:(0,Sp.jsx)(Dy,{className:"h-4 w-4"})})]},t)))}),(0,Sp.jsxs)("div",{className:"flex flex-col gap-2",children:[t.actors.length>0&&""===t.actors[t.actors.length-1]&&(0,Sp.jsx)("input",{type:"text",className:"w-full py-1 px-2 bg-dark-600 border border-dark-500 rounded text-white text-sm",placeholder:"Type new actor name and press Enter",onKeyPress:e=>{if("Enter"===e.key){e.preventDefault();const n=e.target.value.trim();if(n){H("actors",n);const e=t.actors.filter((e=>""!==e));r({...t,actors:e})}e.target.value=""}}}),(0,Sp.jsx)("button",{onClick:()=>{r({...t,actors:[...t.actors,""]})},className:"bg-green-600 hover:bg-green-700 text-white px-2 py-1 rounded flex items-center justify-center",title:"Add New Actor",children:(0,Sp.jsx)(lx,{className:"h-4 w-4"})})]})]}),(0,Sp.jsxs)("div",{children:[(0,Sp.jsx)("label",{className:"block text-gray-400 mb-1",children:"Tags"}),(0,Sp.jsx)("div",{className:"flex flex-wrap gap-2 mb-2",children:t.tags.map(((e,t)=>(0,Sp.jsxs)("span",{className:"bg-dark-600 text-white px-2 py-1 rounded flex items-center",children:[e,(0,Sp.jsx)("button",{onClick:()=>K("tags",t),className:"ml-1 text-red-500 hover:text-red-400",children:(0,Sp.jsx)(Dy,{className:"h-4 w-4"})})]},t)))}),(0,Sp.jsx)("div",{className:"flex gap-1",children:(0,Sp.jsx)("input",{type:"text",className:"flex-grow py-1 px-2 bg-dark-600 border border-dark-500 rounded text-white text-sm",placeholder:"Add tag and press Enter",onKeyPress:e=>{if("Enter"===e.key){e.preventDefault();const n=e.target.value.trim();n&&!t.tags.includes(n)&&(r({...t,tags:[...t.tags,n]}),e.target.value="")}}})})]}),(0,Sp.jsxs)("div",{className:"md:col-span-2",children:[(0,Sp.jsx)("label",{className:"block text-gray-400 mb-1",children:"Iframe Code *"}),(0,Sp.jsx)("textarea",{className:"w-full py-2 px-3 bg-dark-600 border border-dark-500 rounded-md text-white font-mono text-sm",value:t.iframeCode,onChange:e=>r({...t,iframeCode:e.target.value}),rows:"3",required:!0})]}),(0,Sp.jsxs)("div",{className:"md:col-span-2",children:[(0,Sp.jsx)("label",{className:"block text-gray-400 mb-1",children:"Thumbnail URL *"}),(0,Sp.jsx)("input",{type:"text",className:"w-full py-2 px-3 bg-dark-600 border border-dark-500 rounded-md text-white",value:t.thumbnailUrl,onChange:e=>r({...t,thumbnailUrl:e.target.value}),required:!0})]}),(0,Sp.jsx)("div",{className:"md:col-span-2",children:(0,Sp.jsxs)("label",{className:"flex items-center space-x-2 text-gray-400",children:[(0,Sp.jsx)("input",{type:"checkbox",className:"form-checkbox h-4 w-4",checked:t.blockAds,onChange:e=>r({...t,blockAds:e.target.checked})}),(0,Sp.jsx)("span",{children:"Block iframe ads (may cause issues with some video providers)"})]})})]}),(0,Sp.jsxs)("div",{className:"mt-6 flex justify-end gap-2",children:[(0,Sp.jsxs)("button",{onClick:()=>e?h(null):v(!1),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-md flex items-center",children:[(0,Sp.jsx)(Oy,{className:"h-5 w-5 mr-2"}),"Cancel"]}),(0,Sp.jsxs)("button",{onClick:e?q:G,disabled:n,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-md flex items-center",children:[n?(0,Sp.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-t-2 border-b-2 border-white mr-2"}):(0,Sp.jsx)(ux,{className:"h-5 w-5 mr-2"}),e?"Update Video":"Add Video"]})]})]})};return(0,Sp.jsxs)("div",{className:"p-4 sm:p-6",children:[o&&(0,Sp.jsx)("div",{className:"bg-red-500 text-white p-4 rounded-md mb-6",children:o}),c&&(0,Sp.jsx)("div",{className:"bg-green-500 text-white p-4 rounded-md mb-6",children:c}),d?Q(!0):g?Q():(0,Sp.jsxs)("div",{className:"bg-dark-800 rounded-lg p-4 sm:p-6",children:[(0,Sp.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 sm:gap-0 mb-6",children:[(0,Sp.jsx)("h1",{className:"text-2xl font-bold text-white",children:"Videos"}),(0,Sp.jsxs)("button",{onClick:()=>v(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md flex items-center",children:[(0,Sp.jsx)(lx,{className:"h-5 w-5 mr-2"}),"Add Video"]})]}),(0,Sp.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[(0,Sp.jsxs)("div",{className:"bg-dark-700 p-4 rounded-lg",children:[(0,Sp.jsx)("h2",{className:"text-lg font-semibold text-white mb-3",children:"Categories"}),(0,Sp.jsx)("div",{className:"flex gap-2",children:(0,Sp.jsxs)("div",{className:"relative flex-grow",children:[(0,Sp.jsx)("input",{type:"text",className:"w-full py-2 px-3 bg-dark-600 border border-dark-500 rounded-md text-white",placeholder:"Search or add category",onChange:e=>{const t=e.target.value,n=I.filter((e=>e.toLowerCase().includes(t.toLowerCase())));L(n),z((e=>({...e,category:0})))},onKeyPress:e=>{if("Enter"===e.key){e.preventDefault();const t=e.target.value.trim();t&&H("categories",t),e.target.value=""}}}),-1!==V.category&&R.length>0&&(0,Sp.jsx)("div",{className:"absolute z-10 w-full mt-1 bg-dark-600 border border-dark-500 rounded-md shadow-lg max-h-60 overflow-auto",children:R.map(((e,t)=>(0,Sp.jsx)("div",{className:"px-3 py-2 text-sm text-white hover:bg-dark-500 cursor-pointer",onClick:()=>H("categories",e),children:e},t)))})]})})]}),(0,Sp.jsxs)("div",{className:"bg-dark-700 p-4 rounded-lg",children:[(0,Sp.jsx)("h2",{className:"text-lg font-semibold text-white mb-3",children:"Actors"}),(0,Sp.jsx)("div",{className:"flex gap-2",children:(0,Sp.jsxs)("div",{className:"relative flex-grow",children:[(0,Sp.jsx)("input",{type:"text",className:"w-full py-2 px-3 bg-dark-600 border border-dark-500 rounded-md text-white",placeholder:"Search or add actor",onChange:e=>{const t=e.target.value,n=P.filter((e=>e.toLowerCase().includes(t.toLowerCase())));M(n),z((e=>({...e,actor:0})))},onKeyPress:e=>{if("Enter"===e.key){e.preventDefault();const t=e.target.value.trim();t&&H("actors",t),e.target.value=""}}}),-1!==V.actor&&O.length>0&&(0,Sp.jsx)("div",{className:"absolute z-10 w-full mt-1 bg-dark-600 border border-dark-500 rounded-md shadow-lg max-h-60 overflow-auto",children:O.map(((e,t)=>(0,Sp.jsx)("div",{className:"px-3 py-2 text-sm text-white hover:bg-dark-500 cursor-pointer",onClick:()=>H("actors",e),children:e},t)))})]})})]})]}),(0,Sp.jsx)("div",{className:"mb-6",children:(0,Sp.jsxs)("div",{className:"relative",children:[(0,Sp.jsx)("input",{type:"text",placeholder:"Search videos...",className:"w-full py-2 pl-10 pr-4 bg-dark-700 border border-dark-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-white",value:i,onChange:e=>a(e.target.value)}),(0,Sp.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Sp.jsx)(rx,{className:"h-5 w-5 text-gray-400"})})]})}),n?(0,Sp.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,Sp.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):W.length>0?(0,Sp.jsx)("div",{className:"overflow-x-auto -mx-4 sm:mx-0",children:(0,Sp.jsx)("div",{className:"inline-block min-w-full align-middle",children:(0,Sp.jsx)("div",{className:"overflow-hidden border border-dark-600 sm:rounded-lg",children:(0,Sp.jsxs)("table",{className:"min-w-full divide-y divide-dark-600",children:[(0,Sp.jsx)("thead",{className:"bg-dark-700",children:(0,Sp.jsxs)("tr",{children:[(0,Sp.jsx)("th",{scope:"col",className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Thumbnail"}),(0,Sp.jsx)("th",{scope:"col",className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Video Name"}),(0,Sp.jsx)("th",{scope:"col",className:"hidden md:table-cell px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Category"}),(0,Sp.jsx)("th",{scope:"col",className:"hidden lg:table-cell px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Studio"}),(0,Sp.jsx)("th",{scope:"col",className:"hidden lg:table-cell px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Actors name"}),(0,Sp.jsx)("th",{scope:"col",className:"hidden md:table-cell px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Tags"}),(0,Sp.jsx)("th",{scope:"col",className:"px-3 sm:px-6 py-3 text-center text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Action"})]})}),(0,Sp.jsx)("tbody",{className:"bg-dark-800 divide-y divide-dark-600",children:W.map((n=>(0,Sp.jsxs)("tr",{className:"hover:bg-dark-700",children:[(0,Sp.jsx)("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:(0,Sp.jsx)("div",{className:"h-12 sm:h-16 w-16 sm:w-24 relative",children:(0,Sp.jsx)("img",{src:n.thumbnailUrl,alt:n.title,className:"h-full w-full object-cover rounded"})})}),(0,Sp.jsx)("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:(0,Sp.jsx)("div",{className:"text-xs sm:text-sm text-white",children:n.title})}),(0,Sp.jsx)("td",{className:"hidden md:table-cell px-3 sm:px-6 py-4 whitespace-nowrap",children:(0,Sp.jsx)("div",{className:"text-xs sm:text-sm text-white",children:n.categories&&n.categories.length>0?n.categories[0]:"bla"})}),(0,Sp.jsx)("td",{className:"hidden lg:table-cell px-3 sm:px-6 py-4 whitespace-nowrap",children:(0,Sp.jsx)("div",{className:"text-xs sm:text-sm text-white",children:"bla"})}),(0,Sp.jsx)("td",{className:"hidden lg:table-cell px-3 sm:px-6 py-4 whitespace-nowrap",children:(0,Sp.jsx)("div",{className:"text-xs sm:text-sm text-white",children:n.actors&&n.actors.length>0?n.actors[0]:"bla"})}),(0,Sp.jsx)("td",{className:"hidden md:table-cell px-3 sm:px-6 py-4 whitespace-nowrap",children:(0,Sp.jsx)("div",{className:"text-xs sm:text-sm text-white",children:n.tags&&n.tags.length>0?n.tags[0]:"bla"})}),(0,Sp.jsxs)("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap text-center",children:[(0,Sp.jsx)("button",{onClick:()=>(e=>{h(e.id),p({id:e.id,title:e.title||"",description:e.description||"",thumbnailUrl:e.thumbnailUrl||"",iframeCode:e.iframeCode||"",categories:e.categories||[],tags:e.tags||[],actors:e.actors||[],blockAds:void 0===e.blockAds||e.blockAds})})(n),className:"text-blue-500 hover:text-blue-400 mx-2",title:"Edit",children:(0,Sp.jsx)(ix,{className:"h-5 w-5"})}),(0,Sp.jsx)("button",{onClick:()=>(async n=>{if(window.confirm("Are you sure you want to delete this video? This action cannot be undone.")){r(!0);try{await Bm(jf(_p,"videos",n)),t(e.filter((e=>e.id!==n))),u("Video deleted successfully.")}catch(o){console.error("Error deleting video:",o),l("An error occurred while deleting the video.")}finally{r(!1)}}})(n.id),className:"text-red-500 hover:text-red-400 mx-2",title:"Delete",children:(0,Sp.jsx)(Dy,{className:"h-5 w-5"})})]})]},n.id)))})]})})})}):(0,Sp.jsx)("div",{className:"bg-dark-700 rounded-lg p-8 text-center",children:(0,Sp.jsx)("p",{className:"text-gray-400",children:i?"No videos match your search criteria.":"No videos have been added yet."})}),(0,Sp.jsxs)("div",{className:"mt-4 text-sm text-gray-400",children:["Showing 1-",W.length," of ",W.length]})]})]})};function Xx(e,t){let{title:n,titleId:r,...i}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.375 19.5h17.25m-17.25 0a1.125 1.125 0 0 1-1.125-1.125M3.375 19.5h1.5C5.496 19.5 6 18.996 6 18.375m-3.75 0V5.625m0 12.75v-1.5c0-.621.504-1.125 1.125-1.125m18.375 2.625V5.625m0 12.75c0 .621-.504 1.125-1.125 1.125m1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125m0 3.75h-1.5A1.125 1.125 0 0 1 18 18.375M20.625 4.5H3.375m17.25 0c.621 0 1.125.504 1.125 1.125M20.625 4.5h-1.5C18.504 4.5 18 5.004 18 5.625m3.75 0v1.5c0 .621-.504 1.125-1.125 1.125M3.375 4.5c-.621 0-1.125.504-1.125 1.125M3.375 4.5h1.5C5.496 4.5 6 5.004 6 5.625m-3.75 0v1.5c0 .621.504 1.125 1.125 1.125m0 0h1.5m-1.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125m1.5-3.75C5.496 8.25 6 7.746 6 7.125v-1.5M4.875 8.25C5.496 8.25 6 8.754 6 9.375v1.5m0-5.25v5.25m0-5.25C6 5.004 6.504 4.5 7.125 4.5h9.75c.621 0 1.125.504 1.125 1.125m1.125 2.625h1.5m-1.5 0A1.125 1.125 0 0 1 18 7.125v-1.5m1.125 2.625c-.621 0-1.125.504-1.125 1.125v1.5m2.625-2.625c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125M18 5.625v5.25M7.125 12h9.75m-9.75 0A1.125 1.125 0 0 1 6 10.875M7.125 12C6.504 12 6 12.504 6 13.125m0-2.25C6 11.496 5.496 12 4.875 12M18 10.875c0 .621-.504 1.125-1.125 1.125M18 10.875c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125m-12 5.25v-5.25m0 5.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125m-12 0v-1.5c0-.621-.504-1.125-1.125-1.125M18 18.375v-5.25m0 5.25v-1.5c0-.621.504-1.125 1.125-1.125M18 13.125v1.5c0 .621.504 1.125 1.125 1.125M18 13.125c0-.621.504-1.125 1.125-1.125M6 13.125v1.5c0 .621-.504 1.125-1.125 1.125M6 13.125C6 12.504 5.496 12 4.875 12m-1.5 0h1.5m-1.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125M19.125 12h1.5m0 0c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h1.5m14.25 0h1.5"}))}const Jx=s.forwardRef(Xx),Zx=()=>{const[e,t]=(0,s.useState)([]),[n,r]=(0,s.useState)(!0),[i,a]=(0,s.useState)(""),[o,l]=(0,s.useState)(""),[c,u]=(0,s.useState)("");(0,s.useEffect)((()=>{(async()=>{try{const e=vm(Sf(_p,"comments"),km("createdAt","desc")),n=await Um(e),r=[];for(const t of n.docs){const e={id:t.id,...t.data()};if(e.userId){const n=await Mm(t(_p,"users",e.userId));n.exists()&&(e.user=n.data())}if(e.videoId){const n=await Mm(t(_p,"videos",e.videoId));n.exists()&&(e.video=n.data())}r.push(e)}t(r)}catch(o){console.error("Error fetching comments:",o),l("An error occurred while fetching comments.")}finally{r(!1)}})()}),[]);const d=e=>{if(!e)return"Not specified";return Gx(e.toDate?e.toDate():new Date(e),"dd MMMM yyyy HH:mm",{locale:Ig})},h=e.filter((e=>{var t,n,r,s,a;const o=i.toLowerCase();return(null===(t=e.content)||void 0===t?void 0:t.toLowerCase().includes(o))||(null===(n=e.user)||void 0===n||null===(r=n.displayName)||void 0===r?void 0:r.toLowerCase().includes(o))||(null===(s=e.video)||void 0===s||null===(a=s.title)||void 0===a?void 0:a.toLowerCase().includes(o))}));return(0,Sp.jsxs)("div",{children:[(0,Sp.jsx)("h1",{className:"text-2xl font-bold text-white mb-6",children:"Comment Management"}),o&&(0,Sp.jsx)("div",{className:"bg-red-500 bg-opacity-20 border border-red-500 text-red-500 px-4 py-3 rounded mb-4",children:o}),c&&(0,Sp.jsx)("div",{className:"bg-green-500 bg-opacity-20 border border-green-500 text-green-500 px-4 py-3 rounded mb-4",children:c}),(0,Sp.jsx)("div",{className:"mb-6",children:(0,Sp.jsxs)("div",{className:"relative",children:[(0,Sp.jsx)("input",{type:"text",placeholder:"Search comments... (content, username, video title)",className:"w-full py-2 pl-10 pr-4 bg-dark-800 border border-dark-600 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 text-white",value:i,onChange:e=>a(e.target.value)}),(0,Sp.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Sp.jsx)(rx,{className:"h-5 w-5 text-gray-400"})})]})}),n?(0,Sp.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,Sp.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"})}):0===h.length?(0,Sp.jsx)("div",{className:"bg-dark-700 rounded-lg p-8 text-center",children:(0,Sp.jsx)("p",{className:"text-gray-400",children:i?"No comments found matching your search criteria.":"No comments found."})}):(0,Sp.jsx)("div",{className:"space-y-4",children:h.map((n=>{var s,i,a;return(0,Sp.jsx)("div",{className:"bg-dark-700 rounded-lg overflow-hidden p-4",children:(0,Sp.jsxs)("div",{className:"flex items-start",children:[(0,Sp.jsx)("div",{className:"flex-shrink-0",children:null!==(s=n.user)&&void 0!==s&&s.photoURL?(0,Sp.jsx)("img",{src:n.user.photoURL,alt:n.user.displayName,className:"h-10 w-10 rounded-full"}):(0,Sp.jsx)(Ay,{className:"h-10 w-10 text-gray-400"})}),(0,Sp.jsxs)("div",{className:"ml-4 flex-grow",children:[(0,Sp.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Sp.jsxs)("div",{children:[(0,Sp.jsx)("span",{className:"text-white font-medium",children:(null===(i=n.user)||void 0===i?void 0:i.displayName)||"Anonymous User"}),(0,Sp.jsx)("span",{className:"text-gray-400 text-sm ml-2",children:(null===(a=n.user)||void 0===a?void 0:a.email)&&`(${n.user.email})`})]}),(0,Sp.jsxs)("div",{className:"flex items-center text-gray-400 text-sm",children:[(0,Sp.jsx)(Pg,{className:"h-4 w-4 mr-1"}),d(n.createdAt)]})]}),(0,Sp.jsx)("div",{className:"mt-2 text-gray-300",children:n.content}),n.video&&(0,Sp.jsxs)("div",{className:"mt-3 flex items-center bg-dark-800 p-2 rounded",children:[(0,Sp.jsx)("div",{className:"flex-shrink-0 h-12 w-16 relative",children:n.video.thumbnailUrl?(0,Sp.jsx)("img",{src:n.video.thumbnailUrl,alt:n.video.title,className:"h-full w-full object-cover rounded"}):(0,Sp.jsx)("div",{className:"h-full w-full bg-dark-600 rounded flex items-center justify-center",children:(0,Sp.jsx)(Jx,{className:"h-6 w-6 text-gray-500"})})}),(0,Sp.jsxs)("div",{className:"ml-3",children:[(0,Sp.jsx)("div",{className:"text-sm text-white font-medium",children:n.video.title||"Video Title Not Available"}),(0,Sp.jsxs)("div",{className:"text-xs text-gray-400",children:["Video ID: ",n.videoId.substring(0,8),"..."]})]})]}),!n.video&&n.videoId&&(0,Sp.jsxs)("div",{className:"mt-3 flex items-center bg-dark-800 p-2 rounded",children:[(0,Sp.jsx)(_y,{className:"h-5 w-5 text-yellow-500 mr-2"}),(0,Sp.jsxs)("div",{className:"text-sm text-gray-400",children:["Video Not Found (ID: ",n.videoId.substring(0,8),"...)"]})]})]}),(0,Sp.jsx)("div",{className:"ml-4 flex-shrink-0",children:(0,Sp.jsx)("button",{onClick:()=>(async n=>{if(window.confirm("Are you sure you want to delete this comment?")){r(!0);try{await Bm(jf(_p,"comments",n)),t(e.filter((e=>e.id!==n))),u("Comment deleted successfully.")}catch(o){console.error("Error deleting comment:",o),l("An error occurred while deleting the comment.")}finally{r(!1)}}})(n.id),className:"text-red-500 hover:text-red-400",title:"Delete Comment",children:(0,Sp.jsx)(Dy,{className:"h-5 w-5"})})})]})},n.id)}))})]})},eb=()=>{const[e,t]=(0,s.useState)([]),[n,r]=(0,s.useState)(!0),[i,a]=(0,s.useState)(""),[o,l]=(0,s.useState)(null),[c,u]=(0,s.useState)(""),[d,h]=(0,s.useState)(""),[f,m]=(0,s.useState)(""),[p,g]=(0,s.useState)(""),[v,y]=(0,s.useState)("all");(0,s.useEffect)((()=>{(async()=>{r(!0);try{const e=vm(Sf(_p,"categories"),km("name","asc")),n=(await Um(e)).docs.map((e=>({id:e.id,...e.data()})));t(n)}catch(f){console.error("Kategoriler getirilirken hata olu\u015ftu:",f),m("Kategoriler getirilirken bir hata olu\u015ftu.")}finally{r(!1)}})()}),[]);const x=()=>{l(null),u("")},b=e.filter((e=>{const t=d.toLowerCase(),n=e.name||"",r=n.toLowerCase().includes(t);return"all"===v?r:"#"===v?r&&/^[0-9]/.test(n):r&&n.charAt(0).toUpperCase()===v}));return(0,Sp.jsxs)("div",{children:[(0,Sp.jsx)("h1",{className:"text-2xl font-bold text-white mb-6",children:"Category Management"}),f&&(0,Sp.jsx)("div",{className:"bg-red-500 bg-opacity-20 border border-red-500 text-red-500 px-4 py-3 rounded mb-4",children:f}),p&&(0,Sp.jsx)("div",{className:"bg-green-500 bg-opacity-20 border border-green-500 text-green-500 px-4 py-3 rounded mb-4",children:p}),(0,Sp.jsxs)("div",{className:"bg-dark-700 p-4 rounded-lg mb-6",children:[(0,Sp.jsx)("h2",{className:"text-lg font-medium text-white mb-4",children:"Add New Category"}),(0,Sp.jsxs)("form",{onSubmit:async n=>{if(n.preventDefault(),!i.trim())return void m("Category name cannot be empty.");if(e.some((e=>e.name.toLowerCase()===i.toLowerCase())))m("A category with this name already exists.");else{r(!0);try{const n={name:i.trim(),slug:i.trim().toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,""),createdAt:Km(),updatedAt:Km()},r=await $m(Sf(_p,"categories"),n);t([...e,{id:r.id,...n}]),a(""),g("Category added successfully."),m("")}catch(f){console.error("Error adding category:",f),m("An error occurred while adding the category.")}finally{r(!1)}}},className:"flex gap-2",children:[(0,Sp.jsx)("input",{type:"text",placeholder:"Category name",className:"flex-1 py-2 px-4 bg-dark-800 border border-dark-600 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 text-white",value:i,onChange:e=>a(e.target.value),disabled:n}),(0,Sp.jsxs)("button",{type:"submit",className:"bg-primary-500 hover:bg-primary-600 text-white py-2 px-4 rounded-md flex items-center",disabled:n,children:[(0,Sp.jsx)(lx,{className:"h-5 w-5 mr-1"}),"Add"]})]})]}),(0,Sp.jsxs)("div",{className:"flex flex-wrap gap-2 mb-4 bg-dark-700 p-4 rounded-lg",children:[(0,Sp.jsx)("button",{onClick:()=>y("all"),className:"px-3 py-1 rounded "+("all"===v?"bg-primary-500 text-white":"bg-dark-600 text-gray-300 hover:bg-dark-500"),children:"All"}),["#","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"].map((e=>(0,Sp.jsx)("button",{onClick:()=>y(e),className:"px-3 py-1 rounded "+(v===e?"bg-primary-500 text-white":"bg-dark-600 text-gray-300 hover:bg-dark-500"),children:e},e)))]}),(0,Sp.jsxs)("div",{className:"relative mb-6",children:[(0,Sp.jsx)("input",{type:"text",placeholder:"Search categories...",className:"w-full py-2 pl-10 pr-4 bg-dark-800 border border-dark-600 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 text-white",value:d,onChange:e=>h(e.target.value)}),(0,Sp.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Sp.jsx)(rx,{className:"h-5 w-5 text-gray-400"})})]}),n&&0===e.length?(0,Sp.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,Sp.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"})}):0===b.length?(0,Sp.jsx)("div",{className:"bg-dark-700 rounded-lg p-8 text-center",children:(0,Sp.jsx)("p",{className:"text-gray-400",children:d?"No categories found matching your search criteria.":"No categories found."})}):(0,Sp.jsx)("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:b.map((s=>(0,Sp.jsxs)("div",{className:"bg-dark-700 rounded-lg p-4 flex flex-col",children:[(0,Sp.jsx)("div",{className:"flex items-center justify-between mb-2",children:o===s.id?(0,Sp.jsx)("input",{type:"text",value:c,onChange:e=>u(e.target.value),className:"flex-1 py-1 px-2 bg-dark-800 border border-dark-600 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 text-white text-sm",autoFocus:!0}):(0,Sp.jsx)("h3",{className:"text-white font-medium",children:s.name})}),(0,Sp.jsx)("div",{className:"flex items-center justify-end gap-2 mt-auto",children:o===s.id?(0,Sp.jsxs)(Sp.Fragment,{children:[(0,Sp.jsx)("button",{onClick:()=>(async n=>{if(!c.trim())return void m("Kategori ad\u0131 bo\u015f olamaz.");if(e.some((e=>e.id!==n&&e.name.toLowerCase()===c.toLowerCase())))m("Bu isimde bir kategori zaten mevcut.");else{r(!0);try{const r=jf(_p,"categories",n),s={name:c.trim(),slug:c.trim().toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,""),updatedAt:Km()};await zm(r,s),t(e.map((e=>e.id===n?{...e,...s}:e))),l(null),u(""),g("Kategori ba\u015far\u0131yla g\xfcncellendi."),m("")}catch(f){console.error("Kategori g\xfcncellenirken hata olu\u015ftu:",f),m("Kategori g\xfcncellenirken bir hata olu\u015ftu.")}finally{r(!1)}}})(s.id),className:"p-2 text-green-500 hover:text-green-400 transition-colors",disabled:n,children:(0,Sp.jsx)(ux,{className:"h-5 w-5"})}),(0,Sp.jsx)("button",{onClick:x,className:"p-2 text-red-500 hover:text-red-400 transition-colors",disabled:n,children:(0,Sp.jsx)(Oy,{className:"h-5 w-5"})})]}):(0,Sp.jsxs)(Sp.Fragment,{children:[(0,Sp.jsx)("button",{onClick:()=>(e=>{l(e.id),u(e.name)})(s),className:"p-2 text-blue-500 hover:text-blue-400 transition-colors",disabled:n,children:(0,Sp.jsx)(ix,{className:"h-5 w-5"})}),(0,Sp.jsx)("button",{onClick:()=>(async n=>{if(window.confirm("Bu kategoriyi silmek istedi\u011finizden emin misiniz?")){r(!0);try{await Bm(jf(_p,"categories",n)),t(e.filter((e=>e.id!==n))),g("Kategori ba\u015far\u0131yla silindi."),m("")}catch(f){console.error("Kategori silinirken hata olu\u015ftu:",f),m("Kategori silinirken bir hata olu\u015ftu.")}finally{r(!1)}}})(s.id),className:"p-2 text-red-500 hover:text-red-400 transition-colors",disabled:n,children:(0,Sp.jsx)(Dy,{className:"h-5 w-5"})})]})})]},s.id)))})]})},tb=()=>{const[e,t]=(0,s.useState)([]),[n,r]=(0,s.useState)(!0),[i,a]=(0,s.useState)(""),[o,l]=(0,s.useState)(null),[c,u]=(0,s.useState)(""),[d,h]=(0,s.useState)(""),[f,m]=(0,s.useState)(""),[p,g]=(0,s.useState)(""),[v,y]=(0,s.useState)("all");(0,s.useEffect)((()=>{(async()=>{r(!0);try{const e=vm(Sf(_p,"pornstars"),km("name","asc")),n=(await Um(e)).docs.map((e=>({id:e.id,...e.data()})));t(n)}catch(f){console.error("Error fetching pornstars:",f),m("Error fetching pornstars.")}finally{r(!1)}})()}),[]);const x=()=>{l(null),u("")},b=e.filter((e=>{const t=d.toLowerCase(),n=e.name||"",r=n.toLowerCase().includes(t);return"all"===v?r:"#"===v?r&&/^[0-9]/.test(n):r&&n.charAt(0).toUpperCase()===v}));return(0,Sp.jsxs)("div",{children:[(0,Sp.jsx)("h1",{className:"text-2xl font-bold text-white mb-6",children:"Pornstar Management"}),f&&(0,Sp.jsx)("div",{className:"bg-red-500 bg-opacity-20 border border-red-500 text-red-500 px-4 py-3 rounded mb-4",children:f}),p&&(0,Sp.jsx)("div",{className:"bg-green-500 bg-opacity-20 border border-green-500 text-green-500 px-4 py-3 rounded mb-4",children:p}),(0,Sp.jsxs)("div",{className:"bg-dark-700 p-4 rounded-lg mb-6",children:[(0,Sp.jsx)("h2",{className:"text-lg font-medium text-white mb-4",children:"Add New Pornstar"}),(0,Sp.jsxs)("form",{onSubmit:async n=>{if(n.preventDefault(),!i.trim())return void m("Pornstar name cannot be empty.");if(e.some((e=>e.name.toLowerCase()===i.toLowerCase())))m("A pornstar with this name already exists.");else{r(!0);try{const n={name:i.trim(),slug:i.trim().toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,""),createdAt:Km(),updatedAt:Km()},r=await $m(Sf(_p,"pornstars"),n);t([...e,{id:r.id,...n}]),a(""),g("Pornstar added successfully."),m("")}catch(f){console.error("Error adding pornstar:",f),m("An error occurred while adding the pornstar.")}finally{r(!1)}}},className:"flex gap-2",children:[(0,Sp.jsx)("input",{type:"text",placeholder:"Pornstar name",className:"flex-1 py-2 px-4 bg-dark-800 border border-dark-600 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 text-white",value:i,onChange:e=>a(e.target.value),disabled:n}),(0,Sp.jsxs)("button",{type:"submit",className:"bg-primary-500 hover:bg-primary-600 text-white py-2 px-4 rounded-md flex items-center",disabled:n,children:[(0,Sp.jsx)(lx,{className:"h-5 w-5 mr-1"}),"Add"]})]})]}),(0,Sp.jsxs)("div",{className:"flex flex-wrap gap-2 mb-4 bg-dark-700 p-4 rounded-lg",children:[(0,Sp.jsx)("button",{onClick:()=>y("all"),className:"px-3 py-1 rounded "+("all"===v?"bg-primary-500 text-white":"bg-dark-600 text-gray-300 hover:bg-dark-500"),children:"All"}),["#","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"].map((e=>(0,Sp.jsx)("button",{onClick:()=>y(e),className:"px-3 py-1 rounded "+(v===e?"bg-primary-500 text-white":"bg-dark-600 text-gray-300 hover:bg-dark-500"),children:e},e)))]}),(0,Sp.jsxs)("div",{className:"relative mb-6",children:[(0,Sp.jsx)("input",{type:"text",placeholder:"Search pornstars...",className:"w-full py-2 pl-10 pr-4 bg-dark-800 border border-dark-600 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 text-white",value:d,onChange:e=>h(e.target.value)}),(0,Sp.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Sp.jsx)(rx,{className:"h-5 w-5 text-gray-400"})})]}),n&&0===e.length?(0,Sp.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,Sp.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"})}):0===b.length?(0,Sp.jsx)("div",{className:"bg-dark-700 rounded-lg p-8 text-center",children:(0,Sp.jsx)("p",{className:"text-gray-400",children:d?"No pornstars found matching your search criteria.":"No pornstars found."})}):(0,Sp.jsx)("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:b.map((s=>(0,Sp.jsxs)("div",{className:"bg-dark-700 rounded-lg p-4 flex flex-col",children:[(0,Sp.jsx)("div",{className:"flex items-center justify-between mb-2",children:o===s.id?(0,Sp.jsx)("input",{type:"text",value:c,onChange:e=>u(e.target.value),className:"flex-1 py-1 px-2 bg-dark-800 border border-dark-600 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 text-white text-sm",autoFocus:!0}):(0,Sp.jsx)("h3",{className:"text-white font-medium",children:s.name})}),(0,Sp.jsx)("div",{className:"flex items-center justify-end gap-2 mt-auto",children:o===s.id?(0,Sp.jsxs)(Sp.Fragment,{children:[(0,Sp.jsx)("button",{onClick:()=>(async n=>{if(!c.trim())return void m("Pornstar name cannot be empty.");if(e.some((e=>e.id!==n&&e.name.toLowerCase()===c.toLowerCase())))m("A pornstar with this name already exists.");else{r(!0);try{const r=jf(_p,"pornstars",n),s={name:c.trim(),slug:c.trim().toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,""),updatedAt:Km()};await zm(r,s),t(e.map((e=>e.id===n?{...e,...s}:e))),l(null),u(""),g("Pornstar updated successfully."),m("")}catch(f){console.error("Error updating pornstar:",f),m("An error occurred while updating the pornstar.")}finally{r(!1)}}})(s.id),className:"p-2 text-green-500 hover:text-green-400 transition-colors",disabled:n,children:(0,Sp.jsx)(ux,{className:"h-5 w-5"})}),(0,Sp.jsx)("button",{onClick:x,className:"p-2 text-red-500 hover:text-red-400 transition-colors",disabled:n,children:(0,Sp.jsx)(Oy,{className:"h-5 w-5"})})]}):(0,Sp.jsxs)(Sp.Fragment,{children:[(0,Sp.jsx)("button",{onClick:()=>(e=>{l(e.id),u(e.name)})(s),className:"p-2 text-blue-500 hover:text-blue-400 transition-colors",disabled:n,children:(0,Sp.jsx)(ix,{className:"h-5 w-5"})}),(0,Sp.jsx)("button",{onClick:()=>(async n=>{if(window.confirm("Are you sure you want to delete this pornstar?")){r(!0);try{await Bm(jf(_p,"pornstars",n)),t(e.filter((e=>e.id!==n))),g("Pornstar deleted successfully."),m("")}catch(f){console.error("Error deleting pornstar:",f),m("An error occurred while deleting the pornstar.")}finally{r(!1)}}})(s.id),className:"p-2 text-red-500 hover:text-red-400 transition-colors",disabled:n,children:(0,Sp.jsx)(Dy,{className:"h-5 w-5"})})]})})]},s.id)))})]})};function nb(e,t){let{title:n,titleId:r,...i}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const rb=s.forwardRef(nb);function sb(e,t){let{title:n,titleId:r,...i}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"}))}const ib=s.forwardRef(sb),ab=()=>{const e=J(),[t,n]=(0,s.useState)([]),[r,i]=(0,s.useState)(!0),[a,o]=(0,s.useState)(""),[l,c]=(0,s.useState)(""),[u,d]=(0,s.useState)(1),[h,f]=(0,s.useState)(null),[m,p]=(0,s.useState)({title:"",companyName:"",link:"",position:"",adType:"",active:!0,imageUrl:"",imageType:"",imageName:"",skipAfter:5}),[g,v]=(0,s.useState)(null),[y,x]=(0,s.useState)("");(0,s.useEffect)((()=>{var t;null!==(t=e.state)&&void 0!==t&&t.success&&(c(e.state.success),window.history.replaceState({},document.title))}),[e]),(0,s.useEffect)((()=>{(async()=>{i(!0);try{const e=vm(Sf(_p,"advertisements"),km("createdAt","desc")),t=(await Um(e)).docs.map((e=>({id:e.id,...e.data()})));n(t)}catch(a){console.error("Error fetching advertisements:",a),o("An error occurred while fetching advertisements.")}finally{i(!1)}})()}),[]);const b=e=>{const t=e.target.files[0];if(t){v(t);const e=new FileReader;e.onloadend=()=>{x(e.result)},e.readAsDataURL(t)}},w=async e=>{if(e.preventDefault(),m.title.trim()&&m.companyName.trim()&&m.link.trim()){i(!0);try{let e=m.imageUrl,r=m.imageType||"",s=m.imageName||"";if(g){const t=new FileReader;e=await new Promise(((e,n)=>{t.onload=()=>e(t.result),t.onerror=e=>n(e),t.readAsDataURL(g)})),r=g.type,s=g.name}const i={title:m.title,companyName:m.companyName,link:m.link,position:m.position,adType:m.adType,active:m.active,imageUrl:e,imageType:r,imageName:s,updatedAt:new Date};await zm(jf(_p,"advertisements",h),i),n(t.map((e=>e.id===h?{...e,...i}:e))),f(null),v(null),x(""),c("Advertisement updated successfully.")}catch(a){console.error("Error updating advertisement:",a),o("An error occurred while updating the advertisement.")}finally{i(!1)}}else o("Please fill in all required fields.")},k=Math.ceil(t.length/10),N=10*u,E=N-10,_=t.slice(E,N);return(0,Sp.jsxs)("div",{children:[(0,Sp.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Sp.jsx)("h1",{className:"text-2xl font-bold text-white",children:"Advertisement Management"}),(0,Sp.jsxs)(Gp,{to:"/admin/add-advertisement",className:"btn btn-primary flex items-center",children:[(0,Sp.jsx)(lx,{className:"h-5 w-5 mr-2"}),"Add New Advertisement"]})]}),a&&(0,Sp.jsx)("div",{className:"bg-red-500 bg-opacity-20 border border-red-500 text-red-500 px-4 py-3 rounded mb-4",children:a}),l&&(0,Sp.jsx)("div",{className:"bg-green-500 bg-opacity-20 border border-green-500 text-green-500 px-4 py-3 rounded mb-4",children:l}),r&&!h?(0,Sp.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,Sp.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"})}):t.length>0?(0,Sp.jsxs)("div",{className:"bg-dark-700 rounded-lg overflow-hidden",children:[(0,Sp.jsx)("div",{className:"overflow-x-auto",children:(0,Sp.jsxs)("table",{className:"min-w-full divide-y divide-dark-600",children:[(0,Sp.jsx)("thead",{className:"bg-dark-800",children:(0,Sp.jsxs)("tr",{children:[(0,Sp.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Thumbnail"}),(0,Sp.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Company Name"}),(0,Sp.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Video"}),(0,Sp.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Image"}),(0,Sp.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Gif"}),(0,Sp.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Action"})]})}),(0,Sp.jsx)("tbody",{className:"divide-y divide-dark-600",children:_.map((e=>(0,Sp.jsx)("tr",{className:"hover:bg-dark-600",children:h===e.id?(0,Sp.jsx)("td",{colSpan:"6",className:"px-6 py-4",children:(0,Sp.jsxs)("form",{onSubmit:w,children:[(0,Sp.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[(0,Sp.jsxs)("div",{children:[(0,Sp.jsx)("label",{className:"block text-gray-400 mb-2",children:"Advertisement Title"}),(0,Sp.jsx)("input",{type:"text",className:"input w-full",value:m.title,onChange:e=>p({...m,title:e.target.value}),required:!0})]}),(0,Sp.jsxs)("div",{children:[(0,Sp.jsx)("label",{className:"block text-gray-400 mb-2",children:"Company Name"}),(0,Sp.jsx)("input",{type:"text",className:"input w-full",value:m.companyName,onChange:e=>p({...m,companyName:e.target.value}),required:!0})]}),(0,Sp.jsxs)("div",{children:[(0,Sp.jsx)("label",{className:"block text-gray-400 mb-2",children:"Advertisement Link"}),(0,Sp.jsx)("input",{type:"url",className:"input w-full",value:m.link,onChange:e=>p({...m,link:e.target.value}),required:!0})]}),(0,Sp.jsxs)("div",{children:[(0,Sp.jsx)("label",{className:"block text-gray-400 mb-2",children:"Advertisement Type"}),(0,Sp.jsxs)("select",{className:"input w-full",value:m.adType,onChange:e=>p({...m,adType:e.target.value}),children:[(0,Sp.jsx)("option",{value:"image",children:"Image"}),(0,Sp.jsx)("option",{value:"video",children:"Video"}),(0,Sp.jsx)("option",{value:"gif",children:"GIF"})]})]}),"video"===m.adType&&(0,Sp.jsxs)("div",{children:[(0,Sp.jsx)("label",{className:"block text-gray-400 mb-2",children:"Skip After (seconds)"}),(0,Sp.jsxs)("select",{className:"input w-full",value:m.skipAfter,onChange:e=>p({...m,skipAfter:parseInt(e.target.value)}),children:[(0,Sp.jsx)("option",{value:"0",children:"Cannot Skip"}),(0,Sp.jsx)("option",{value:"5",children:"5 seconds"}),(0,Sp.jsx)("option",{value:"10",children:"10 seconds"}),(0,Sp.jsx)("option",{value:"15",children:"15 seconds"}),(0,Sp.jsx)("option",{value:"30",children:"30 seconds"}),(0,Sp.jsx)("option",{value:"-1",children:"End of Ad"})]}),(0,Sp.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:0===m.skipAfter?"Users cannot skip this ad":-1===m.skipAfter?"Users can skip only after the ad ends":`Users can skip after ${m.skipAfter} seconds`})]}),(0,Sp.jsxs)("div",{children:[(0,Sp.jsx)("label",{className:"block text-gray-400 mb-2",children:"Position"}),(0,Sp.jsxs)("select",{className:"input w-full",value:m.position,onChange:e=>p({...m,position:e.target.value}),children:[(0,Sp.jsx)("option",{value:"sidebar",children:"Sidebar"}),(0,Sp.jsx)("option",{value:"header",children:"Header"}),(0,Sp.jsx)("option",{value:"footer",children:"Footer"}),(0,Sp.jsx)("option",{value:"left",children:"Left"}),(0,Sp.jsx)("option",{value:"right",children:"Right"}),(0,Sp.jsx)("option",{value:"video-before",children:"Before Video"}),(0,Sp.jsx)("option",{value:"video-after",children:"After Video"})]})]}),(0,Sp.jsxs)("div",{children:[(0,Sp.jsx)("label",{className:"block text-gray-400 mb-2",children:"Status"}),(0,Sp.jsxs)("select",{className:"input w-full",value:m.active,onChange:e=>p({...m,active:"true"===e.target.value}),children:[(0,Sp.jsx)("option",{value:"true",children:"Active"}),(0,Sp.jsx)("option",{value:"false",children:"Inactive"})]})]})]}),(0,Sp.jsxs)("div",{className:"mb-4",children:[(0,Sp.jsx)("label",{className:"block text-gray-400 mb-2",children:"Advertisement Image"}),(0,Sp.jsxs)("div",{className:"flex items-center",children:[(0,Sp.jsxs)("label",{className:"cursor-pointer bg-dark-600 hover:bg-dark-500 text-white py-2 px-4 rounded flex items-center",children:[(0,Sp.jsx)(rb,{className:"h-5 w-5 mr-2"}),"Change Image",(0,Sp.jsx)("input",{type:"file",className:"hidden",accept:"video"===m.adType?"video/*":"gif"===m.adType?"image/gif":"image/*",onChange:b})]}),(0,Sp.jsx)("div",{className:"ml-4",children:(0,Sp.jsx)("img",{src:y||m.imageUrl,alt:"Preview",className:"h-16 rounded"})})]})]}),(0,Sp.jsxs)("div",{className:"flex space-x-2",children:[(0,Sp.jsxs)("button",{type:"submit",className:"btn btn-primary flex items-center",disabled:r,children:[r?(0,Sp.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-t-2 border-b-2 border-white mr-2"}):(0,Sp.jsx)(ix,{className:"h-5 w-5 mr-2"}),"Update"]}),(0,Sp.jsxs)("button",{type:"button",className:"btn btn-secondary flex items-center",onClick:()=>f(null),children:[(0,Sp.jsx)(Oy,{className:"h-5 w-5 mr-2"}),"Cancel"]})]})]})}):(0,Sp.jsxs)(Sp.Fragment,{children:[(0,Sp.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:"video"===e.adType?(0,Sp.jsx)("video",{src:e.imageUrl,className:"h-12 w-16 object-cover rounded",controls:!0}):(0,Sp.jsx)("img",{src:e.imageUrl,alt:e.title,className:"h-12 w-16 object-cover rounded"})}),(0,Sp.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,Sp.jsx)("div",{className:"text-sm text-white",children:e.companyName||"N/A"}),(0,Sp.jsx)("div",{className:"text-xs text-gray-400 flex items-center",children:(0,Sp.jsxs)("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary-500 flex items-center",children:[e.link.substring(0,20),"...",(0,Sp.jsx)(ib,{className:"h-3 w-3 ml-1"})]})})]}),(0,Sp.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:"video"===e.adType?(0,Sp.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-500 bg-opacity-20 text-blue-500",children:"\u2713"}):(0,Sp.jsx)("span",{className:"text-gray-500",children:"-"})}),(0,Sp.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:"image"===e.adType?(0,Sp.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-500 bg-opacity-20 text-green-500",children:"\u2713"}):(0,Sp.jsx)("span",{className:"text-gray-500",children:"-"})}),(0,Sp.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:"gif"===e.adType?(0,Sp.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-purple-500 bg-opacity-20 text-purple-500",children:"\u2713"}):(0,Sp.jsx)("span",{className:"text-gray-500",children:"-"})}),(0,Sp.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-right",children:[(0,Sp.jsx)("button",{onClick:()=>(e=>{f(e.id),p({title:e.title,companyName:e.companyName||"",link:e.link,position:e.position,adType:e.adType||"image",active:e.active,imageUrl:e.imageUrl,imageType:e.imageType||"",imageName:e.imageName||"",skipAfter:e.skipAfter||5}),x(""),v(null)})(e),className:"text-primary-500 hover:text-primary-400 mr-3",title:"Edit",children:(0,Sp.jsx)(ix,{className:"h-5 w-5"})}),(0,Sp.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this advertisement?")){i(!0);try{await Bm(jf(_p,"advertisements",e)),n(t.filter((t=>t.id!==e))),c("Advertisement deleted successfully.")}catch(a){console.error("Error deleting advertisement:",a),o("An error occurred while deleting the advertisement.")}finally{i(!1)}}})(e.id),className:"text-red-500 hover:text-red-400",title:"Delete",children:(0,Sp.jsx)(Dy,{className:"h-5 w-5"})})]})]})},e.id)))})]})}),(0,Sp.jsxs)("div",{className:"bg-dark-800 px-4 py-3 flex items-center justify-between border-t border-dark-600",children:[(0,Sp.jsxs)("div",{className:"text-sm text-gray-400",children:["Showing ",E+1,"-",Math.min(N,t.length)," of ",t.length]}),(0,Sp.jsxs)("div",{className:"flex space-x-2",children:[(0,Sp.jsx)("button",{onClick:()=>{d((e=>Math.max(e-1,1)))},disabled:1===u,className:"px-3 py-1 rounded "+(1===u?"bg-dark-600 text-gray-500 cursor-not-allowed":"bg-dark-600 text-white hover:bg-dark-500"),children:"<"}),(0,Sp.jsx)("button",{onClick:()=>{d((e=>Math.min(e+1,k)))},disabled:u===k,className:"px-3 py-1 rounded "+(u===k?"bg-dark-600 text-gray-500 cursor-not-allowed":"bg-dark-600 text-white hover:bg-dark-500"),children:">"})]})]})]}):(0,Sp.jsx)("div",{className:"bg-dark-700 rounded-lg p-8 text-center",children:(0,Sp.jsx)("p",{className:"text-gray-400",children:"No advertisements found. Create your first advertisement!"})})]})},ob=()=>{const e=ee(),[t,n]=(0,s.useState)(!1),[r,i]=(0,s.useState)(""),[a,o]=(0,s.useState)({title:"",companyName:"",link:"",position:"sidebar",adType:"image",active:!0,skipAfter:5}),[l,c]=(0,s.useState)(null),[u,d]=(0,s.useState)(""),[h,f]=(0,s.useState)("300x600px"),m={sidebar:"300x600px",header:"728x90px",footer:"728x90px",left:"160x600px",right:"160x600px","video-before":"728x90px","video-after":"728x90px"};(0,s.useEffect)((()=>{f(m[a.position]||"300x600px")}),[a.position]);return(0,Sp.jsxs)("div",{children:[(0,Sp.jsxs)("div",{className:"flex items-center mb-6",children:[(0,Sp.jsx)("button",{onClick:()=>e("/admin/advertisements"),className:"mr-4 text-gray-400 hover:text-white",children:(0,Sp.jsx)(qy,{className:"h-5 w-5"})}),(0,Sp.jsx)("h1",{className:"text-2xl font-bold text-white",children:"Create New Advertisement"})]}),r&&(0,Sp.jsx)("div",{className:"bg-red-500 bg-opacity-20 border border-red-500 text-red-500 px-4 py-3 rounded mb-4",children:r}),(0,Sp.jsx)("div",{className:"bg-dark-700 rounded-lg p-6",children:(0,Sp.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),a.title.trim()&&a.companyName.trim()&&a.link.trim()&&l){n(!0);try{console.log("Processing image...");const t=new FileReader,n=await new Promise(((e,n)=>{t.onload=()=>e(t.result),t.onerror=e=>n(e),t.readAsDataURL(l)}));console.log("Image converted to Base64");const r={...a,imageUrl:n,imageType:l.type,imageName:l.name,createdAt:new Date,updatedAt:new Date};console.log("Adding document to Firestore with Base64 image");const s=await $m(Sf(_p,"advertisements"),r);console.log("Document added with ID:",s.id),e("/admin/advertisements",{state:{success:"Advertisement created successfully."}})}catch(r){console.error("Error creating advertisement:",r),i(`An error occurred: ${r.message||"Unknown error"}`)}finally{n(!1)}}else i("Please fill in all required fields and select an image.")},children:[(0,Sp.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,Sp.jsxs)("div",{children:[(0,Sp.jsx)("h2",{className:"text-xl font-semibold text-white mb-4",children:"Advertisement Details"}),(0,Sp.jsxs)("div",{className:"space-y-4",children:[(0,Sp.jsxs)("div",{children:[(0,Sp.jsx)("label",{className:"block text-gray-400 mb-2",children:"Advertisement Title*"}),(0,Sp.jsx)("input",{type:"text",className:"input w-full",value:a.title,onChange:e=>o({...a,title:e.target.value}),required:!0,placeholder:"Enter advertisement title"})]}),(0,Sp.jsxs)("div",{children:[(0,Sp.jsx)("label",{className:"block text-gray-400 mb-2",children:"Company Name*"}),(0,Sp.jsx)("input",{type:"text",className:"input w-full",value:a.companyName,onChange:e=>o({...a,companyName:e.target.value}),required:!0,placeholder:"Enter company name"})]}),(0,Sp.jsxs)("div",{children:[(0,Sp.jsx)("label",{className:"block text-gray-400 mb-2",children:"Advertisement Link*"}),(0,Sp.jsx)("input",{type:"url",className:"input w-full",value:a.link,onChange:e=>o({...a,link:e.target.value}),required:!0,placeholder:"https://example.com"})]})]})]}),(0,Sp.jsxs)("div",{children:[(0,Sp.jsx)("h2",{className:"text-xl font-semibold text-white mb-4",children:"Media & Settings"}),(0,Sp.jsxs)("div",{className:"space-y-4",children:[(0,Sp.jsxs)("div",{children:[(0,Sp.jsx)("label",{className:"block text-gray-400 mb-2",children:"Advertisement Type"}),(0,Sp.jsxs)("select",{className:"input w-full",value:a.adType,onChange:e=>o({...a,adType:e.target.value}),children:[(0,Sp.jsx)("option",{value:"image",children:"Image"}),(0,Sp.jsx)("option",{value:"video",children:"Video"}),(0,Sp.jsx)("option",{value:"gif",children:"GIF"})]})]}),(0,Sp.jsxs)("div",{children:[(0,Sp.jsx)("label",{className:"block text-gray-400 mb-2",children:"Position"}),(0,Sp.jsxs)("select",{className:"input w-full",value:a.position,onChange:e=>o({...a,position:e.target.value}),children:[(0,Sp.jsx)("option",{value:"sidebar",children:"Sidebar (300x600px)"}),(0,Sp.jsx)("option",{value:"header",children:"Header (728x90px)"}),(0,Sp.jsx)("option",{value:"footer",children:"Footer (728x90px)"}),(0,Sp.jsx)("option",{value:"left",children:"Left (160x600px)"}),(0,Sp.jsx)("option",{value:"right",children:"Right (160x600px)"}),(0,Sp.jsx)("option",{value:"video-before",children:"Before Video (728x90px)"}),(0,Sp.jsx)("option",{value:"video-after",children:"After Video (728x90px)"})]})]}),"video"===a.adType&&(0,Sp.jsxs)("div",{children:[(0,Sp.jsx)("label",{className:"block text-gray-400 mb-2",children:"Skip After (seconds)"}),(0,Sp.jsxs)("select",{className:"input w-full",value:a.skipAfter,onChange:e=>o({...a,skipAfter:parseInt(e.target.value)}),children:[(0,Sp.jsx)("option",{value:"0",children:"Cannot Skip"}),(0,Sp.jsx)("option",{value:"5",children:"5 seconds"}),(0,Sp.jsx)("option",{value:"10",children:"10 seconds"}),(0,Sp.jsx)("option",{value:"15",children:"15 seconds"}),(0,Sp.jsx)("option",{value:"30",children:"30 seconds"}),(0,Sp.jsx)("option",{value:"-1",children:"End of Ad"})]}),(0,Sp.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:0===a.skipAfter?"Users cannot skip this ad":-1===a.skipAfter?"Users can skip only after the ad ends":`Users can skip after ${a.skipAfter} seconds`})]}),(0,Sp.jsxs)("div",{children:[(0,Sp.jsx)("label",{className:"block text-gray-400 mb-2",children:"Status"}),(0,Sp.jsxs)("select",{className:"input w-full",value:a.active,onChange:e=>o({...a,active:"true"===e.target.value}),children:[(0,Sp.jsx)("option",{value:"true",children:"Active"}),(0,Sp.jsx)("option",{value:"false",children:"Inactive"})]})]})]})]})]}),(0,Sp.jsxs)("div",{className:"mb-6",children:[(0,Sp.jsx)("label",{className:"block text-gray-400 mb-2",children:"Advertisement Media*"}),(0,Sp.jsxs)("div",{className:"flex flex-col md:flex-row items-start md:items-center",children:[(0,Sp.jsxs)("label",{className:"cursor-pointer bg-dark-600 hover:bg-dark-500 text-white py-2 px-4 rounded flex items-center mb-4 md:mb-0",children:[(0,Sp.jsx)(rb,{className:"h-5 w-5 mr-2"}),"video"===a.adType?"Select Video":"gif"===a.adType?"Select GIF":"Select Image",(0,Sp.jsx)("input",{type:"file",className:"hidden",accept:"video"===a.adType?"video/*":"gif"===a.adType?"image/gif":"image/*",onChange:e=>{const t=e.target.files[0];if(t){c(t);const e=new FileReader;e.onloadend=()=>{d(e.result)},e.readAsDataURL(t)}},required:!0})]}),u&&(0,Sp.jsx)("div",{className:"ml-0 md:ml-4 mt-4 md:mt-0",children:"video"===a.adType?(0,Sp.jsx)("video",{src:u,className:"h-32 rounded",controls:!0}):(0,Sp.jsx)("img",{src:u,alt:"Preview",className:"h-32 rounded"})})]}),(0,Sp.jsxs)("p",{className:"text-xs text-gray-500 mt-2",children:["Recommended size for ",a.position,": ",(0,Sp.jsx)("strong",{children:h}),"video"===a.adType?", Max duration: 30 seconds, Max size: 10MB":"gif"===a.adType?", Max size: 5MB":", Max size: 2MB"]})]}),(0,Sp.jsxs)("div",{className:"flex justify-end",children:[(0,Sp.jsx)("button",{type:"button",className:"btn btn-secondary mr-3",onClick:()=>e("/admin/advertisements"),children:"Cancel"}),(0,Sp.jsxs)("button",{type:"submit",className:"btn btn-primary flex items-center",disabled:t,children:[t?(0,Sp.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-t-2 border-b-2 border-white mr-2"}):(0,Sp.jsx)(lx,{className:"h-5 w-5 mr-2"}),"Create Advertisement"]})]})]})})]})};function lb(e,t){let{title:n,titleId:r,...i}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"}))}const cb=s.forwardRef(lb),ub=()=>{const{currentUser:e,logout:t,resetPassword:n}=Cp(),[r,i]=(0,s.useState)(!0),[a,o]=(0,s.useState)(null),[l,c]=(0,s.useState)(!1),[u,d]=(0,s.useState)(""),[h,f]=(0,s.useState)(""),{register:m,handleSubmit:p,formState:{errors:g},setValue:v}=(ee(),Ny());(0,s.useEffect)((()=>{(async()=>{i(!0);try{const t=await Mm(jf(_p,"admins",e.uid));t.exists()&&(o(t.data()),v("displayName",t.data().displayName||""))}catch(u){console.error("Error fetching admin data:",u),d("An error occurred while fetching admin data.")}finally{i(!1)}})()}),[e,v]);return r?(0,Sp.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,Sp.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"})}):(0,Sp.jsxs)("div",{children:[(0,Sp.jsx)("h1",{className:"text-2xl font-bold text-white mb-6",children:"Admin Profile"}),u&&(0,Sp.jsx)("div",{className:"bg-red-500 bg-opacity-20 border border-red-500 text-red-500 px-4 py-3 rounded mb-4",children:u}),h&&(0,Sp.jsx)("div",{className:"bg-green-500 bg-opacity-20 border border-green-500 text-green-500 px-4 py-3 rounded mb-4",children:h}),(0,Sp.jsxs)("div",{className:"bg-dark-700 rounded-lg overflow-hidden p-6",children:[(0,Sp.jsxs)("div",{className:"flex items-center mb-6",children:[(0,Sp.jsx)(Ay,{className:"w-16 h-16 text-gray-400 mr-4"}),(0,Sp.jsxs)("div",{children:[(0,Sp.jsx)("h2",{className:"text-xl font-semibold text-white",children:(null===a||void 0===a?void 0:a.displayName)||"Admin"}),(0,Sp.jsx)("p",{className:"text-gray-400",children:e.email}),(0,Sp.jsx)("p",{className:"text-primary-500 text-sm mt-1",children:"admin"===(null===a||void 0===a?void 0:a.role)?"Full Access Admin":"Advertising Manager"})]})]}),(0,Sp.jsxs)("form",{onSubmit:p((async t=>{d(""),f("");try{await zm(jf(_p,"admins",e.uid),{displayName:t.displayName}),f("Profile updated successfully.")}catch(u){console.error("Error updating profile:",u),d("An error occurred while updating the profile.")}})),children:[(0,Sp.jsxs)("div",{className:"mb-4",children:[(0,Sp.jsx)("label",{htmlFor:"displayName",className:"block text-gray-300 mb-2",children:"Admin Name"}),(0,Sp.jsx)("input",{id:"displayName",type:"text",className:"input",...m("displayName",{required:"Admin name is required",minLength:{value:3,message:"Admin name must be at least 3 characters"}})}),g.displayName&&(0,Sp.jsx)("p",{className:"text-red-500 text-sm mt-1",children:g.displayName.message})]}),(0,Sp.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[(0,Sp.jsx)("button",{type:"submit",className:"btn btn-primary mb-4 md:mb-0",children:"Update Profile"}),(0,Sp.jsx)("div",{className:"flex flex-col md:flex-row space-y-4 md:space-y-0 md:space-x-4",children:(0,Sp.jsxs)("button",{type:"button",onClick:async()=>{d(""),f(""),c(!1);try{await n(e.email),c(!0),f("Password reset link has been sent to your email.")}catch(u){console.error("Error sending password reset email:",u),d("An error occurred while sending password reset email.")}},className:"flex items-center justify-center btn btn-dark",children:[(0,Sp.jsx)(cb,{className:"w-5 h-5 mr-2"}),"Reset Password"]})})]})]})]})]})},db=()=>{const[e,t]=(0,s.useState)(""),[n,r]=(0,s.useState)(!1),[i,a]=(0,s.useState)(""),[o,l]=(0,s.useState)(""),[c,u]=(0,s.useState)(null),[d,h]=(0,s.useState)({categories:!0,actors:!0}),[f,m]=(0,s.useState)({title:"",description:"",categories:[],actors:[],iframeCode:"",thumbnailUrl:"",tags:[]}),[p,g]=(0,s.useState)(""),[v,y]=(0,s.useState)(""),x=(e,t)=>{const n={...f,[e]:t};m(n),u(n)},b=async e=>{const t="categories"===e?p.trim():v.trim();if(t)try{const n=f[e]||[];if(n.includes(t))return void a(`This ${"categories"===e?"category":"actor"} already exists!`);const r="categories"===e?"categories":"pornstars",s=Sf(_p,r),i=vm(s,xm("name","==",t)),o=await Um(i);let c;if(o.empty){c=(await $m(s,{name:t,videoCount:1,createdAt:new Date,updatedAt:new Date})).id}else c=o.docs[0].id,await zm(jf(_p,r,c),{videoCount:Ym(1),updatedAt:new Date});const d={...f,[e]:[...n,t]};m(d),u(d),"categories"===e?g(""):y(""),l(`${"categories"===e?"Category":"Actor"} "${t}" added successfully and saved to database!`)}catch(n){console.error(`Error adding ${e}:`,n),a(`Failed to add ${"categories"===e?"category":"actor"}: ${n.message}`)}},w=(e,t)=>{const n={...f,[e]:f[e].filter(((e,n)=>n!==t))};m(n),u(n)};return(0,Sp.jsxs)("div",{className:"bg-dark-800 rounded-lg p-6",children:[(0,Sp.jsx)("h1",{className:"text-2xl font-bold text-white mb-6",children:"Video Scraper"}),i&&(0,Sp.jsx)("div",{className:"bg-red-500 text-white p-4 rounded-md mb-6",children:i}),o&&(0,Sp.jsx)("div",{className:"bg-green-500 text-white p-4 rounded-md mb-6",children:o}),(0,Sp.jsxs)("div",{className:"mb-6",children:[(0,Sp.jsx)("label",{className:"block text-gray-400 mb-2",children:"Video URL"}),(0,Sp.jsxs)("div",{className:"flex gap-2",children:[(0,Sp.jsx)("input",{type:"text",className:"flex-grow py-2 px-3 bg-dark-700 border border-dark-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-white",value:e,onChange:e=>t(e.target.value),placeholder:"Enter video URL"}),(0,Sp.jsxs)("button",{onClick:async()=>{if(e){r(!0),a(""),l("");try{const t=await fetch(`http://localhost:3001/api/scrape?url=${encodeURIComponent(e)}`),n=await t.json();if(!t.ok)throw new Error(n.error||"Failed to scrape video");await(async()=>{try{const e=Sf(_p,"categories");return(await Um(e)).docs.map((e=>e.data().name))}catch(e){return console.error("Error loading categories:",e),[]}})(),await(async()=>{try{const e=Sf(_p,"pornstars");return(await Um(e)).docs.map((e=>e.data().name))}catch(e){return console.error("Error loading actors:",e),[]}})();const r={...n,categories:n.categories||[],actors:n.actors||[],tags:n.tags||[]};u(r),m(r),h({categories:!0,actors:!0}),l("Video information scraped successfully! You can now edit the information.")}catch(t){a(t.message||"Failed to scrape video")}finally{r(!1)}}else a("Please enter a URL")},disabled:n,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md flex items-center",children:[n?(0,Sp.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-t-2 border-b-2 border-white mr-2"}):(0,Sp.jsx)(Ug,{className:"h-5 w-5 mr-2"}),"Scrape"]})]})]}),f&&(0,Sp.jsxs)("div",{className:"bg-dark-700 rounded-lg p-4",children:[(0,Sp.jsx)("div",{className:"flex justify-between items-center mb-4",children:(0,Sp.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Video Information"})}),(0,Sp.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Sp.jsxs)("div",{children:[(0,Sp.jsx)("label",{className:"block text-gray-400 mb-1",children:"Title"}),(0,Sp.jsx)("input",{type:"text",className:"w-full py-2 px-3 bg-dark-600 border border-dark-500 rounded-md text-white",value:f.title,onChange:e=>x("title",e.target.value)})]}),(0,Sp.jsxs)("div",{children:[(0,Sp.jsx)("label",{className:"block text-gray-400 mb-1",children:"Description"}),(0,Sp.jsx)("textarea",{className:"w-full py-2 px-3 bg-dark-600 border border-dark-500 rounded-md text-white",value:f.description,onChange:e=>x("description",e.target.value),rows:"3"})]}),(0,Sp.jsxs)("div",{children:[(0,Sp.jsx)("div",{className:"flex justify-between items-center mb-1",children:(0,Sp.jsx)("label",{className:"text-gray-400",children:"Categories"})}),(0,Sp.jsx)("div",{className:"flex flex-wrap gap-2 mb-2",children:f.categories.map(((e,t)=>(0,Sp.jsxs)("span",{className:"bg-dark-600 text-white px-2 py-1 rounded flex items-center",children:[e,(0,Sp.jsx)("button",{onClick:()=>w("categories",t),className:"ml-1 text-red-500 hover:text-red-400",children:(0,Sp.jsx)(Dy,{className:"h-4 w-4"})})]},t)))}),(0,Sp.jsxs)("div",{className:"flex gap-1",children:[(0,Sp.jsx)("input",{type:"text",className:"flex-grow py-1 px-2 bg-dark-600 border border-dark-500 rounded text-white text-sm",value:p,onChange:e=>g(e.target.value),placeholder:"New category",onKeyPress:e=>"Enter"===e.key&&b("categories")}),(0,Sp.jsx)("button",{onClick:()=>b("categories"),className:"bg-green-600 hover:bg-green-700 text-white px-2 py-1 rounded",children:(0,Sp.jsx)(lx,{className:"h-4 w-4"})})]})]}),(0,Sp.jsxs)("div",{children:[(0,Sp.jsx)("div",{className:"flex justify-between items-center mb-1",children:(0,Sp.jsx)("label",{className:"text-gray-400",children:"Actors"})}),(0,Sp.jsx)("div",{className:"flex flex-wrap gap-2 mb-2",children:f.actors.map(((e,t)=>(0,Sp.jsxs)("span",{className:"bg-dark-600 text-white px-2 py-1 rounded flex items-center",children:[e,(0,Sp.jsx)("button",{onClick:()=>w("actors",t),className:"ml-1 text-red-500 hover:text-red-400",children:(0,Sp.jsx)(Dy,{className:"h-4 w-4"})})]},t)))}),(0,Sp.jsxs)("div",{className:"flex gap-1",children:[(0,Sp.jsx)("input",{type:"text",className:"flex-grow py-1 px-2 bg-dark-600 border border-dark-500 rounded text-white text-sm",value:v,onChange:e=>y(e.target.value),placeholder:"New actor",onKeyPress:e=>"Enter"===e.key&&b("actors")}),(0,Sp.jsx)("button",{onClick:()=>b("actors"),className:"bg-green-600 hover:bg-green-700 text-white px-2 py-1 rounded",children:(0,Sp.jsx)(lx,{className:"h-4 w-4"})})]})]}),(0,Sp.jsxs)("div",{children:[(0,Sp.jsx)("div",{className:"flex justify-between items-center mb-1",children:(0,Sp.jsx)("label",{className:"text-gray-400",children:"Tags"})}),(0,Sp.jsx)("div",{className:"flex flex-wrap gap-2 mb-2",children:(f.tags||[]).map(((e,t)=>(0,Sp.jsxs)("span",{className:"bg-dark-600 text-white px-2 py-1 rounded flex items-center",children:[e,(0,Sp.jsx)("button",{onClick:()=>w("tags",t),className:"ml-1 text-red-500 hover:text-red-400",children:(0,Sp.jsx)(Dy,{className:"h-4 w-4"})})]},t)))}),(0,Sp.jsx)("div",{className:"flex gap-1",children:(0,Sp.jsx)("input",{type:"text",className:"flex-grow py-1 px-2 bg-dark-600 border border-dark-500 rounded text-white text-sm",placeholder:"Add tag and press Enter",onKeyPress:e=>{"Enter"===e.key&&e.target.value.trim()&&((async e=>{if(e.trim())try{const t=f.tags||[];if(t.includes(e))return void a("This tag already exists!");const n={...f,tags:[...t,e.trim()]};m(n),u(n),l(`Tag "${e}" added successfully!`)}catch(t){console.error("Error adding tag:",t),a(`Failed to add tag: ${t.message}`)}})(e.target.value),e.target.value="")}})})]}),(0,Sp.jsxs)("div",{className:"md:col-span-2",children:[(0,Sp.jsx)("label",{className:"block text-gray-400 mb-1",children:"Iframe Code"}),(0,Sp.jsx)("textarea",{className:"w-full py-2 px-3 bg-dark-600 border border-dark-500 rounded-md text-white font-mono text-sm",value:f.iframeCode,onChange:e=>x("iframeCode",e.target.value),rows:"3"})]}),(0,Sp.jsxs)("div",{className:"md:col-span-2",children:[(0,Sp.jsx)("label",{className:"block text-gray-400 mb-1",children:"Thumbnail URL"}),(0,Sp.jsx)("input",{type:"text",className:"w-full py-2 px-3 bg-dark-600 border border-dark-500 rounded-md text-white",value:f.thumbnailUrl,onChange:e=>x("thumbnailUrl",e.target.value)})]})]}),(0,Sp.jsx)("div",{className:"mt-6 flex justify-end gap-2",children:(0,Sp.jsxs)("button",{onClick:async()=>{if(f){r(!0),a(""),l("");try{const e=[];for(const t of f.categories){const n=Sf(_p,"categories"),r=vm(n,xm("name","==",t)),s=await Um(r);if(s.empty)e.push($m(n,{name:t,videoCount:1,createdAt:new Date}));else{const t=s.docs[0];e.push(zm(jf(_p,"categories",t.id),{videoCount:Ym(1)}))}}for(const t of f.actors){const n=Sf(_p,"pornstars"),r=vm(n,xm("name","==",t)),s=await Um(r);if(s.empty)e.push($m(n,{name:t,videoCount:1,createdAt:new Date}));else{const t=s.docs[0];e.push(zm(jf(_p,"pornstars",t.id),{videoCount:Ym(1)}))}}await Promise.all(e);const n={...f,createdAt:new Date,featured:!1,blockAds:!0,tags:f.tags||[],updatedAt:new Date};await $m(Sf(_p,"videos"),n),l("Video and all categories/actors added to database successfully!"),u(null),m({title:"",description:"",categories:[],actors:[],iframeCode:"",thumbnailUrl:"",tags:[]}),t("")}catch(e){console.error("Error adding to database:",e),a(e.message||"Failed to add video to database")}finally{r(!1)}}},disabled:n,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-md flex items-center",children:[n?(0,Sp.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-t-2 border-b-2 border-white mr-2"}):(0,Sp.jsx)(ux,{className:"h-5 w-5 mr-2"}),"Save to Database"]})})]})]})},hb=e=>{let{children:t}=e;const{currentUser:n,loading:r}=Cp(),s=J();return r?(0,Sp.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,Sp.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"})}):n?t:(0,Sp.jsx)(ve,{to:"/login",state:{from:s},replace:!0})},fb=e=>{let{children:t}=e;const{currentUser:n,userRole:r,loading:s}=Cp(),i=J();return s?(0,Sp.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,Sp.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"})}):!n||"admin"!==r&&"ad_admin"!==r?(0,Sp.jsx)(ve,{to:"/admin/login",state:{from:i},replace:!0}):t};function mb(e,t){let{title:n,titleId:r,...i}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const pb=s.forwardRef(mb);function gb(e,t){let{title:n,titleId:r,...i}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"}))}const vb=s.forwardRef(gb);function yb(e,t){let{title:n,titleId:r,...i}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6A2.25 2.25 0 0 1 6 3.75h2.25A2.25 2.25 0 0 1 10.5 6v2.25a2.25 2.25 0 0 1-2.25 2.25H6a2.25 2.25 0 0 1-2.25-2.25V6ZM3.75 15.75A2.25 2.25 0 0 1 6 13.5h2.25a2.25 2.25 0 0 1 2.25 2.25V18a2.25 2.25 0 0 1-2.25 2.25H6A2.25 2.25 0 0 1 3.75 18v-2.25ZM13.5 6a2.25 2.25 0 0 1 2.25-2.25H18A2.25 2.25 0 0 1 20.25 6v2.25A2.25 2.25 0 0 1 18 10.5h-2.25a2.25 2.25 0 0 1-2.25-2.25V6ZM13.5 15.75a2.25 2.25 0 0 1 2.25-2.25H18a2.25 2.25 0 0 1 2.25 2.25V18A2.25 2.25 0 0 1 18 20.25h-2.25A2.25 2.25 0 0 1 13.5 18v-2.25Z"}))}const xb=s.forwardRef(yb);function bb(e,t){let{title:n,titleId:r,...i}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const wb=s.forwardRef(bb);function kb(e,t){let{title:n,titleId:r,...i}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}const Nb=s.forwardRef(kb);function Eb(e,t){let{title:n,titleId:r,...i}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const _b=s.forwardRef(Eb);function Sb(e,t){let{title:n,titleId:r,...i}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const jb=s.forwardRef(Sb);function Cb(e,t){let{title:n,titleId:r,...i}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const Tb=s.forwardRef(Cb);function Ib(e,t){let{title:n,titleId:r,...i}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{d:"M12 2.25a.75.75 0 0 1 .75.75v2.25a.75.75 0 0 1-1.5 0V3a.75.75 0 0 1 .75-.75ZM7.5 12a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM18.894 6.166a.75.75 0 0 0-1.06-1.06l-1.591 1.59a.75.75 0 1 0 1.06 1.061l1.591-1.59ZM21.75 12a.75.75 0 0 1-.75.75h-2.25a.75.75 0 0 1 0-1.5H21a.75.75 0 0 1 .75.75ZM17.834 18.894a.75.75 0 0 0 1.06-1.06l-1.59-1.591a.75.75 0 1 0-1.061 1.06l1.59 1.591ZM12 18a.75.75 0 0 1 .75.75V21a.75.75 0 0 1-1.5 0v-2.25A.75.75 0 0 1 12 18ZM7.758 17.303a.75.75 0 0 0-1.061-1.06l-1.591 1.59a.75.75 0 0 0 1.06 1.061l1.591-1.59ZM6 12a.75.75 0 0 1-.75.75H3a.75.75 0 0 1 0-1.5h2.25A.75.75 0 0 1 6 12ZM6.697 7.757a.75.75 0 0 0 1.06-1.06l-1.59-1.591a.75.75 0 0 0-1.061 1.06l1.59 1.591Z"}))}const Ab=s.forwardRef(Ib);function Pb(e,t){let{title:n,titleId:r,...i}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{fillRule:"evenodd",d:"M9.528 1.718a.75.75 0 0 1 .162.819A8.97 8.97 0 0 0 9 6a9 9 0 0 0 9 9 8.97 8.97 0 0 0 3.463-.69.75.75 0 0 1 .981.98 10.503 10.503 0 0 1-9.694 6.46c-5.799 0-10.5-4.7-10.5-10.5 0-4.368 2.667-8.112 6.46-9.694a.75.75 0 0 1 .818.162Z",clipRule:"evenodd"}))}const Db=s.forwardRef(Pb),Rb=()=>{const[e,t]=(0,s.useState)(!0),{logout:n,userRole:r}=Cp(),{darkMode:i,toggleDarkMode:a}=Ap(),o=ee(),l=J(),[c,u]=(0,s.useState)(!1);(0,s.useEffect)((()=>{c&&t(!1)}),[l.pathname,c]),(0,s.useEffect)((()=>{const n=n=>{const r=document.getElementById("sidebar"),s=document.getElementById("sidebar-toggle");e&&c&&r&&!r.contains(n.target)&&s&&!s.contains(n.target)&&t(!1)};return document.addEventListener("mousedown",n),()=>{document.removeEventListener("mousedown",n)}}),[e,c]),(0,s.useEffect)((()=>{const n=()=>{const n=window.innerWidth<1024;u(n),n&&e?t(!1):n||e||t(!0)};return n(),window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)}}),[e]);const d="admin"===r,h=[{name:"Dashboard",path:"/admin/dashboard",icon:pb,access:!0},{name:"Users",path:"/admin/users",icon:Gy,access:d},{name:"Videos",path:"/admin/videos",icon:Jx,access:d},{name:"Video Scraper",path:"/admin/video-scraper",icon:Ug,access:d},{name:"Comments",path:"/admin/comments",icon:vb,access:d},{name:"Pornstars",path:"/admin/pornstars",icon:Gy,access:d},{name:"Categories",path:"/admin/categories",icon:xb,access:d},{name:"Advertisements",path:"/admin/advertisements",icon:wb,access:!0},{name:"Profile",path:"/admin/profile",icon:Ay,access:!0}];return(0,Sp.jsxs)(Sp.Fragment,{children:[(0,Sp.jsx)("style",{children:"\n  @media (max-width: 640px) {\n    .admin-content {\n      padding: 0.75rem !important;\n    }\n    .admin-card {\n      padding: 0.75rem !important;\n    }\n  }\n  \n  @media (max-width: 768px) {\n    .admin-table {\n      font-size: 0.875rem !important;\n    }\n    .admin-table th,\n    .admin-table td {\n      padding: 0.5rem 0.75rem !important;\n    }\n  }\n"}),(0,Sp.jsxs)("div",{className:`flex h-screen ${i?"bg-[#0c1e4a]":"bg-gray-100"} overflow-hidden`,children:[e&&c&&(0,Sp.jsx)("div",{className:"fixed inset-0 z-40 bg-black bg-opacity-50 lg:hidden",onClick:()=>t(!1),"aria-hidden":"true"}),(0,Sp.jsxs)("div",{id:"sidebar",className:`fixed inset-y-0 left-0 z-50 ${i?"bg-[#0c1e4a]":"bg-white"} transform transition-all duration-300 ease-in-out ${e?"translate-x-0 w-64 sm:w-72":c?"-translate-x-full":"translate-x-0 w-20"} lg:static lg:min-h-screen overflow-hidden`,children:[(0,Sp.jsx)("div",{className:"h-1 bg-blue-500"}),(0,Sp.jsxs)("div",{className:`flex items-center justify-between h-16 ${i?"bg-[#0c1e4a] border-[#1a2c5c]":"bg-white border-gray-200"} border-b px-4`,children:[e?(0,Sp.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Sp.jsx)("div",{className:"w-8 h-8 rounded-md flex items-center justify-center overflow-hidden",children:(0,Sp.jsx)("img",{src:"/images/guzel-removebg-preview.png",alt:"Prnclub Logo",className:"w-full h-full object-contain"})}),(0,Sp.jsx)("h1",{className:`text-xl font-bold ${i?"text-white":"text-gray-800"} truncate`,children:"Prnclub"})]}):(0,Sp.jsx)("div",{className:"w-8 h-8 rounded-md flex items-center justify-center mx-auto overflow-hidden",children:(0,Sp.jsx)("img",{src:"/images/guzel-removebg-preview.png",alt:"Prnclub Logo",className:"w-full h-full object-contain"})}),(0,Sp.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Sp.jsx)("button",{className:"p-1 rounded-md "+(i?"text-white hover:bg-[#132456]":"text-gray-700 hover:bg-gray-200"),onClick:a,children:i?(0,Sp.jsx)(Ab,{className:"h-5 w-5"}):(0,Sp.jsx)(Db,{className:"h-5 w-5"})}),(0,Sp.jsx)("button",{className:"hidden lg:block p-1 rounded-md "+(i?"text-white hover:bg-[#132456]":"text-gray-700 hover:bg-gray-200"),onClick:()=>t(!e),children:e?(0,Sp.jsx)(Nb,{className:"h-5 w-5"}):(0,Sp.jsx)(_b,{className:"h-5 w-5"})}),(0,Sp.jsx)("button",{className:"lg:hidden p-1 rounded-md "+(i?"text-white hover:bg-[#132456]":"text-gray-700 hover:bg-gray-200"),onClick:()=>t(!1),children:(0,Sp.jsx)(Oy,{className:"h-6 w-6"})})]})]}),(0,Sp.jsx)("nav",{className:"mt-6 px-2 overflow-y-auto h-[calc(100vh-4rem)]",children:(0,Sp.jsxs)("div",{className:"space-y-2",children:[h.map((t=>(0,Sp.jsx)(Qp,{to:t.path,className:e=>{let{isActive:n}=e;return`flex items-center px-4 py-3 text-sm font-medium rounded-md relative ${n?"text-white "+(i?"bg-[#132456]":"bg-blue-600"):""+(i?"text-gray-300 hover:bg-[#132456] hover:text-white":"text-gray-700 hover:bg-gray-200 hover:text-gray-900")} ${t.access?"":"opacity-50 cursor-not-allowed"}`},onClick:e=>!t.access&&e.preventDefault(),children:n=>{let{isActive:r}=n;return(0,Sp.jsxs)(Sp.Fragment,{children:[r&&(0,Sp.jsx)("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-blue-500"}),(0,Sp.jsx)(t.icon,{className:"w-5 h-5 mr-3 flex-shrink-0"}),e&&(0,Sp.jsx)("span",{className:"truncate",children:t.name})]})}},t.name))),(0,Sp.jsxs)("button",{onClick:async()=>{try{await n(),o("/admin/login")}catch(e){console.error("Error during logout:",e)}},className:"flex items-center w-full px-4 py-3 mt-8 text-sm font-medium rounded-md "+(i?"text-gray-300 hover:bg-[#132456] hover:text-white":"text-gray-700 hover:bg-gray-200 hover:text-gray-900"),children:[(0,Sp.jsx)(jb,{className:"w-5 h-5 mr-3 flex-shrink-0"}),e&&(0,Sp.jsx)("span",{className:"truncate",children:"Logout"})]})]})})]}),(0,Sp.jsxs)("div",{className:"flex flex-col flex-1 w-full overflow-x-hidden",children:[(0,Sp.jsxs)("header",{className:`sticky top-0 z-10 flex items-center justify-between h-16 ${i?"bg-[#0c1e4a] border-[#1a2c5c]":"bg-white border-gray-200"} border-b px-4 lg:px-6`,children:[(0,Sp.jsxs)("button",{id:"sidebar-toggle",onClick:()=>t(!e),className:(i?"text-gray-200":"text-gray-700")+" lg:hidden focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500 rounded-md",children:[(0,Sp.jsx)("span",{className:"sr-only",children:"Men\xfcy\xfc A\xe7/Kapat"}),(0,Sp.jsx)(Tb,{className:"h-6 w-6"})]}),(0,Sp.jsx)("div",{className:"flex items-center",children:(0,Sp.jsx)("h1",{className:`text-lg font-semibold ${i?"text-white":"text-gray-800"} hidden sm:block`,children:"Admin Panel"})}),(0,Sp.jsx)("div",{className:"flex items-center",children:(0,Sp.jsx)("button",{className:"p-1 rounded-md "+(i?"text-white hover:bg-[#132456]":"text-gray-700 hover:bg-gray-200"),onClick:a,children:i?(0,Sp.jsx)(Ab,{className:"h-5 w-5"}):(0,Sp.jsx)(Db,{className:"h-5 w-5"})})})]}),(0,Sp.jsx)("main",{className:"flex-1 p-4 sm:p-6 overflow-y-auto admin-content "+(i?"bg-[#0c1e4a]":"bg-gray-100"),children:(0,Sp.jsx)(ye,{})})]})]})]})},Lb=e=>{let{size:t="default"}=e;const n={small:"text-xl",default:"text-2xl",large:"text-3xl"},r=n[t]||n.default,s="small"===t?32:"large"===t?48:40;return(0,Sp.jsxs)(Gp,{to:"/",className:"flex items-center",children:[(0,Sp.jsx)("div",{className:"mr-2",children:(0,Sp.jsx)("img",{src:"/images/guzel-removebg-preview.png",alt:"PRNClub Logo",width:s,height:s,className:"object-contain"})}),(0,Sp.jsxs)("div",{className:"flex items-center",children:[(0,Sp.jsx)("span",{className:`${r} font-bold text-primary-500`,children:"PRN"}),(0,Sp.jsx)("span",{className:`${r} font-bold text-white`,children:"Club"})]})]})};var Ob=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(Ob||{}),Mb=Object.defineProperty,Fb=(e,t,n)=>(((e,t,n)=>{t in e?Mb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);let Ub=new class{constructor(){Fb(this,"current",this.detect()),Fb(this,"handoffState","pending"),Fb(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return"server"===this.current}get isClient(){return"client"===this.current}detect(){return"undefined"==typeof window||"undefined"==typeof document?"server":"client"}handoff(){"pending"===this.handoffState&&(this.handoffState="complete")}get isHandoffComplete(){return"complete"===this.handoffState}},Vb=(e,t)=>{Ub.isServer?(0,s.useEffect)(e,t):(0,s.useLayoutEffect)(e,t)};function zb(e){let t=(0,s.useRef)(e);return Vb((()=>{t.current=e}),[e]),t}let Bb=function(e){let t=zb(e);return s.useCallback((function(){return t.current(...arguments)}),[t])};function $b(){let e=function(){let e="undefined"==typeof document;return(e=>e.useSyncExternalStore)(i)((()=>()=>{}),(()=>!1),(()=>!e))}(),[t,n]=s.useState(Ub.isHandoffComplete);return t&&!1===Ub.isHandoffComplete&&n(!1),s.useEffect((()=>{!0!==t&&n(!0)}),[t]),s.useEffect((()=>Ub.handoff()),[]),!e&&t}var qb;let Wb=null!=(qb=s.useId)?qb:function(){let e=$b(),[t,n]=s.useState(e?()=>Ub.nextId():null);return Vb((()=>{null===t&&n(Ub.nextId())}),[t]),null!=t?""+t:void 0};function Hb(e){var t;if(e.type)return e.type;let n=null!=(t=e.as)?t:"button";return"string"==typeof n&&"button"===n.toLowerCase()?"button":void 0}function Kb(e,t){let[n,r]=(0,s.useState)((()=>Hb(e)));return Vb((()=>{r(Hb(e))}),[e.type,e.as]),Vb((()=>{n||t.current&&t.current instanceof HTMLButtonElement&&!t.current.hasAttribute("type")&&r("button")}),[n,t]),n}let Gb=Symbol();function Qb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let r=(0,s.useRef)(t);(0,s.useEffect)((()=>{r.current=t}),[t]);let i=Bb((e=>{for(let t of r.current)null!=t&&("function"==typeof t?t(e):t.current=e)}));return t.every((e=>null==e||(null==e?void 0:e[Gb])))?void 0:i}function Yb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Array.from(new Set(t.flatMap((e=>"string"==typeof e?e.split(" "):[])))).filter(Boolean).join(" ")}function Xb(e,t){if(e in t){let i=t[e];for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];return"function"==typeof i?i(...r):i}let i=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map((e=>`"${e}"`)).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(i,Xb),i}var Jb,Zb,ew=((Zb=ew||{})[Zb.None=0]="None",Zb[Zb.RenderStrategy=1]="RenderStrategy",Zb[Zb.Static=2]="Static",Zb),tw=((Jb=tw||{})[Jb.Unmount=0]="Unmount",Jb[Jb.Hidden=1]="Hidden",Jb);function nw(e){let{ourProps:t,theirProps:n,slot:r,defaultTag:s,features:i,visible:a=!0,name:o,mergeRefs:l}=e;l=null!=l?l:sw;let c=iw(n,t);if(a)return rw(c,r,s,o,l);let u=null!=i?i:0;if(2&u){let{static:e=!1,...t}=c;if(e)return rw(t,r,s,o,l)}if(1&u){let{unmount:e=!0,...t}=c;return Xb(e?0:1,{0:()=>null,1:()=>rw({...t,hidden:!0,style:{display:"none"}},r,s,o,l)})}return rw(c,r,s,o,l)}function rw(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,{as:a=n,children:o,refName:l="ref",...c}=lw(e,["unmount","static"]),u=void 0!==e.ref?{[l]:e.ref}:{},d="function"==typeof o?o(t):o;"className"in c&&c.className&&"function"==typeof c.className&&(c.className=c.className(t));let h={};if(t){let e=!1,n=[];for(let[r,s]of Object.entries(t))"boolean"==typeof s&&(e=!0),!0===s&&n.push(r);e&&(h["data-headlessui-state"]=n.join(" "))}if(a===s.Fragment&&Object.keys(ow(c)).length>0){if(!(0,s.isValidElement)(d)||Array.isArray(d)&&d.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(c).map((e=>`  - ${e}`)).join("\n"),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map((e=>`  - ${e}`)).join("\n")].join("\n"));let e=d.props,t="function"==typeof(null==e?void 0:e.className)?function(){return Yb(null==e?void 0:e.className(...arguments),c.className)}:Yb(null==e?void 0:e.className,c.className),n=t?{className:t}:{};return(0,s.cloneElement)(d,Object.assign({},iw(d.props,ow(lw(c,["ref"]))),h,u,{ref:i(d.ref,u.ref)},n))}return(0,s.createElement)(a,Object.assign({},lw(c,["ref"]),a!==s.Fragment&&u,a!==s.Fragment&&h),d)}function sw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.every((e=>null==e))?void 0:e=>{for(let n of t)null!=n&&("function"==typeof n?n(e):n.current=e)}}function iw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)return{};if(1===t.length)return t[0];let r={},s={};for(let i of t)for(let e in i)e.startsWith("on")&&"function"==typeof i[e]?(null!=s[e]||(s[e]=[]),s[e].push(i[e])):r[e]=i[e];if(r.disabled||r["aria-disabled"])return Object.assign(r,Object.fromEntries(Object.keys(s).map((e=>[e,void 0]))));for(let i in s)Object.assign(r,{[i](e){let t=s[i];for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];for(let s of t){if((e instanceof Event||(null==e?void 0:e.nativeEvent)instanceof Event)&&e.defaultPrevented)return;s(e,...r)}}});return r}function aw(e){var t;return Object.assign((0,s.forwardRef)(e),{displayName:null!=(t=e.displayName)?t:e.name})}function ow(e){let t=Object.assign({},e);for(let n in t)void 0===t[n]&&delete t[n];return t}function lw(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}var cw=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(cw||{});let uw=aw((function(e,t){var n;let{features:r=1,...s}=e;return nw({ourProps:{ref:t,"aria-hidden":2===(2&r)||(null!=(n=s["aria-hidden"])?n:void 0),hidden:4===(4&r)||void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...4===(4&r)&&2!==(2&r)&&{display:"none"}}},theirProps:s,slot:{},defaultTag:"div",name:"Hidden"})}));function dw(e){let{onFocus:t}=e,[n,r]=(0,s.useState)(!0),i=function(){let e=(0,s.useRef)(!1);return Vb((()=>(e.current=!0,()=>{e.current=!1})),[]),e}();return n?s.createElement(uw,{as:"button",type:"button",features:cw.Focusable,onFocus:e=>{e.preventDefault();let n,s=50;n=requestAnimationFrame((function e(){if(s--<=0)n&&cancelAnimationFrame(n);else if(t()){if(cancelAnimationFrame(n),!i.current)return;r(!1)}else n=requestAnimationFrame(e)}))}}):null}let hw=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map((e=>`${e}:not([tabindex='-1'])`)).join(",");var fw,mw=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(mw||{}),pw=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(pw||{}),gw=((fw=gw||{})[fw.Previous=-1]="Previous",fw[fw.Next=1]="Next",fw);function vw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body;return null==e?[]:Array.from(e.querySelectorAll(hw)).sort(((e,t)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER))))}var yw=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(yw||{});var xw=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(xw||{});"undefined"!=typeof window&&"undefined"!=typeof document&&(document.addEventListener("keydown",(e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")}),!0),document.addEventListener("click",(e=>{1===e.detail?delete document.documentElement.dataset.headlessuiFocusVisible:0===e.detail&&(document.documentElement.dataset.headlessuiFocusVisible="")}),!0));let bw=["textarea","input"].join(",");function ww(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>e;return e.slice().sort(((e,n)=>{let r=t(e),s=t(n);if(null===r||null===s)return 0;let i=r.compareDocumentPosition(s);return i&Node.DOCUMENT_POSITION_FOLLOWING?-1:i&Node.DOCUMENT_POSITION_PRECEDING?1:0}))}function kw(e,t){let{sorted:n=!0,relativeTo:r=null,skipElements:s=[]}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,a=Array.isArray(e)?n?ww(e):e:vw(e);s.length>0&&a.length>1&&(a=a.filter((e=>!s.includes(e)))),r=null!=r?r:i.activeElement;let o,l=(()=>{if(5&t)return 1;if(10&t)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(1&t)return 0;if(2&t)return Math.max(0,a.indexOf(r))-1;if(4&t)return Math.max(0,a.indexOf(r))+1;if(8&t)return a.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=32&t?{preventScroll:!0}:{},d=0,h=a.length;do{if(d>=h||d+h<=0)return 0;let e=c+d;if(16&t)e=(e+h)%h;else{if(e<0)return 3;if(e>=h)return 1}o=a[e],null==o||o.focus(u),d+=l}while(o!==i.activeElement);return 6&t&&function(e){var t,n;return null!=(n=null==(t=null==e?void 0:e.matches)?void 0:t.call(e,bw))&&n}(o)&&o.select(),2}function Nw(e){return Ub.isServer?null:e instanceof Node?e.ownerDocument:null!=e&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}const Ew=s.createContext(null);function _w(e){let{children:t}=e,n=s.useRef({groups:new Map,get(e,t){var n;let r=this.groups.get(e);r||(r=new Map,this.groups.set(e,r));let s=null!=(n=r.get(t))?n:0;return r.set(t,s+1),[Array.from(r.keys()).indexOf(t),function(){let e=r.get(t);e>1?r.set(t,e-1):r.delete(t)}]}});return s.createElement(Ew.Provider,{value:n},t)}function Sw(e){let t=s.useContext(Ew);if(!t)throw new Error("You must wrap your component in a <StableCollection>");let n=function(){var e,t,n;let r=null!=(n=null==(t=null==(e=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)?void 0:e.ReactCurrentOwner)?void 0:t.current)?n:null;if(!r)return Symbol();let i=[],a=r;for(;a;)i.push(a.index),a=a.return;return"$."+i.join(".")}(),[r,i]=t.current.get(e,n);return s.useEffect((()=>i),[]),r}var jw=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(jw||{}),Cw=(e=>(e[e.Less=-1]="Less",e[e.Equal=0]="Equal",e[e.Greater=1]="Greater",e))(Cw||{}),Tw=(e=>(e[e.SetSelectedIndex=0]="SetSelectedIndex",e[e.RegisterTab=1]="RegisterTab",e[e.UnregisterTab=2]="UnregisterTab",e[e.RegisterPanel=3]="RegisterPanel",e[e.UnregisterPanel=4]="UnregisterPanel",e))(Tw||{});let Iw={0(e,t){var n;let r=ww(e.tabs,(e=>e.current)),s=ww(e.panels,(e=>e.current)),i=r.filter((e=>{var t;return!(null!=(t=e.current)&&t.hasAttribute("disabled"))})),a={...e,tabs:r,panels:s};if(t.index<0||t.index>r.length-1){let n=Xb(Math.sign(t.index-e.selectedIndex),{[-1]:()=>1,0:()=>Xb(Math.sign(t.index),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0});if(0===i.length)return a;let s=Xb(n,{0:()=>r.indexOf(i[0]),1:()=>r.indexOf(i[i.length-1])});return{...a,selectedIndex:-1===s?e.selectedIndex:s}}let o=r.slice(0,t.index),l=[...r.slice(t.index),...o].find((e=>i.includes(e)));if(!l)return a;let c=null!=(n=r.indexOf(l))?n:e.selectedIndex;return-1===c&&(c=e.selectedIndex),{...a,selectedIndex:c}},1(e,t){if(e.tabs.includes(t.tab))return e;let n=e.tabs[e.selectedIndex],r=ww([...e.tabs,t.tab],(e=>e.current)),s=e.selectedIndex;return e.info.current.isControlled||(s=r.indexOf(n),-1===s&&(s=e.selectedIndex)),{...e,tabs:r,selectedIndex:s}},2:(e,t)=>({...e,tabs:e.tabs.filter((e=>e!==t.tab))}),3:(e,t)=>e.panels.includes(t.panel)?e:{...e,panels:ww([...e.panels,t.panel],(e=>e.current))},4:(e,t)=>({...e,panels:e.panels.filter((e=>e!==t.panel))})},Aw=(0,s.createContext)(null);function Pw(e){let t=(0,s.useContext)(Aw);if(null===t){let t=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,Pw),t}return t}Aw.displayName="TabsDataContext";let Dw=(0,s.createContext)(null);function Rw(e){let t=(0,s.useContext)(Dw);if(null===t){let t=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,Rw),t}return t}function Lw(e,t){return Xb(t.type,Iw,e,t)}Dw.displayName="TabsActionsContext";let Ow=s.Fragment;let Mw=ew.RenderStrategy|ew.Static;let Fw=aw((function(e,t){var n,r;let i=Wb(),{id:a=`headlessui-tabs-tab-${i}`,...o}=e,{orientation:l,activation:c,selectedIndex:u,tabs:d,panels:h}=Pw("Tab"),f=Rw("Tab"),m=Pw("Tab"),p=(0,s.useRef)(null),g=Qb(p,t);Vb((()=>f.registerTab(p)),[f,p]);let v=Sw("tabs"),y=d.indexOf(p);-1===y&&(y=v);let x=y===u,b=Bb((e=>{var t;let n=e();if(n===pw.Success&&"auto"===c){let e=null==(t=Nw(p))?void 0:t.activeElement,n=m.tabs.findIndex((t=>t.current===e));-1!==n&&f.change(n)}return n})),w=Bb((e=>{let t=d.map((e=>e.current)).filter(Boolean);if(e.key===Ob.Space||e.key===Ob.Enter)return e.preventDefault(),e.stopPropagation(),void f.change(y);switch(e.key){case Ob.Home:case Ob.PageUp:return e.preventDefault(),e.stopPropagation(),b((()=>kw(t,mw.First)));case Ob.End:case Ob.PageDown:return e.preventDefault(),e.stopPropagation(),b((()=>kw(t,mw.Last)))}return b((()=>Xb(l,{vertical:()=>e.key===Ob.ArrowUp?kw(t,mw.Previous|mw.WrapAround):e.key===Ob.ArrowDown?kw(t,mw.Next|mw.WrapAround):pw.Error,horizontal:()=>e.key===Ob.ArrowLeft?kw(t,mw.Previous|mw.WrapAround):e.key===Ob.ArrowRight?kw(t,mw.Next|mw.WrapAround):pw.Error})))===pw.Success?e.preventDefault():void 0})),k=(0,s.useRef)(!1),N=Bb((()=>{var e;k.current||(k.current=!0,null==(e=p.current)||e.focus({preventScroll:!0}),f.change(y),function(e){"function"==typeof queueMicrotask?queueMicrotask(e):Promise.resolve().then(e).catch((e=>setTimeout((()=>{throw e}))))}((()=>{k.current=!1})))})),E=Bb((e=>{e.preventDefault()})),_=(0,s.useMemo)((()=>{var t;return{selected:x,disabled:null!=(t=e.disabled)&&t}}),[x,e.disabled]);return nw({ourProps:{ref:g,onKeyDown:w,onMouseDown:E,onClick:N,id:a,role:"tab",type:Kb(e,p),"aria-controls":null==(r=null==(n=h[y])?void 0:n.current)?void 0:r.id,"aria-selected":x,tabIndex:x?0:-1},theirProps:o,slot:_,defaultTag:"button",name:"Tabs.Tab"})})),Uw=aw((function(e,t){let{defaultIndex:n=0,vertical:r=!1,manual:i=!1,onChange:a,selectedIndex:o=null,...l}=e;const c=r?"vertical":"horizontal",u=i?"manual":"auto";let d=null!==o,h=zb({isControlled:d}),f=Qb(t),[m,p]=(0,s.useReducer)(Lw,{info:h,selectedIndex:null!=o?o:n,tabs:[],panels:[]}),g=(0,s.useMemo)((()=>({selectedIndex:m.selectedIndex})),[m.selectedIndex]),v=zb(a||(()=>{})),y=zb(m.tabs),x=(0,s.useMemo)((()=>({orientation:c,activation:u,...m})),[c,u,m]),b=Bb((e=>(p({type:1,tab:e}),()=>p({type:2,tab:e})))),w=Bb((e=>(p({type:3,panel:e}),()=>p({type:4,panel:e})))),k=Bb((e=>{N.current!==e&&v.current(e),d||p({type:0,index:e})})),N=zb(d?e.selectedIndex:m.selectedIndex),E=(0,s.useMemo)((()=>({registerTab:b,registerPanel:w,change:k})),[]);Vb((()=>{p({type:0,index:null!=o?o:n})}),[o]),Vb((()=>{if(void 0===N.current||m.tabs.length<=0)return;let e=ww(m.tabs,(e=>e.current));e.some(((e,t)=>m.tabs[t]!==e))&&k(e.indexOf(m.tabs[N.current]))}));let _={ref:f};return s.createElement(_w,null,s.createElement(Dw.Provider,{value:E},s.createElement(Aw.Provider,{value:x},x.tabs.length<=0&&s.createElement(dw,{onFocus:()=>{var e,t;for(let n of y.current)if(0===(null==(e=n.current)?void 0:e.tabIndex))return null==(t=n.current)||t.focus(),!0;return!1}}),nw({ourProps:_,theirProps:l,slot:g,defaultTag:Ow,name:"Tabs"}))))})),Vw=aw((function(e,t){let{orientation:n,selectedIndex:r}=Pw("Tab.List");return nw({ourProps:{ref:Qb(t),role:"tablist","aria-orientation":n},theirProps:e,slot:{selectedIndex:r},defaultTag:"div",name:"Tabs.List"})})),zw=aw((function(e,t){let{selectedIndex:n}=Pw("Tab.Panels");return nw({ourProps:{ref:Qb(t)},theirProps:e,slot:(0,s.useMemo)((()=>({selectedIndex:n})),[n]),defaultTag:"div",name:"Tabs.Panels"})})),Bw=aw((function(e,t){var n,r,i,a;let o=Wb(),{id:l=`headlessui-tabs-panel-${o}`,tabIndex:c=0,...u}=e,{selectedIndex:d,tabs:h,panels:f}=Pw("Tab.Panel"),m=Rw("Tab.Panel"),p=(0,s.useRef)(null),g=Qb(p,t);Vb((()=>m.registerPanel(p)),[m,p,l]);let v=Sw("panels"),y=f.indexOf(p);-1===y&&(y=v);let x=y===d,b=(0,s.useMemo)((()=>({selected:x})),[x]),w={ref:g,id:l,role:"tabpanel","aria-labelledby":null==(r=null==(n=h[y])?void 0:n.current)?void 0:r.id,tabIndex:x?c:-1};return x||null!=(i=u.unmount)&&!i||null!=(a=u.static)&&a?nw({ourProps:w,theirProps:u,slot:b,defaultTag:"div",features:Mw,visible:x,name:"Tabs.Panel"}):s.createElement(uw,{as:"span","aria-hidden":"true",...w})})),$w=Object.assign(Fw,{Group:Uw,List:Vw,Panels:zw,Panel:Bw});function qw(e,t){let{title:n,titleId:r,...i}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.362 5.214A8.252 8.252 0 0 1 12 21 8.25 8.25 0 0 1 6.038 7.047 8.287 8.287 0 0 0 9 9.601a8.983 8.983 0 0 1 3.361-6.867 8.21 8.21 0 0 0 3 2.48Z"}),s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18a3.75 3.75 0 0 0 .495-7.468 5.99 5.99 0 0 0-1.925 3.547 5.975 5.975 0 0 1-2.133-1.001A3.75 3.75 0 0 0 12 18Z"}))}const Ww=s.forwardRef(qw);function Hw(e,t){let{title:n,titleId:r,...i}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const Kw=s.forwardRef(Hw);function Gw(e,t){let{title:n,titleId:r,...i}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))}const Qw=s.forwardRef(Gw);function Yw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")}const Xw=e=>{let{activeFilter:t,setActiveFilter:n,activeCategory:r,setActiveCategory:i,activePornstar:a,setActivePornstar:o}=e;const[l,c]=(0,s.useState)([]),[u,d]=(0,s.useState)([]),[h,f]=(0,s.useState)(0),m=ee();(0,s.useEffect)((()=>{(async()=>{try{console.log("Fetching filters...");const e=await Um(vm(Sf(_p,"categories"),Em(9)));console.log("Categories snapshot size:",e.size);const t=e.docs.map((e=>{const t={id:e.id,...e.data()};return console.log("Category data:",t),t}));c(t);const n=await Um(vm(Sf(_p,"pornstars"),Em(9)));console.log("Pornstars snapshot size:",n.size);const r=n.docs.map((e=>{const t={id:e.id,...e.data()};return console.log("Pornstar data:",t),t}));d(r)}catch(e){console.error("Error occurred while fetching filters:",e)}})()}),[]);const p=e=>{"all"===e?m("/category"):(i(e),m(`/?category=${e}`))},g=e=>{"all"===e?m("/pornstar"):(o(e),m(`/?pornstar=${e}`))},v=[{key:"newest",label:"Newest",icon:Pg},{key:"popular",label:"Popular",icon:Ww},{key:"trending",label:"Trending",icon:Kw},{key:"top-rated",label:"Top Rated",icon:Qw}];return(0,Sp.jsx)("div",{className:"py-2",children:(0,Sp.jsxs)($w.Group,{selectedIndex:h,onChange:f,children:[(0,Sp.jsxs)($w.List,{className:"flex space-x-1",children:[(0,Sp.jsx)($w,{className:e=>{let{selected:t}=e;return Yw("w-full rounded-xl py-2.5 text-sm font-medium leading-5 transition-all duration-200","focus:outline-none",t?"text-white":"text-gray-400 hover:text-white")},children:"Videos"}),(0,Sp.jsx)($w,{className:e=>{let{selected:t}=e;return Yw("w-full rounded-xl py-2.5 text-sm font-medium leading-5 transition-all duration-200","focus:outline-none",t?"text-white":"text-gray-400 hover:text-white")},children:"Category"}),(0,Sp.jsx)($w,{className:e=>{let{selected:t}=e;return Yw("w-full rounded-xl py-2.5 text-sm font-medium leading-5 transition-all duration-200","focus:outline-none",t?"text-white":"text-gray-400 hover:text-white")},children:"Pornstar"})]}),(0,Sp.jsxs)($w.Panels,{className:"mt-2",children:[(0,Sp.jsx)($w.Panel,{children:(0,Sp.jsx)("div",{className:"flex flex-wrap gap-2",children:v.map((e=>{const r=e.icon;return(0,Sp.jsxs)("button",{onClick:()=>(e=>{n(e)})(e.key),className:Yw("flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-medium transition-all duration-200","hover:bg-dark-700/50",t===e.key?"bg-primary-600/20 text-primary-400":"text-gray-400 hover:text-white"),children:[(0,Sp.jsx)(r,{className:"h-4 w-4"}),e.label]},e.key)}))})}),(0,Sp.jsx)($w.Panel,{children:(0,Sp.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,Sp.jsx)("button",{onClick:()=>p("all"),className:Yw("px-4 py-2 rounded-xl text-sm font-medium transition-all duration-200","hover:bg-dark-700/50","all"===r?"bg-primary-600/20 text-primary-400":"text-gray-400 hover:text-white"),children:"All Categories"}),l.map((e=>(0,Sp.jsx)("button",{onClick:()=>p(e.id),className:Yw("px-4 py-2 rounded-xl text-sm font-medium transition-all duration-200","hover:bg-dark-700/50",r===e.id?"bg-primary-600/20 text-primary-400":"text-gray-400 hover:text-white"),children:e.name},e.id)))]})}),(0,Sp.jsx)($w.Panel,{children:(0,Sp.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,Sp.jsx)("button",{onClick:()=>g("all"),className:Yw("px-4 py-2 rounded-xl text-sm font-medium transition-all duration-200","hover:bg-dark-700/50","all"===a?"bg-primary-600/20 text-primary-400":"text-gray-400 hover:text-white"),children:"All Pornstars"}),u.map((e=>(0,Sp.jsx)("button",{onClick:()=>g(e.id),className:Yw("px-4 py-2 rounded-xl text-sm font-medium transition-all duration-200","hover:bg-dark-700/50",a===e.id?"bg-primary-600/20 text-primary-400":"text-gray-400 hover:text-white"),children:e.name},e.id)))]})})]})]})})},Jw=()=>{var e;const[t,n]=(0,s.useState)(!1),[r,i]=(0,s.useState)(""),[a,o]=(0,s.useState)("newest"),[l,c]=(0,s.useState)("all"),[u,d]=(0,s.useState)("all"),{currentUser:h,userData:f,logout:m}=Cp(),p=ee(),g=(null===f||void 0===f||null===(e=f.featured)||void 0===e?void 0:e.length)||0,v=e=>{if(e.preventDefault(),r.trim()){const e=r.trim().toLowerCase();p(`/?search=${encodeURIComponent(e)}`)}},y=async()=>{try{await m(),p("/")}catch(e){console.error("Error occurred during logout:",e)}};return(0,Sp.jsxs)("header",{className:"bg-gradient-to-b from-dark-900 to-dark-800",children:[(0,Sp.jsxs)("div",{className:"container mx-auto px-4 py-3",children:[(0,Sp.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Sp.jsx)(Lb,{}),(0,Sp.jsx)("div",{className:"hidden md:flex flex-1 max-w-xl mx-4",children:(0,Sp.jsx)("form",{onSubmit:v,className:"w-full",children:(0,Sp.jsxs)("div",{className:"relative",children:[(0,Sp.jsx)("input",{type:"text",placeholder:"Search videos...",className:"w-full py-2.5 pl-4 pr-10 bg-dark-800/50 border-dark-600 text-white border rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500/50 focus:border-primary-500",value:r,onChange:e=>i(e.target.value)}),(0,Sp.jsx)("button",{type:"submit",className:"absolute right-0 top-0 h-full px-3 text-gray-400 hover:text-white transition-colors duration-200",children:(0,Sp.jsx)(rx,{className:"w-5 h-5"})})]})})}),(0,Sp.jsx)("div",{className:"hidden md:flex items-center space-x-4",children:h?(0,Sp.jsxs)(Sp.Fragment,{children:[(0,Sp.jsxs)("div",{className:"flex items-center text-white",children:[(0,Sp.jsx)("span",{className:"mr-1",children:"Hello"}),(0,Sp.jsx)(Gp,{to:"/profile",className:"text-white hover:text-primary-400 ml-1",children:h.displayName||"User"})]}),(0,Sp.jsxs)(Gp,{to:"/favorites",className:"flex items-center text-white hover:text-primary-400",children:[(0,Sp.jsx)("span",{className:"mr-1",children:"Favorites"}),(0,Sp.jsx)("span",{className:"mx-1",children:g}),(0,Sp.jsx)(nv,{className:"w-5 h-5 text-red-500"})]}),(0,Sp.jsx)("button",{onClick:y,className:"text-gray-300 hover:text-white",children:(0,Sp.jsx)(jb,{className:"w-6 h-6"})})]}):(0,Sp.jsxs)(Sp.Fragment,{children:[(0,Sp.jsx)(Gp,{to:"/login",className:"btn btn-primary",children:"Sign In"}),(0,Sp.jsx)(Gp,{to:"/register",className:"btn btn-dark",children:"Register"})]})}),(0,Sp.jsx)("button",{onClick:()=>n(!t),className:"md:hidden p-2 text-gray-400 hover:text-white transition-colors duration-200",children:(0,Sp.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Sp.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:t?"M6 18L18 6M6 6l12 12":"M4 6h16M4 12h16M4 18h16"})})})]}),t&&(0,Sp.jsxs)("div",{className:"md:hidden mt-4 bg-dark-700 rounded-xl shadow-lg p-4",children:[(0,Sp.jsx)("form",{onSubmit:v,className:"mb-4",children:(0,Sp.jsxs)("div",{className:"relative",children:[(0,Sp.jsx)("input",{type:"text",placeholder:"Search videos...",className:"w-full py-2.5 pl-4 pr-10 bg-dark-800/50 border-dark-600 text-white border rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500/50 focus:border-primary-500",value:r,onChange:e=>i(e.target.value)}),(0,Sp.jsx)("button",{type:"submit",className:"absolute right-0 top-0 h-full px-3 text-gray-400 hover:text-white transition-colors duration-200",children:(0,Sp.jsx)(rx,{className:"w-5 h-5"})})]})}),(0,Sp.jsx)("div",{className:"flex flex-col space-y-2",children:h?(0,Sp.jsxs)(Sp.Fragment,{children:[(0,Sp.jsxs)("div",{className:"flex items-center text-white py-2",children:[(0,Sp.jsx)("span",{className:"mr-1",children:"Hello"}),(0,Sp.jsx)("span",{className:"font-medium ml-1",children:h.displayName||"User"})]}),(0,Sp.jsxs)(Gp,{to:"/favorites",className:"flex items-center py-2 px-4 rounded-md text-white hover:bg-dark-600",onClick:()=>n(!1),children:[(0,Sp.jsx)("span",{className:"mr-1",children:"Favorites"}),(0,Sp.jsx)("span",{className:"mx-1",children:g}),(0,Sp.jsx)(nv,{className:"w-5 h-5 text-red-500"})]}),(0,Sp.jsx)(Gp,{to:"/profile",className:"flex items-center py-2 px-4 rounded-md text-white hover:bg-dark-600",onClick:()=>n(!1),children:"My Profile"}),(0,Sp.jsxs)("button",{onClick:()=>{y(),n(!1)},className:"flex items-center py-2 px-4 rounded-md text-gray-300 hover:bg-dark-600",children:[(0,Sp.jsx)(jb,{className:"w-5 h-5 mr-2"}),"Sign Out"]})]}):(0,Sp.jsxs)(Sp.Fragment,{children:[(0,Sp.jsx)(Gp,{to:"/login",className:"py-2 px-4 bg-primary-600 hover:bg-primary-700 text-white rounded-md",onClick:()=>n(!1),children:"Sign In"}),(0,Sp.jsx)(Gp,{to:"/register",className:"py-2 px-4 bg-dark-700 hover:bg-dark-600 text-white border border-dark-600 rounded-md",onClick:()=>n(!1),children:"Register"})]})})]})]}),(0,Sp.jsx)("div",{className:"border-t border-dark-700/50",children:(0,Sp.jsx)("div",{className:"container mx-auto px-4",children:(0,Sp.jsx)(Xw,{activeFilter:a,setActiveFilter:o,activeCategory:l,setActiveCategory:c,activePornstar:u,setActivePornstar:d})})})]})},Zw=()=>{const e=(new Date).getFullYear();return(0,Sp.jsx)("footer",{className:"bg-dark-800 py-8 mt-auto",children:(0,Sp.jsx)("div",{className:"container mx-auto px-4",children:(0,Sp.jsx)("div",{className:"flex flex-col lg:flex-row",children:(0,Sp.jsxs)("div",{className:"flex-grow",children:[(0,Sp.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[(0,Sp.jsxs)("div",{children:[(0,Sp.jsx)(Lb,{size:"small"}),(0,Sp.jsx)("p",{className:"text-gray-400 mt-2 text-sm",children:"Platform providing the highest quality video content."})]}),(0,Sp.jsxs)("div",{children:[(0,Sp.jsx)("h3",{className:"text-white font-semibold mb-4",children:"Categories"}),(0,Sp.jsxs)("ul",{className:"space-y-2",children:[(0,Sp.jsx)("li",{children:(0,Sp.jsx)(Gp,{to:"/category/popular",className:"text-gray-400 hover:text-primary-400 text-sm",children:"Popular"})}),(0,Sp.jsx)("li",{children:(0,Sp.jsx)(Gp,{to:"/category/trending",className:"text-gray-400 hover:text-primary-400 text-sm",children:"Trending"})}),(0,Sp.jsx)("li",{children:(0,Sp.jsx)(Gp,{to:"/category/newest",className:"text-gray-400 hover:text-primary-400 text-sm",children:"Newest"})}),(0,Sp.jsx)("li",{children:(0,Sp.jsx)(Gp,{to:"/category/most-liked",className:"text-gray-400 hover:text-primary-400 text-sm",children:"Most Liked"})})]})]}),(0,Sp.jsxs)("div",{children:[(0,Sp.jsx)("h3",{className:"text-white font-semibold mb-4",children:"Links"}),(0,Sp.jsxs)("ul",{className:"space-y-2",children:[(0,Sp.jsx)("li",{children:(0,Sp.jsx)(Gp,{to:"/about",className:"text-gray-400 hover:text-primary-400 text-sm",children:"About Us"})}),(0,Sp.jsx)("li",{children:(0,Sp.jsx)(Gp,{to:"/contact",className:"text-gray-400 hover:text-primary-400 text-sm",children:"Contact"})}),(0,Sp.jsx)("li",{children:(0,Sp.jsx)(Gp,{to:"/sss",className:"text-gray-400 hover:text-primary-400 text-sm",children:"FAQ"})}),(0,Sp.jsx)("li",{children:(0,Sp.jsx)(Gp,{to:"/dmca",className:"text-gray-400 hover:text-primary-400 text-sm",children:"DMCA"})})]})]}),(0,Sp.jsxs)("div",{children:[(0,Sp.jsx)("h3",{className:"text-white font-semibold mb-4",children:"Legal"}),(0,Sp.jsxs)("ul",{className:"space-y-2",children:[(0,Sp.jsx)("li",{children:(0,Sp.jsx)(Gp,{to:"/terms",className:"text-gray-400 hover:text-primary-400 text-sm",children:"Terms of Use"})}),(0,Sp.jsx)("li",{children:(0,Sp.jsx)(Gp,{to:"/privacy",className:"text-gray-400 hover:text-primary-400 text-sm",children:"Privacy Policy"})}),(0,Sp.jsx)("li",{children:(0,Sp.jsx)(Gp,{to:"/cookie",className:"text-gray-400 hover:text-primary-400 text-sm",children:"Cookie Policy"})}),(0,Sp.jsx)("li",{children:(0,Sp.jsx)(Gp,{to:"/2257",className:"text-gray-400 hover:text-primary-400 text-sm",children:"2257 Statement"})})]})]})]}),(0,Sp.jsx)("div",{className:"mt-8 pt-6 border-t border-dark-600",children:(0,Sp.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[(0,Sp.jsxs)("p",{className:"text-gray-500 text-sm mb-4 md:mb-0",children:["\xa9 ",e," PRN Club. All rights reserved."]}),(0,Sp.jsx)("p",{className:"text-gray-500 text-xs",children:"All videos on this site are embedded using iframe codes and are sourced from third-party sites. Please contact us for any copyright infringement notices."})]})})]})})})})},ek=()=>(0,Sp.jsxs)("div",{className:"flex flex-col min-h-screen bg-[#1a1b1f]",children:[(0,Sp.jsx)(Jw,{}),(0,Sp.jsx)("div",{className:"flex-grow",children:(0,Sp.jsxs)("div",{className:"max-w-[1920px] mx-auto relative flex",children:[(0,Sp.jsx)("div",{className:"hidden lg:block w-[200px] shrink-0",children:(0,Sp.jsx)("div",{className:"sticky top-[80px] w-[200px]",children:(0,Sp.jsx)(Mg,{position:"left"})})}),(0,Sp.jsx)("main",{className:"flex-grow px-4",children:(0,Sp.jsx)(ye,{})}),(0,Sp.jsx)("div",{className:"hidden lg:block w-[200px] shrink-0",children:(0,Sp.jsx)("div",{className:"sticky top-[80px] w-[200px]",children:(0,Sp.jsx)(Mg,{position:"right"})})})]})}),(0,Sp.jsx)(Zw,{})]});const tk=function(){return(0,s.useEffect)((()=>{(async()=>{try{const e=jf(_p,"statistics","adPerformance");(await Mm(e)).exists()||(await Vm(e,{totalClicks:0,totalImpressions:0,totalPageViews:0,ctr:0,impressionsPerPage:0,lastUpdated:Ia.now(),positionStats:{sidebar:{clicks:0,impressions:0},header:{clicks:0,impressions:0},footer:{clicks:0,impressions:0},left:{clicks:0,impressions:0},right:{clicks:0,impressions:0},"video-before":{clicks:0,impressions:0},"video-after":{clicks:0,impressions:0}}}),console.log("Ad statistics initialized successfully"))}catch(e){console.error("Error initializing ad statistics:",e)}})()}),[]),(0,Sp.jsx)(Tp,{children:(0,Sp.jsx)(Pp,{children:(0,Sp.jsx)(Rp,{children:(0,Sp.jsx)(Op,{children:(0,Sp.jsxs)(we,{children:[(0,Sp.jsxs)(xe,{path:"/",element:(0,Sp.jsx)(ek,{}),children:[(0,Sp.jsx)(xe,{index:!0,element:(0,Sp.jsx)(Vg,{})}),(0,Sp.jsx)(xe,{path:"videos",element:(0,Sp.jsx)(ve,{to:"/videos/1",replace:!0})}),(0,Sp.jsx)(xe,{path:"videos/:page",element:(0,Sp.jsx)(By,{})}),(0,Sp.jsx)(xe,{path:"video/:id",element:(0,Sp.jsx)(rv,{})}),(0,Sp.jsx)(xe,{path:"categories",element:(0,Sp.jsx)(Vy,{})}),(0,Sp.jsx)(xe,{path:"category",element:(0,Sp.jsx)(Uy,{})}),(0,Sp.jsx)(xe,{path:"category/:letter",element:(0,Sp.jsx)(Uy,{})}),(0,Sp.jsx)(xe,{path:"category/videos/:categoryName",element:(0,Sp.jsx)(Wy,{})}),(0,Sp.jsx)(xe,{path:"pornstars",element:(0,Sp.jsx)(zy,{})}),(0,Sp.jsx)(xe,{path:"pornstar",element:(0,Sp.jsx)(Uy,{})}),(0,Sp.jsx)(xe,{path:"pornstar/:letter",element:(0,Sp.jsx)(Uy,{})}),(0,Sp.jsx)(xe,{path:"login",element:(0,Sp.jsx)(Cy,{})}),(0,Sp.jsx)(xe,{path:"register",element:(0,Sp.jsx)(Ty,{})}),(0,Sp.jsx)(xe,{path:"profile",element:(0,Sp.jsx)(hb,{children:(0,Sp.jsx)(Ry,{})})}),(0,Sp.jsx)(xe,{path:"favorites",element:(0,Sp.jsx)(hb,{children:(0,Sp.jsx)(My,{})})})]}),(0,Sp.jsx)(xe,{path:"/admin/login",element:(0,Sp.jsx)(Hy,{})}),(0,Sp.jsxs)(xe,{path:"/admin",element:(0,Sp.jsx)(fb,{children:(0,Sp.jsx)(Rb,{})}),children:[(0,Sp.jsx)(xe,{index:!0,element:(0,Sp.jsx)(ve,{to:"/admin/dashboard",replace:!0})}),(0,Sp.jsx)(xe,{path:"dashboard",element:(0,Sp.jsx)(Zy,{})}),(0,Sp.jsx)(xe,{path:"users",element:(0,Sp.jsx)(ax,{})}),(0,Sp.jsx)(xe,{path:"videos",element:(0,Sp.jsx)(Yx,{})}),(0,Sp.jsx)(xe,{path:"video-scraper",element:(0,Sp.jsx)(db,{})}),(0,Sp.jsx)(xe,{path:"comments",element:(0,Sp.jsx)(Zx,{})}),(0,Sp.jsx)(xe,{path:"pornstars",element:(0,Sp.jsx)(tb,{})}),(0,Sp.jsx)(xe,{path:"categories",element:(0,Sp.jsx)(eb,{})}),(0,Sp.jsx)(xe,{path:"advertisements",element:(0,Sp.jsx)(ab,{})}),(0,Sp.jsx)(xe,{path:"add-advertisement",element:(0,Sp.jsx)(ob,{})}),(0,Sp.jsx)(xe,{path:"profile",element:(0,Sp.jsx)(ub,{})})]}),(0,Sp.jsx)(xe,{path:"*",element:(0,Sp.jsx)(Fy,{})})]})})})})})},nk=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then((t=>{let{getCLS:n,getFID:r,getFCP:s,getLCP:i,getTTFB:a}=t;n(e),r(e),s(e),i(e),a(e)}))};a.createRoot(document.getElementById("root")).render((0,Sp.jsx)(s.StrictMode,{children:(0,Sp.jsx)(Wp,{children:(0,Sp.jsx)(tk,{})})})),nk()})();
//# sourceMappingURL=main.1dafe25e.js.map