/*! For license information please see main.68f7dcf8.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},153:(e,t,n)=>{var r=n(43),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:s,_owner:o.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,p(w,y.prototype),w.isPureReactComponent=!0;var x=Array.isArray,k=Object.prototype.hasOwnProperty,_={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,s={},a=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)k.call(t,i)&&!N.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:o,props:s,_owner:_.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(e,t,i,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===s?"."+T(l,0):s,x(a)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),I(a,t,i,"",(function(e){return e}))):null!=a&&(S(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(C,"$&/")+"/")+e)),t.push(a)),1;if(l=0,s=""===s?".":s+":",x(e))for(var c=0;c<e.length;c++){var u=s+T(o=e[c],c);l+=I(o,t,i,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=I(o=o.value,t,i,u=s+T(o,c++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function j(e,t,n){if(null==e)return e;var r=[],i=0;return I(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},R={transition:null},D={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:R,ReactCurrentOwner:_};function O(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:j,forEach:function(e,t,n){j(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return j(e,(function(){t++})),t},toArray:function(e){return j(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.act=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=p({},e.props),s=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=_.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)k.call(t,c)&&!N.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:a,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=O,t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,m=!1,p=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function x(e){if(g=!1,w(e),!p)if(null!==r(c))p=!0,R(k);else{var t=r(u);null!==t&&D(x,t.startTime-e)}}function k(e,n){p=!1,g&&(g=!1,v(S),S=-1),m=!0;var s=f;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!I());){var a=h.callback;if("function"===typeof a){h.callback=null,f=h.priorityLevel;var o=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===r(c)&&i(c),w(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&D(x,d.startTime-n),l=!1}return l}finally{h=null,f=s,m=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,N=!1,E=null,S=-1,C=5,T=-1;function I(){return!(t.unstable_now()-T<C)}function j(){if(null!==E){var e=t.unstable_now();T=e;var n=!0;try{n=E(!0,e)}finally{n?_():(N=!1,E=null)}}else N=!1}if("function"===typeof b)_=function(){b(j)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,P=A.port2;A.port1.onmessage=j,_=function(){P.postMessage(null)}}else _=function(){y(j,0)};function R(e){E=e,N||(N=!0,_())}function D(e,n){S=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){p||m||(p=!0,R(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(v(S),S=-1):g=!0,D(x,s-a))):(e.sortIndex=o,n(c,e),p||m||(p=!0,R(k))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},579:(e,t,n)=>{e.exports=n(153)},730:(e,t,n)=>{var r=n(43),i=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},m={};function p(e,t,n,r,i,s,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new p(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new p(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new p(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new p(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new p(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new p(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new p(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new p(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new p(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(m,e)||!d.call(f,e)&&(h.test(e)?m[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new p(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new p(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);g[t]=new p(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new p(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new p("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new p(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),k=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),C=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var L,M=Object.assign;function F(e){if(void 0===L)try{throw Error()}catch(Ky){var t=Ky.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(Ny){var r=Ny}Reflect.construct(e,[],t)}else{try{t.call()}catch(Ny){r=Ny}e.call(t.prototype)}else{try{throw Error()}catch(Ny){r=Ny}e()}}catch(Ny){if(Ny&&r&&"string"===typeof Ny.stack){for(var i=Ny.stack.split("\n"),s=r.stack.split("\n"),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(1!==a||1!==o)do{if(a--,0>--o||i[a]!==s[o]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function z(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case k:return"Portal";case E:return"Profiler";case N:return"StrictMode";case I:return"Suspense";case j:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return B(e(t))}catch(Ky){}}return null}function $(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function se(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function pe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(he).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ge=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function ve(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,ke=null,_e=null;function Ne(e){if(e=vi(e)){if("function"!==typeof xe)throw Error(s(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Ee(e){ke?_e?_e.push(e):_e=[e]:ke=e}function Se(){if(ke){var e=ke,t=_e;if(_e=ke=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function Ce(e,t){return e(t)}function Te(){}var Ie=!1;function je(e,t,n){if(Ie)return e(t,n);Ie=!0;try{return Ce(e,t,n)}finally{Ie=!1,(null!==ke||null!==_e)&&(Te(),Se())}}function Ae(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Pe=!1;if(u)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(ru){Pe=!1}function De(e,t,n,r,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Oe=!1,Le=null,Me=!1,Fe=null,Ue={onError:function(e){Oe=!0,Le=e}};function Ve(e,t,n,r,i,s,a,o,l){Oe=!1,Le=null,De.apply(Ue,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Be(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function $e(e){if(ze(e)!==e)throw Error(s(188))}function qe(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return $e(i),e;if(a===r)return $e(i),t;a=a.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e),null!==e?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var He=i.unstable_scheduleCallback,Ke=i.unstable_cancelCallback,Ge=i.unstable_shouldYield,Qe=i.unstable_requestPaint,Ye=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Je=i.unstable_ImmediatePriority,Ze=i.unstable_UserBlockingPriority,et=i.unstable_NormalPriority,tt=i.unstable_LowPriority,nt=i.unstable_IdlePriority,rt=null,it=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/ot|0)|0},at=Math.log,ot=Math.LN2;var lt=64,ct=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~i;0!==o?r=ut(o):0!==(s&=a)&&(r=ut(s))}else 0!==(a=n&~i)?r=ut(a):0!==s&&(r=ut(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-st(t)),r|=e[n],t&=~i;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function pt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var vt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,kt,_t,Nt,Et=!1,St=[],Ct=null,Tt=null,It=null,jt=new Map,At=new Map,Pt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":jt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":At.delete(t.pointerId)}}function Ot(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=vi(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Lt(e){var t=yi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Be(n)))return e.blockedOn=t,void Nt(e.priority,(function(){kt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Mt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Gt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=vi(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ft(e,t,n){Mt(e)&&n.delete(t)}function Ut(){Et=!1,null!==Ct&&Mt(Ct)&&(Ct=null),null!==Tt&&Mt(Tt)&&(Tt=null),null!==It&&Mt(It)&&(It=null),jt.forEach(Ft),At.forEach(Ft)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function zt(e){function t(t){return Vt(t,e)}if(0<St.length){Vt(St[0],e);for(var n=1;n<St.length;n++){var r=St[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Vt(Ct,e),null!==Tt&&Vt(Tt,e),null!==It&&Vt(It,e),jt.forEach(t),At.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Lt(n),null===n.blockedOn&&Pt.shift()}var Bt=w.ReactCurrentBatchConfig,$t=!0;function qt(e,t,n,r){var i=vt,s=Bt.transition;Bt.transition=null;try{vt=1,Ht(e,t,n,r)}finally{vt=i,Bt.transition=s}}function Wt(e,t,n,r){var i=vt,s=Bt.transition;Bt.transition=null;try{vt=4,Ht(e,t,n,r)}finally{vt=i,Bt.transition=s}}function Ht(e,t,n,r){if($t){var i=Gt(e,t,n,r);if(null===i)$r(e,t,r,Kt,n),Dt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Ot(Ct,e,t,n,r,i),!0;case"dragenter":return Tt=Ot(Tt,e,t,n,r,i),!0;case"mouseover":return It=Ot(It,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return jt.set(s,Ot(jt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,At.set(s,Ot(At.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Dt(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==i;){var s=vi(i);if(null!==s&&wt(s),null===(s=Gt(e,t,n,r))&&$r(e,t,r,Kt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else $r(e,t,r,null,n)}}var Kt=null;function Gt(e,t,n,r){if(Kt=null,null!==(e=yi(e=we(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Be(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Je:return 1;case Ze:return 4;case et:case tt:return 16;case nt:return 536870912;default:return 16}default:return 16}}var Yt=null,Xt=null,Jt=null;function Zt(){if(Jt)return Jt;var e,t,n=Xt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function en(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function tn(){return!0}function nn(){return!1}function rn(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?tn:nn,this.isPropagationStopped=nn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=tn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=tn)},persist:function(){},isPersistent:tn}),t}var sn,an,on,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=rn(ln),un=M({},ln,{view:0,detail:0}),dn=rn(un),hn=M({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==on&&(on&&"mousemove"===e.type?(sn=e.screenX-on.screenX,an=e.screenY-on.screenY):an=sn=0,on=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),fn=rn(hn),mn=rn(M({},hn,{dataTransfer:0})),pn=rn(M({},un,{relatedTarget:0})),gn=rn(M({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=M({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vn=rn(yn),bn=rn(M({},ln,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _n(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function Nn(){return _n}var En=M({},un,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=en(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nn,charCode:function(e){return"keypress"===e.type?en(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?en(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Sn=rn(En),Cn=rn(M({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=rn(M({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nn})),In=rn(M({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),jn=M({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),An=rn(jn),Pn=[9,13,27,32],Rn=u&&"CompositionEvent"in window,Dn=null;u&&"documentMode"in document&&(Dn=document.documentMode);var On=u&&"TextEvent"in window&&!Dn,Ln=u&&(!Rn||Dn&&8<Dn&&11>=Dn),Mn=String.fromCharCode(32),Fn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var Bn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $n(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Bn[e.type]:"textarea"===t}function qn(e,t,n,r){Ee(r),0<(t=Wr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Hn=null;function Kn(e){Mr(e,0)}function Gn(e){if(K(bi(e)))return e}function Qn(e,t){if("change"===e)return t}var Yn=!1;if(u){var Xn;if(u){var Jn="oninput"in document;if(!Jn){var Zn=document.createElement("div");Zn.setAttribute("oninput","return;"),Jn="function"===typeof Zn.oninput}Xn=Jn}else Xn=!1;Yn=Xn&&(!document.documentMode||9<document.documentMode)}function er(){Wn&&(Wn.detachEvent("onpropertychange",tr),Hn=Wn=null)}function tr(e){if("value"===e.propertyName&&Gn(Hn)){var t=[];qn(t,Hn,e,we(e)),je(Kn,t)}}function nr(e,t,n){"focusin"===e?(er(),Hn=n,(Wn=t).attachEvent("onpropertychange",tr)):"focusout"===e&&er()}function rr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Gn(Hn)}function ir(e,t){if("click"===e)return Gn(t)}function sr(e,t){if("input"===e||"change"===e)return Gn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function or(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function ur(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ur(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ur(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=cr(n,s);var a=cr(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,pr=null,gr=null,yr=null,vr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;vr||null==pr||pr!==G(r)||("selectionStart"in(r=pr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&or(yr,r)||(yr=r,0<(r=Wr(gr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=pr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},kr={},_r={};function Nr(e){if(kr[e])return kr[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in _r)return kr[e]=n[t];return e}u&&(_r=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Er=Nr("animationend"),Sr=Nr("animationiteration"),Cr=Nr("animationstart"),Tr=Nr("transitionend"),Ir=new Map,jr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(e,t){Ir.set(e,t),l(t,[e])}for(var Pr=0;Pr<jr.length;Pr++){var Rr=jr[Pr];Ar(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Ar(Er,"onAnimationEnd"),Ar(Sr,"onAnimationIteration"),Ar(Cr,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(Tr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Or=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,o,l,c){if(Ve.apply(this,arguments),Oe){if(!Oe)throw Error(s(198));var u=Le;Oe=!1,Le=null,Me||(Me=!0,Fe=u)}}(r,t,void 0,e),e.currentTarget=null}function Mr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;Lr(i,o,c),s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;Lr(i,o,c),s=l}}}if(Me)throw e=Fe,Me=!1,Fe=null,e}function Fr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(Br(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),Br(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Vr]){e[Vr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Or.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,Ur("selectionchange",!1,t))}}function Br(e,t,n,r){switch(Qt(t)){case 1:var i=qt;break;case 4:i=Wt;break;default:i=Ht}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function $r(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=yi(o)))return;if(5===(l=a.tag)||6===l){r=s=a;continue e}o=o.parentNode}}r=r.return}je((function(){var r=s,i=we(n),a=[];e:{var o=Ir.get(e);if(void 0!==o){var l=cn,c=e;switch(e){case"keypress":if(0===en(n))break e;case"keydown":case"keyup":l=Sn;break;case"focusin":c="focus",l=pn;break;case"focusout":c="blur",l=pn;break;case"beforeblur":case"afterblur":l=pn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Tn;break;case Er:case Sr:case Cr:l=gn;break;case Tr:l=In;break;case"scroll":l=dn;break;case"wheel":l=An;break;case"copy":case"cut":case"paste":l=vn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Cn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==o?o+"Capture":null:o;u=[];for(var f,m=r;null!==m;){var p=(f=m).stateNode;if(5===f.tag&&null!==p&&(f=p,null!==h&&(null!=(p=Ae(m,h))&&u.push(qr(m,p,f)))),d)break;m=m.return}0<u.length&&(o=new l(o,c,null,n,i),a.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[fi])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(d=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=fn,p="onMouseLeave",h="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(u=Cn,p="onPointerLeave",h="onPointerEnter",m="pointer"),d=null==l?o:bi(l),f=null==c?o:bi(c),(o=new u(p,m+"leave",l,n,i)).target=d,o.relatedTarget=f,p=null,yi(i)===r&&((u=new u(h,m+"enter",c,n,i)).target=f,u.relatedTarget=d,p=u),d=p,l&&c)e:{for(h=c,m=0,f=u=l;f;f=Hr(f))m++;for(f=0,p=h;p;p=Hr(p))f++;for(;0<m-f;)u=Hr(u),m--;for(;0<f-m;)h=Hr(h),f--;for(;m--;){if(u===h||null!==h&&u===h.alternate)break e;u=Hr(u),h=Hr(h)}u=null}else u=null;null!==l&&Kr(a,o,l,u,!1),null!==c&&null!==d&&Kr(a,d,c,u,!0)}if("select"===(l=(o=r?bi(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Qn;else if($n(o))if(Yn)g=sr;else{g=rr;var y=nr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=ir);switch(g&&(g=g(e,r))?qn(a,g,n,i):(y&&y(e,o,r),"focusout"===e&&(y=o._wrapperState)&&y.controlled&&"number"===o.type&&ee(o,"number",o.value)),y=r?bi(r):window,e){case"focusin":($n(y)||"true"===y.contentEditable)&&(pr=y,gr=r,yr=null);break;case"focusout":yr=gr=pr=null;break;case"mousedown":vr=!0;break;case"contextmenu":case"mouseup":case"dragend":vr=!1,br(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":br(a,n,i)}var v;if(Rn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&zn&&(v=Zt()):(Xt="value"in(Yt=i)?Yt.value:Yt.textContent,zn=!0)),0<(y=Wr(r,b)).length&&(b=new bn(b,e,null,n,i),a.push({event:b,listeners:y}),v?b.data=v:null!==(v=Vn(n))&&(b.data=v))),(v=On?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Mn);case"textInput":return(e=t.data)===Mn&&Fn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Rn&&Un(e,t)?(e=Zt(),Jt=Xt=Yt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=v))}Mr(a,t)}))}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Ae(e,n))&&r.unshift(qr(e,s,i)),null!=(s=Ae(e,t))&&r.push(qr(e,s,i))),e=e.return}return r}function Hr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,i?null!=(l=Ae(n,s))&&a.unshift(qr(n,l,o)):i||null!=(l=Ae(n,s))&&a.push(qr(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Gr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Gr,"\n").replace(Qr,"")}function Xr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(s(425))}function Jr(){}var Zr=null,ei=null;function ti(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ni="function"===typeof setTimeout?setTimeout:void 0,ri="function"===typeof clearTimeout?clearTimeout:void 0,ii="function"===typeof Promise?Promise:void 0,si="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ii?function(e){return ii.resolve(null).then(e).catch(ai)}:ni;function ai(e){setTimeout((function(){throw e}))}function oi(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function li(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ui=Math.random().toString(36).slice(2),di="__reactFiber$"+ui,hi="__reactProps$"+ui,fi="__reactContainer$"+ui,mi="__reactEvents$"+ui,pi="__reactListeners$"+ui,gi="__reactHandles$"+ui;function yi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[di])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function vi(e){return!(e=e[di]||e[fi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function wi(e){return e[hi]||null}var xi=[],ki=-1;function _i(e){return{current:e}}function Ni(e){0>ki||(e.current=xi[ki],xi[ki]=null,ki--)}function Ei(e,t){ki++,xi[ki]=e.current,e.current=t}var Si={},Ci=_i(Si),Ti=_i(!1),Ii=Si;function ji(e,t){var n=e.type.contextTypes;if(!n)return Si;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ai(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pi(){Ni(Ti),Ni(Ci)}function Ri(e,t,n){if(Ci.current!==Si)throw Error(s(168));Ei(Ci,t),Ei(Ti,n)}function Di(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,$(e)||"Unknown",i));return M({},n,r)}function Oi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Si,Ii=Ci.current,Ei(Ci,e),Ei(Ti,Ti.current),!0}function Li(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Di(e,t,Ii),r.__reactInternalMemoizedMergedChildContext=e,Ni(Ti),Ni(Ci),Ei(Ci,e)):Ni(Ti),Ei(Ti,n)}var Mi=null,Fi=!1,Ui=!1;function Vi(e){null===Mi?Mi=[e]:Mi.push(e)}function zi(){if(!Ui&&null!==Mi){Ui=!0;var e=0,t=vt;try{var n=Mi;for(vt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Mi=null,Fi=!1}catch(Ry){throw null!==Mi&&(Mi=Mi.slice(e+1)),He(Je,zi),Ry}finally{vt=t,Ui=!1}}return null}var Bi=[],$i=0,qi=null,Wi=0,Hi=[],Ki=0,Gi=null,Qi=1,Yi="";function Xi(e,t){Bi[$i++]=Wi,Bi[$i++]=qi,qi=e,Wi=t}function Ji(e,t,n){Hi[Ki++]=Qi,Hi[Ki++]=Yi,Hi[Ki++]=Gi,Gi=e;var r=Qi;e=Yi;var i=32-st(r)-1;r&=~(1<<i),n+=1;var s=32-st(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Qi=1<<32-st(t)+i|n<<i|r,Yi=s+e}else Qi=1<<s|n<<i|r,Yi=e}function Zi(e){null!==e.return&&(Xi(e,1),Ji(e,1,0))}function es(e){for(;e===qi;)qi=Bi[--$i],Bi[$i]=null,Wi=Bi[--$i],Bi[$i]=null;for(;e===Gi;)Gi=Hi[--Ki],Hi[Ki]=null,Yi=Hi[--Ki],Hi[Ki]=null,Qi=Hi[--Ki],Hi[Ki]=null}var ts=null,ns=null,rs=!1,is=null;function ss(e,t){var n=jc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function as(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ts=e,ns=li(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ts=e,ns=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Gi?{id:Qi,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=jc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ts=e,ns=null,!0);default:return!1}}function os(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ls(e){if(rs){var t=ns;if(t){var n=t;if(!as(e,t)){if(os(e))throw Error(s(418));t=li(n.nextSibling);var r=ts;t&&as(e,t)?ss(r,n):(e.flags=-4097&e.flags|2,rs=!1,ts=e)}}else{if(os(e))throw Error(s(418));e.flags=-4097&e.flags|2,rs=!1,ts=e}}}function cs(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ts=e}function us(e){if(e!==ts)return!1;if(!rs)return cs(e),rs=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ti(e.type,e.memoizedProps)),t&&(t=ns)){if(os(e))throw ds(),Error(s(418));for(;t;)ss(e,t),t=li(t.nextSibling)}if(cs(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ns=li(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ns=null}}else ns=ts?li(e.stateNode.nextSibling):null;return!0}function ds(){for(var e=ns;e;)e=li(e.nextSibling)}function hs(){ns=ts=null,rs=!1}function fs(e){null===is?is=[e]:is.push(e)}var ms=w.ReactCurrentBatchConfig;function ps(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function gs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ys(e){return(0,e._init)(e._payload)}function vs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Pc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Lc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===_?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===P&&ys(s)===t.type)?((r=i(t,n.props)).ref=ps(e,t,n),r.return=e,r):((r=Rc(n.type,n.key,n.props,null,e.mode,r)).ref=ps(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Mc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=Dc(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Rc(t.type,t.key,t.props,null,e.mode,n)).ref=ps(e,null,t),n.return=e,n;case k:return(t=Mc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||O(t))return(t=Dc(t,e.mode,n,null)).return=e,t;gs(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?c(e,t,n,r):null;case k:return n.key===i?u(e,t,n,r):null;case P:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||O(n))return null!==i?null:d(e,t,n,r,null);gs(e,n)}return null}function m(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case k:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return m(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||O(r))return d(t,e=e.get(n)||null,r,i,null);gs(t,r)}return null}function p(i,s,o,l){for(var c=null,u=null,d=s,p=s=0,g=null;null!==d&&p<o.length;p++){d.index>p?(g=d,d=null):g=d.sibling;var y=f(i,d,o[p],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(i,d),s=a(y,s,p),null===u?c=y:u.sibling=y,u=y,d=g}if(p===o.length)return n(i,d),rs&&Xi(i,p),c;if(null===d){for(;p<o.length;p++)null!==(d=h(i,o[p],l))&&(s=a(d,s,p),null===u?c=d:u.sibling=d,u=d);return rs&&Xi(i,p),c}for(d=r(i,d);p<o.length;p++)null!==(g=m(d,i,p,o[p],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?p:g.key),s=a(g,s,p),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(i,e)})),rs&&Xi(i,p),c}function g(i,o,l,c){var u=O(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var d=u=null,p=o,g=o=0,y=null,v=l.next();null!==p&&!v.done;g++,v=l.next()){p.index>g?(y=p,p=null):y=p.sibling;var b=f(i,p,v.value,c);if(null===b){null===p&&(p=y);break}e&&p&&null===b.alternate&&t(i,p),o=a(b,o,g),null===d?u=b:d.sibling=b,d=b,p=y}if(v.done)return n(i,p),rs&&Xi(i,g),u;if(null===p){for(;!v.done;g++,v=l.next())null!==(v=h(i,v.value,c))&&(o=a(v,o,g),null===d?u=v:d.sibling=v,d=v);return rs&&Xi(i,g),u}for(p=r(i,p);!v.done;g++,v=l.next())null!==(v=m(p,i,g,v.value,c))&&(e&&null!==v.alternate&&p.delete(null===v.key?g:v.key),o=a(v,o,g),null===d?u=v:d.sibling=v,d=v);return e&&p.forEach((function(e){return t(i,e)})),rs&&Xi(i,g),u}return function e(r,s,a,l){if("object"===typeof a&&null!==a&&a.type===_&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case x:e:{for(var c=a.key,u=s;null!==u;){if(u.key===c){if((c=a.type)===_){if(7===u.tag){n(r,u.sibling),(s=i(u,a.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&ys(c)===u.type){n(r,u.sibling),(s=i(u,a.props)).ref=ps(r,u,a),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===_?((s=Dc(a.props.children,r.mode,l,a.key)).return=r,r=s):((l=Rc(a.type,a.key,a.props,null,r.mode,l)).ref=ps(r,s,a),l.return=r,r=l)}return o(r);case k:e:{for(u=a.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===a.containerInfo&&s.stateNode.implementation===a.implementation){n(r,s.sibling),(s=i(s,a.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Mc(a,r.mode,l)).return=r,r=s}return o(r);case P:return e(r,s,(u=a._init)(a._payload),l)}if(te(a))return p(r,s,a,l);if(O(a))return g(r,s,a,l);gs(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,a)).return=r,r=s):(n(r,s),(s=Lc(a,r.mode,l)).return=r,r=s),o(r)):n(r,s)}}var bs=vs(!0),ws=vs(!1),xs=_i(null),ks=null,_s=null,Ns=null;function Es(){Ns=_s=ks=null}function Ss(e){var t=xs.current;Ni(xs),e._currentValue=t}function Cs(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ts(e,t){ks=e,Ns=_s=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(vo=!0),e.firstContext=null)}function Is(e){var t=e._currentValue;if(Ns!==e)if(e={context:e,memoizedValue:t,next:null},null===_s){if(null===ks)throw Error(s(308));_s=e,ks.dependencies={lanes:0,firstContext:e}}else _s=_s.next=e;return t}var js=null;function As(e){null===js?js=[e]:js.push(e)}function Ps(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,As(t)):(n.next=i.next,i.next=n),t.interleaved=n,Rs(e,r)}function Rs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ds=!1;function Os(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ls(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ms(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Rs(e,n)}return null===(i=r.interleaved)?(t.next=t,As(r)):(t.next=i.next,i.next=t),r.interleaved=t,Rs(e,n)}function Us(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Vs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function zs(e,t,n,r){var i=e.updateQueue;Ds=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?s=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var d=i.baseState;for(a=0,u=c=l=null,o=s;;){var h=o.lane,f=o.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=e,p=o;switch(h=t,f=n,p.tag){case 1:if("function"===typeof(m=p.payload)){d=m.call(f,d,h);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(h="function"===typeof(m=p.payload)?m.call(f,d,h):m)||void 0===h)break e;d=M({},d,h);break e;case 2:Ds=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[o]:h.push(o))}else f={eventTime:f,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,a|=h;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(h=o).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Ol|=a,e.lanes=a,e.memoizedState=d}}function Bs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var $s={},qs=_i($s),Ws=_i($s),Hs=_i($s);function Ks(e){if(e===$s)throw Error(s(174));return e}function Gs(e,t){switch(Ei(Hs,t),Ei(Ws,e),Ei(qs,$s),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ni(qs),Ei(qs,t)}function Qs(){Ni(qs),Ni(Ws),Ni(Hs)}function Ys(e){Ks(Hs.current);var t=Ks(qs.current),n=le(t,e.type);t!==n&&(Ei(Ws,e),Ei(qs,n))}function Xs(e){Ws.current===e&&(Ni(qs),Ni(Ws))}var Js=_i(0);function Zs(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ea=[];function ta(){for(var e=0;e<ea.length;e++)ea[e]._workInProgressVersionPrimary=null;ea.length=0}var na=w.ReactCurrentDispatcher,ra=w.ReactCurrentBatchConfig,ia=0,sa=null,aa=null,oa=null,la=!1,ca=!1,ua=0,da=0;function ha(){throw Error(s(321))}function fa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function ma(e,t,n,r,i,a){if(ia=a,sa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,na.current=null===e||null===e.memoizedState?Xa:Ja,e=n(r,i),ca){a=0;do{if(ca=!1,ua=0,25<=a)throw Error(s(301));a+=1,oa=aa=null,t.updateQueue=null,na.current=Za,e=n(r,i)}while(ca)}if(na.current=Ya,t=null!==aa&&null!==aa.next,ia=0,oa=aa=sa=null,la=!1,t)throw Error(s(300));return e}function pa(){var e=0!==ua;return ua=0,e}function ga(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===oa?sa.memoizedState=oa=e:oa=oa.next=e,oa}function ya(){if(null===aa){var e=sa.alternate;e=null!==e?e.memoizedState:null}else e=aa.next;var t=null===oa?sa.memoizedState:oa.next;if(null!==t)oa=t,aa=e;else{if(null===e)throw Error(s(310));e={memoizedState:(aa=e).memoizedState,baseState:aa.baseState,baseQueue:aa.baseQueue,queue:aa.queue,next:null},null===oa?sa.memoizedState=oa=e:oa=oa.next=e}return oa}function va(e,t){return"function"===typeof t?t(e):t}function ba(e){var t=ya(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=aa,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((ia&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,o=r):c=c.next=h,sa.lanes|=d,Ol|=d}u=u.next}while(null!==u&&u!==a);null===c?o=r:c.next=l,ar(r,t.memoizedState)||(vo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,sa.lanes|=a,Ol|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function wa(e){var t=ya(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);ar(a,t.memoizedState)||(vo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function xa(){}function ka(e,t){var n=sa,r=ya(),i=t(),a=!ar(r.memoizedState,i);if(a&&(r.memoizedState=i,vo=!0),r=r.queue,Da(Ea.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==oa&&1&oa.memoizedState.tag){if(n.flags|=2048,Ia(9,Na.bind(null,n,r,i,t),void 0,null),null===Tl)throw Error(s(349));0!==(30&ia)||_a(n,t,i)}return i}function _a(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Na(e,t,n,r){t.value=n,t.getSnapshot=r,Sa(t)&&Ca(e)}function Ea(e,t,n){return n((function(){Sa(t)&&Ca(e)}))}function Sa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Ca(e){var t=Rs(e,1);null!==t&&tc(t,e,1,-1)}function Ta(e){var t=ga();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:va,lastRenderedState:e},t.queue=e,e=e.dispatch=Ha.bind(null,sa,e),[t.memoizedState,e]}function Ia(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ja(){return ya().memoizedState}function Aa(e,t,n,r){var i=ga();sa.flags|=e,i.memoizedState=Ia(1|t,n,void 0,void 0===r?null:r)}function Pa(e,t,n,r){var i=ya();r=void 0===r?null:r;var s=void 0;if(null!==aa){var a=aa.memoizedState;if(s=a.destroy,null!==r&&fa(r,a.deps))return void(i.memoizedState=Ia(t,n,s,r))}sa.flags|=e,i.memoizedState=Ia(1|t,n,s,r)}function Ra(e,t){return Aa(8390656,8,e,t)}function Da(e,t){return Pa(2048,8,e,t)}function Oa(e,t){return Pa(4,2,e,t)}function La(e,t){return Pa(4,4,e,t)}function Ma(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Fa(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Pa(4,4,Ma.bind(null,t,e),n)}function Ua(){}function Va(e,t){var n=ya();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&fa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function za(e,t){var n=ya();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&fa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ba(e,t,n){return 0===(21&ia)?(e.baseState&&(e.baseState=!1,vo=!0),e.memoizedState=n):(ar(n,t)||(n=mt(),sa.lanes|=n,Ol|=n,e.baseState=!0),t)}function $a(e,t){var n=vt;vt=0!==n&&4>n?n:4,e(!0);var r=ra.transition;ra.transition={};try{e(!1),t()}finally{vt=n,ra.transition=r}}function qa(){return ya().memoizedState}function Wa(e,t,n){var r=ec(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ka(e))Ga(t,n);else if(null!==(n=Ps(e,t,n,r))){tc(n,e,r,Zl()),Qa(n,t,r)}}function Ha(e,t,n){var r=ec(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ka(e))Ga(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,ar(o,a)){var l=t.interleaved;return null===l?(i.next=i,As(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(Ny){}null!==(n=Ps(e,t,i,r))&&(tc(n,e,r,i=Zl()),Qa(n,t,r))}}function Ka(e){var t=e.alternate;return e===sa||null!==t&&t===sa}function Ga(e,t){ca=la=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Qa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Ya={readContext:Is,useCallback:ha,useContext:ha,useEffect:ha,useImperativeHandle:ha,useInsertionEffect:ha,useLayoutEffect:ha,useMemo:ha,useReducer:ha,useRef:ha,useState:ha,useDebugValue:ha,useDeferredValue:ha,useTransition:ha,useMutableSource:ha,useSyncExternalStore:ha,useId:ha,unstable_isNewReconciler:!1},Xa={readContext:Is,useCallback:function(e,t){return ga().memoizedState=[e,void 0===t?null:t],e},useContext:Is,useEffect:Ra,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Aa(4194308,4,Ma.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Aa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Aa(4,2,e,t)},useMemo:function(e,t){var n=ga();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ga();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Wa.bind(null,sa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ga().memoizedState=e},useState:Ta,useDebugValue:Ua,useDeferredValue:function(e){return ga().memoizedState=e},useTransition:function(){var e=Ta(!1),t=e[0];return e=$a.bind(null,e[1]),ga().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=sa,i=ga();if(rs){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Tl)throw Error(s(349));0!==(30&ia)||_a(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Ra(Ea.bind(null,r,a,e),[e]),r.flags|=2048,Ia(9,Na.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=ga(),t=Tl.identifierPrefix;if(rs){var n=Yi;t=":"+t+"R"+(n=(Qi&~(1<<32-st(Qi)-1)).toString(32)+n),0<(n=ua++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=da++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ja={readContext:Is,useCallback:Va,useContext:Is,useEffect:Da,useImperativeHandle:Fa,useInsertionEffect:Oa,useLayoutEffect:La,useMemo:za,useReducer:ba,useRef:ja,useState:function(){return ba(va)},useDebugValue:Ua,useDeferredValue:function(e){return Ba(ya(),aa.memoizedState,e)},useTransition:function(){return[ba(va)[0],ya().memoizedState]},useMutableSource:xa,useSyncExternalStore:ka,useId:qa,unstable_isNewReconciler:!1},Za={readContext:Is,useCallback:Va,useContext:Is,useEffect:Da,useImperativeHandle:Fa,useInsertionEffect:Oa,useLayoutEffect:La,useMemo:za,useReducer:wa,useRef:ja,useState:function(){return wa(va)},useDebugValue:Ua,useDeferredValue:function(e){var t=ya();return null===aa?t.memoizedState=e:Ba(t,aa.memoizedState,e)},useTransition:function(){return[wa(va)[0],ya().memoizedState]},useMutableSource:xa,useSyncExternalStore:ka,useId:qa,unstable_isNewReconciler:!1};function eo(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function to(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var no={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Zl(),i=ec(e),s=Ms(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Fs(e,s,i))&&(tc(t,e,i,r),Us(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Zl(),i=ec(e),s=Ms(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Fs(e,s,i))&&(tc(t,e,i,r),Us(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Zl(),r=ec(e),i=Ms(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Fs(e,i,r))&&(tc(t,e,r,n),Us(t,e,r))}};function ro(e,t,n,r,i,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!or(n,r)||!or(i,s))}function io(e,t,n){var r=!1,i=Si,s=t.contextType;return"object"===typeof s&&null!==s?s=Is(s):(i=Ai(t)?Ii:Ci.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?ji(e,i):Si),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=no,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function so(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&no.enqueueReplaceState(t,t.state,null)}function ao(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Os(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=Is(s):(s=Ai(t)?Ii:Ci.current,i.context=ji(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(to(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&no.enqueueReplaceState(i,i.state,null),zs(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function oo(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function lo(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function co(e,t){try{console.error(t.value)}catch(Ky){setTimeout((function(){throw Ky}))}}var uo="function"===typeof WeakMap?WeakMap:Map;function ho(e,t,n){(n=Ms(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){$l||($l=!0,ql=r),co(0,t)},n}function fo(e,t,n){(n=Ms(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){co(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){co(0,t),"function"!==typeof r&&(null===Wl?Wl=new Set([this]):Wl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new uo;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Nc.bind(null,e,t,n),t.then(e,e))}function po(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function go(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ms(-1,1)).tag=2,Fs(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var yo=w.ReactCurrentOwner,vo=!1;function bo(e,t,n,r){t.child=null===e?ws(t,null,n,r):bs(t,e.child,n,r)}function wo(e,t,n,r,i){n=n.render;var s=t.ref;return Ts(t,i),r=ma(e,t,n,r,s,i),n=pa(),null===e||vo?(rs&&n&&Zi(t),t.flags|=1,bo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,$o(e,t,i))}function xo(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Ac(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Rc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,ko(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:or)(a,r)&&e.ref===t.ref)return $o(e,t,i)}return t.flags|=1,(e=Pc(s,r)).ref=t.ref,e.return=t,t.child=e}function ko(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(or(s,r)&&e.ref===t.ref){if(vo=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,$o(e,t,i);0!==(131072&e.flags)&&(vo=!0)}}return Eo(e,t,n,r,i)}function _o(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Pl,Al),Al|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Pl,Al),Al|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Ei(Pl,Al),Al|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ei(Pl,Al),Al|=r;return bo(e,t,i,n),t.child}function No(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Eo(e,t,n,r,i){var s=Ai(n)?Ii:Ci.current;return s=ji(t,s),Ts(t,i),n=ma(e,t,n,r,s,i),r=pa(),null===e||vo?(rs&&r&&Zi(t),t.flags|=1,bo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,$o(e,t,i))}function So(e,t,n,r,i){if(Ai(n)){var s=!0;Oi(t)}else s=!1;if(Ts(t,i),null===t.stateNode)Bo(e,t),io(t,n,r),ao(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Is(c):c=ji(t,c=Ai(n)?Ii:Ci.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==r||l!==c)&&so(t,a,r,c),Ds=!1;var h=t.memoizedState;a.state=h,zs(t,r,a,i),l=t.memoizedState,o!==r||h!==l||Ti.current||Ds?("function"===typeof u&&(to(t,n,u,r),l=t.memoizedState),(o=Ds||ro(t,n,o,r,h,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Ls(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:eo(t.type,o),a.props=c,d=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Is(l):l=ji(t,l=Ai(n)?Ii:Ci.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==d||h!==l)&&so(t,a,r,l),Ds=!1,h=t.memoizedState,a.state=h,zs(t,r,a,i);var m=t.memoizedState;o!==d||h!==m||Ti.current||Ds?("function"===typeof f&&(to(t,n,f,r),m=t.memoizedState),(c=Ds||ro(t,n,c,r,h,m,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,m,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,m,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),a.props=r,a.state=m,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Co(e,t,n,r,s,i)}function Co(e,t,n,r,i,s){No(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Li(t,n,!1),$o(e,t,s);r=t.stateNode,yo.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=bs(t,e.child,null,s),t.child=bs(t,null,o,s)):bo(e,t,o,s),t.memoizedState=r.state,i&&Li(t,n,!0),t.child}function To(e){var t=e.stateNode;t.pendingContext?Ri(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ri(0,t.context,!1),Gs(e,t.containerInfo)}function Io(e,t,n,r,i){return hs(),fs(i),t.flags|=256,bo(e,t,n,r),t.child}var jo,Ao,Po,Ro,Do={dehydrated:null,treeContext:null,retryLane:0};function Oo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Lo(e,t,n){var r,i=t.pendingProps,a=Js.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ei(Js,1&a),null===e)return ls(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,o?(i=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Oc(l,i,0,null),e=Dc(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Oo(n),t.memoizedState=Do,e):Mo(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,o){if(n)return 256&t.flags?(t.flags&=-257,Fo(e,t,o,r=lo(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Oc({mode:"visible",children:r.children},i,0,null),(a=Dc(a,i,o,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&bs(t,e.child,null,o),t.child.memoizedState=Oo(o),t.memoizedState=Do,a);if(0===(1&t.mode))return Fo(e,t,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Fo(e,t,o,r=lo(a=Error(s(419)),r,void 0))}if(l=0!==(o&e.childLanes),vo||l){if(null!==(r=Tl)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|o))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Rs(e,i),tc(r,e,i,-1))}return mc(),Fo(e,t,o,r=lo(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Sc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ns=li(i.nextSibling),ts=t,rs=!0,is=null,null!==e&&(Hi[Ki++]=Qi,Hi[Ki++]=Yi,Hi[Ki++]=Gi,Qi=e.id,Yi=e.overflow,Gi=t),t=Mo(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(o){o=i.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Pc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?o=Pc(r,o):(o=Dc(o,l,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,l=null===(l=e.child.memoizedState)?Oo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Do,i}return e=(o=e.child).sibling,i=Pc(o,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Mo(e,t){return(t=Oc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fo(e,t,n,r){return null!==r&&fs(r),bs(t,e.child,null,n),(e=Mo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Uo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Cs(e.return,t,n)}function Vo(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function zo(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(bo(e,t,r.children,n),0!==(2&(r=Js.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Uo(e,n,t);else if(19===e.tag)Uo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(Js,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Zs(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Vo(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Zs(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Vo(t,!0,n,null,s);break;case"together":Vo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Bo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function $o(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ol|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Pc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qo(e,t){if(!rs)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Wo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ho(e,t,n){var r=t.pendingProps;switch(es(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wo(t),null;case 1:case 17:return Ai(t.type)&&Pi(),Wo(t),null;case 3:return r=t.stateNode,Qs(),Ni(Ti),Ni(Ci),ta(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(us(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==is&&(sc(is),is=null))),Ao(e,t),Wo(t),null;case 5:Xs(t);var i=Ks(Hs.current);if(n=t.type,null!==e&&null!=t.stateNode)Po(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Wo(t),null}if(e=Ks(qs.current),us(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[di]=t,r[hi]=a,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Dr.length;i++)Fr(Dr[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":Y(r,a),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Fr("invalid",r);break;case"textarea":ie(r,a),Fr("invalid",r)}for(var l in ye(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Fr("scroll",r)}switch(n){case"input":H(r),Z(r,a,!0);break;case"textarea":H(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Jr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[di]=t,e[hi]=r,jo(e,t,!1,!1),t.stateNode=e;e:{switch(l=ve(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),i=r;break;case"iframe":case"object":case"embed":Fr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Dr.length;i++)Fr(Dr[i],e);i=r;break;case"source":Fr("error",e),i=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),i=r;break;case"details":Fr("toggle",e),i=r;break;case"input":Y(e,r),i=Q(e,r),Fr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Fr("invalid",e)}for(a in ye(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?pe(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&ue(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Fr("scroll",e):null!=u&&b(e,a,u,l))}switch(n){case"input":H(e),Z(e,r,!1);break;case"textarea":H(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Wo(t),null;case 6:if(e&&null!=t.stateNode)Ro(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Ks(Hs.current),Ks(qs.current),us(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(a=r.nodeValue!==n)&&null!==(e=ts))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Wo(t),null;case 13:if(Ni(Js),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(rs&&null!==ns&&0!==(1&t.mode)&&0===(128&t.flags))ds(),hs(),t.flags|=98560,a=!1;else if(a=us(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(s(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(s(317));a[di]=t}else hs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Wo(t),a=!1}else null!==is&&(sc(is),is=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Js.current)?0===Rl&&(Rl=3):mc())),null!==t.updateQueue&&(t.flags|=4),Wo(t),null);case 4:return Qs(),Ao(e,t),null===e&&zr(t.stateNode.containerInfo),Wo(t),null;case 10:return Ss(t.type._context),Wo(t),null;case 19:if(Ni(Js),null===(a=t.memoizedState))return Wo(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)qo(a,!1);else{if(0!==Rl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=Zs(e))){for(t.flags|=128,qo(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(Js,1&Js.current|2),t.child}e=e.sibling}null!==a.tail&&Ye()>zl&&(t.flags|=128,r=!0,qo(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=Zs(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),qo(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!rs)return Wo(t),null}else 2*Ye()-a.renderingStartTime>zl&&1073741824!==n&&(t.flags|=128,r=!0,qo(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ye(),t.sibling=null,n=Js.current,Ei(Js,r?1&n|2:1&n),t):(Wo(t),null);case 22:case 23:return uc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Al)&&(Wo(t),6&t.subtreeFlags&&(t.flags|=8192)):Wo(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Ko(e,t){switch(es(t),t.tag){case 1:return Ai(t.type)&&Pi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Qs(),Ni(Ti),Ni(Ci),ta(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Xs(t),null;case 13:if(Ni(Js),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));hs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ni(Js),null;case 4:return Qs(),null;case 10:return Ss(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}jo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ao=function(){},Po=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ks(qs.current);var s,a=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),a=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Fr("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Ro=function(e,t,n,r){n!==r&&(t.flags|=4)};var Go=!1,Qo=!1,Yo="function"===typeof WeakSet?WeakSet:Set,Xo=null;function Jo(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){_c(e,t,r)}else n.current=null}function Zo(e,t,n){try{n()}catch(r){_c(e,t,r)}}var el=!1;function tl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&Zo(t,n,s)}i=i.next}while(i!==r)}}function nl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function rl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function il(e){var t=e.alternate;null!==t&&(e.alternate=null,il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[hi],delete t[mi],delete t[pi],delete t[gi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function al(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ol(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(ol(e,t,n),e=e.sibling;null!==e;)ol(e,t,n),e=e.sibling}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}var cl=null,ul=!1;function dl(e,t,n){for(n=n.child;null!==n;)hl(e,t,n),n=n.sibling}function hl(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(rt,n)}catch(o){}switch(n.tag){case 5:Qo||Jo(n,t);case 6:var r=cl,i=ul;cl=null,dl(e,t,n),ul=i,null!==(cl=r)&&(ul?(e=cl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cl.removeChild(n.stateNode));break;case 18:null!==cl&&(ul?(e=cl,n=n.stateNode,8===e.nodeType?oi(e.parentNode,n):1===e.nodeType&&oi(e,n),zt(e)):oi(cl,n.stateNode));break;case 4:r=cl,i=ul,cl=n.stateNode.containerInfo,ul=!0,dl(e,t,n),cl=r,ul=i;break;case 0:case 11:case 14:case 15:if(!Qo&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,void 0!==a&&(0!==(2&s)||0!==(4&s))&&Zo(n,t,a),i=i.next}while(i!==r)}dl(e,t,n);break;case 1:if(!Qo&&(Jo(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){_c(n,t,o)}dl(e,t,n);break;case 21:dl(e,t,n);break;case 22:1&n.mode?(Qo=(r=Qo)||null!==n.memoizedState,dl(e,t,n),Qo=r):dl(e,t,n);break;default:dl(e,t,n)}}function fl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Yo),t.forEach((function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,ul=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,ul=!0;break e}l=l.return}if(null===cl)throw Error(s(160));hl(a,o,i),cl=null,ul=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(Ny){_c(i,t,Ny)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)pl(t,e),t=t.sibling}function pl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),gl(e),4&r){try{tl(3,e,e.return),nl(3,e)}catch(Gy){_c(e,e.return,Gy)}try{tl(5,e,e.return)}catch(Gy){_c(e,e.return,Gy)}}break;case 1:ml(t,e),gl(e),512&r&&null!==n&&Jo(n,n.return);break;case 5:if(ml(t,e),gl(e),512&r&&null!==n&&Jo(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(Gy){_c(e,e.return,Gy)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&X(i,a),ve(l,o);var u=ve(l,a);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];"style"===d?pe(i,h):"dangerouslySetInnerHTML"===d?ue(i,h):"children"===d?de(i,h):b(i,d,h,u)}switch(l){case"input":J(i,a);break;case"textarea":se(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var m=a.value;null!=m?ne(i,!!a.multiple,m,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[hi]=a}catch(Gy){_c(e,e.return,Gy)}}break;case 6:if(ml(t,e),gl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(Gy){_c(e,e.return,Gy)}}break;case 3:if(ml(t,e),gl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(Gy){_c(e,e.return,Gy)}break;case 4:default:ml(t,e),gl(e);break;case 13:ml(t,e),gl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Vl=Ye())),4&r&&fl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Qo=(u=Qo)||d,ml(t,e),Qo=u):ml(t,e),gl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Xo=e,d=e.child;null!==d;){for(h=Xo=d;null!==Xo;){switch(m=(f=Xo).child,f.tag){case 0:case 11:case 14:case 15:tl(4,f,f.return);break;case 1:Jo(f,f.return);var p=f.stateNode;if("function"===typeof p.componentWillUnmount){r=f,n=f.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(Gy){_c(r,n,Gy)}}break;case 5:Jo(f,f.return);break;case 22:if(null!==f.memoizedState){wl(h);continue}}null!==m?(m.return=f,Xo=m):wl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",o))}catch(Gy){_c(e,e.return,Gy)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(Gy){_c(e,e.return,Gy)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),gl(e),4&r&&fl(e);case 21:}}function gl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),ll(e,al(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;ol(e,al(e),a);break;default:throw Error(s(161))}}catch(o){_c(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Xo=e,vl(e,t,n)}function vl(e,t,n){for(var r=0!==(1&e.mode);null!==Xo;){var i=Xo,s=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Go;if(!a){var o=i.alternate,l=null!==o&&null!==o.memoizedState||Qo;o=Go;var c=Qo;if(Go=a,(Qo=l)&&!c)for(Xo=i;null!==Xo;)l=(a=Xo).child,22===a.tag&&null!==a.memoizedState?xl(i):null!==l?(l.return=a,Xo=l):xl(i);for(;null!==s;)Xo=s,vl(s,t,n),s=s.sibling;Xo=i,Go=o,Qo=c}bl(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Xo=s):bl(e)}}function bl(e){for(;null!==Xo;){var t=Xo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Qo||nl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Qo)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:eo(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Bs(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Bs(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(s(163))}Qo||512&t.flags&&rl(t)}catch(by){_c(t,t.return,by)}}if(t===e){Xo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xo=n;break}Xo=t.return}}function wl(e){for(;null!==Xo;){var t=Xo;if(t===e){Xo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xo=n;break}Xo=t.return}}function xl(e){for(;null!==Xo;){var t=Xo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{nl(4,t)}catch(l){_c(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){_c(t,i,l)}}var s=t.return;try{rl(t)}catch(l){_c(t,s,l)}break;case 5:var a=t.return;try{rl(t)}catch(l){_c(t,a,l)}}}catch(l){_c(t,t.return,l)}if(t===e){Xo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Xo=o;break}Xo=t.return}}var kl,_l=Math.ceil,Nl=w.ReactCurrentDispatcher,El=w.ReactCurrentOwner,Sl=w.ReactCurrentBatchConfig,Cl=0,Tl=null,Il=null,jl=0,Al=0,Pl=_i(0),Rl=0,Dl=null,Ol=0,Ll=0,Ml=0,Fl=null,Ul=null,Vl=0,zl=1/0,Bl=null,$l=!1,ql=null,Wl=null,Hl=!1,Kl=null,Gl=0,Ql=0,Yl=null,Xl=-1,Jl=0;function Zl(){return 0!==(6&Cl)?Ye():-1!==Xl?Xl:Xl=Ye()}function ec(e){return 0===(1&e.mode)?1:0!==(2&Cl)&&0!==jl?jl&-jl:null!==ms.transition?(0===Jl&&(Jl=mt()),Jl):0!==(e=vt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function tc(e,t,n,r){if(50<Ql)throw Ql=0,Yl=null,Error(s(185));gt(e,n,r),0!==(2&Cl)&&e===Tl||(e===Tl&&(0===(2&Cl)&&(Ll|=n),4===Rl&&ac(e,jl)),nc(e,r),1===n&&0===Cl&&0===(1&t.mode)&&(zl=Ye()+500,Fi&&zi()))}function nc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-st(s),o=1<<a,l=i[a];-1===l?0!==(o&n)&&0===(o&r)||(i[a]=ht(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=dt(e,e===Tl?jl:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){Fi=!0,Vi(e)}(oc.bind(null,e)):Vi(oc.bind(null,e)),si((function(){0===(6&Cl)&&zi()})),n=null;else{switch(bt(r)){case 1:n=Je;break;case 4:n=Ze;break;case 16:default:n=et;break;case 536870912:n=nt}n=Tc(n,rc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rc(e,t){if(Xl=-1,Jl=0,0!==(6&Cl))throw Error(s(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=dt(e,e===Tl?jl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=pc(e,r);else{t=r;var i=Cl;Cl|=2;var a=fc();for(Tl===e&&jl===t||(Bl=null,zl=Ye()+500,dc(e,t));;)try{yc();break}catch(l){hc(e,l)}Es(),Nl.current=a,Cl=i,null!==Il?t=0:(Tl=null,jl=0,t=Rl)}if(0!==t){if(2===t&&(0!==(i=ft(e))&&(r=i,t=ic(e,i))),1===t)throw n=Dl,dc(e,0),ac(e,r),nc(e,Ye()),n;if(6===t)ac(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ar(s(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=pc(e,r))&&(0!==(a=ft(e))&&(r=a,t=ic(e,a))),1===t))throw n=Dl,dc(e,0),ac(e,r),nc(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:wc(e,Ul,Bl);break;case 3:if(ac(e,r),(130023424&r)===r&&10<(t=Vl+500-Ye())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){Zl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ni(wc.bind(null,e,Ul,Bl),t);break}wc(e,Ul,Bl);break;case 4:if(ac(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-st(r);a=1<<o,(o=t[o])>i&&(i=o),r&=~a}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_l(r/1960))-r)){e.timeoutHandle=ni(wc.bind(null,e,Ul,Bl),r);break}wc(e,Ul,Bl);break;default:throw Error(s(329))}}}return nc(e,Ye()),e.callbackNode===n?rc.bind(null,e):null}function ic(e,t){var n=Fl;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=pc(e,t))&&(t=Ul,Ul=n,null!==t&&sc(t)),e}function sc(e){null===Ul?Ul=e:Ul.push.apply(Ul,e)}function ac(e,t){for(t&=~Ml,t&=~Ll,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function oc(e){if(0!==(6&Cl))throw Error(s(327));xc();var t=dt(e,0);if(0===(1&t))return nc(e,Ye()),null;var n=pc(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=ic(e,r))}if(1===n)throw n=Dl,dc(e,0),ac(e,t),nc(e,Ye()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Ul,Bl),nc(e,Ye()),null}function lc(e,t){var n=Cl;Cl|=1;try{return e(t)}finally{0===(Cl=n)&&(zl=Ye()+500,Fi&&zi())}}function cc(e){null!==Kl&&0===Kl.tag&&0===(6&Cl)&&xc();var t=Cl;Cl|=1;var n=Sl.transition,r=vt;try{if(Sl.transition=null,vt=1,e)return e()}finally{vt=r,Sl.transition=n,0===(6&(Cl=t))&&zi()}}function uc(){Al=Pl.current,Ni(Pl)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ri(n)),null!==Il)for(n=Il.return;null!==n;){var r=n;switch(es(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pi();break;case 3:Qs(),Ni(Ti),Ni(Ci),ta();break;case 5:Xs(r);break;case 4:Qs();break;case 13:case 19:Ni(Js);break;case 10:Ss(r.type._context);break;case 22:case 23:uc()}n=n.return}if(Tl=e,Il=e=Pc(e.current,null),jl=Al=t,Rl=0,Dl=null,Ml=Ll=Ol=0,Ul=Fl=null,null!==js){for(t=0;t<js.length;t++)if(null!==(r=(n=js[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var a=s.next;s.next=i,r.next=a}n.pending=r}js=null}return e}function hc(e,t){for(;;){var n=Il;try{if(Es(),na.current=Ya,la){for(var r=sa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}la=!1}if(ia=0,oa=aa=sa=null,ca=!1,ua=0,El.current=null,null===n||null===n.return){Rl=1,Dl=t,Il=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=jl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=po(o);if(null!==m){m.flags&=-257,go(m,o,l,0,t),1&m.mode&&mo(a,u,t),c=u;var p=(t=m).updateQueue;if(null===p){var g=new Set;g.add(c),t.updateQueue=g}else p.add(c);break e}if(0===(1&t)){mo(a,u,t),mc();break e}c=Error(s(426))}else if(rs&&1&l.mode){var y=po(o);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),go(y,o,l,0,t),fs(oo(c,l));break e}}a=c=oo(c,l),4!==Rl&&(Rl=2),null===Fl?Fl=[a]:Fl.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Vs(a,ho(0,c,t));break e;case 1:l=c;var v=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Wl||!Wl.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Vs(a,fo(a,l,t));break e}}a=a.return}while(null!==a)}bc(n)}catch(w){t=w,Il===n&&null!==n&&(Il=n=n.return);continue}break}}function fc(){var e=Nl.current;return Nl.current=Ya,null===e?Ya:e}function mc(){0!==Rl&&3!==Rl&&2!==Rl||(Rl=4),null===Tl||0===(268435455&Ol)&&0===(268435455&Ll)||ac(Tl,jl)}function pc(e,t){var n=Cl;Cl|=2;var r=fc();for(Tl===e&&jl===t||(Bl=null,dc(e,t));;)try{gc();break}catch(Ry){hc(e,Ry)}if(Es(),Cl=n,Nl.current=r,null!==Il)throw Error(s(261));return Tl=null,jl=0,Rl}function gc(){for(;null!==Il;)vc(Il)}function yc(){for(;null!==Il&&!Ge();)vc(Il)}function vc(e){var t=kl(e.alternate,e,Al);e.memoizedProps=e.pendingProps,null===t?bc(e):Il=t,El.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ho(n,t,Al)))return void(Il=n)}else{if(null!==(n=Ko(n,t)))return n.flags&=32767,void(Il=n);if(null===e)return Rl=6,void(Il=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Il=t);Il=t=e}while(null!==t);0===Rl&&(Rl=5)}function wc(e,t,n){var r=vt,i=Sl.transition;try{Sl.transition=null,vt=1,function(e,t,n,r){do{xc()}while(null!==Kl);if(0!==(6&Cl))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-st(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,a),e===Tl&&(Il=Tl=null,jl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Hl||(Hl=!0,Tc(et,(function(){return xc(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Sl.transition,Sl.transition=null;var o=vt;vt=1;var l=Cl;Cl|=4,El.current=null,function(e,t){if(Zr=$t,hr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(x){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var m;h!==n||0!==i&&3!==h.nodeType||(l=o+i),h!==a||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(m=h.firstChild);)f=h,h=m;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=o),f===a&&++d===r&&(c=o),null!==(m=h.nextSibling))break;f=(h=f).parentNode}h=m}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ei={focusedElem:e,selectionRange:n},$t=!1,Xo=t;null!==Xo;)if(e=(t=Xo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xo=e;else for(;null!==Xo;){t=Xo;try{var p=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var g=p.memoizedProps,y=p.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:eo(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(s(163))}}catch(x){_c(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Xo=e;break}Xo=t.return}p=el,el=!1}(e,n),pl(n,e),fr(ei),$t=!!Zr,ei=Zr=null,e.current=n,yl(n,e,i),Qe(),Cl=l,vt=o,Sl.transition=a}else e.current=n;if(Hl&&(Hl=!1,Kl=e,Gl=i),a=e.pendingLanes,0===a&&(Wl=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),nc(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if($l)throw $l=!1,e=ql,ql=null,e;0!==(1&Gl)&&0!==e.tag&&xc(),a=e.pendingLanes,0!==(1&a)?e===Yl?Ql++:(Ql=0,Yl=e):Ql=0,zi()}(e,t,n,r)}finally{Sl.transition=i,vt=r}return null}function xc(){if(null!==Kl){var e=bt(Gl),t=Sl.transition,n=vt;try{if(Sl.transition=null,vt=16>e?16:e,null===Kl)var r=!1;else{if(e=Kl,Kl=null,Gl=0,0!==(6&Cl))throw Error(s(331));var i=Cl;for(Cl|=4,Xo=e.current;null!==Xo;){var a=Xo,o=a.child;if(0!==(16&Xo.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Xo=u;null!==Xo;){var d=Xo;switch(d.tag){case 0:case 11:case 15:tl(8,d,a)}var h=d.child;if(null!==h)h.return=d,Xo=h;else for(;null!==Xo;){var f=(d=Xo).sibling,m=d.return;if(il(d),d===u){Xo=null;break}if(null!==f){f.return=m,Xo=f;break}Xo=m}}}var p=a.alternate;if(null!==p){var g=p.child;if(null!==g){p.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Xo=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,Xo=o;else e:for(;null!==Xo;){if(0!==(2048&(a=Xo).flags))switch(a.tag){case 0:case 11:case 15:tl(9,a,a.return)}var v=a.sibling;if(null!==v){v.return=a.return,Xo=v;break e}Xo=a.return}}var b=e.current;for(Xo=b;null!==Xo;){var w=(o=Xo).child;if(0!==(2064&o.subtreeFlags)&&null!==w)w.return=o,Xo=w;else e:for(o=b;null!==Xo;){if(0!==(2048&(l=Xo).flags))try{switch(l.tag){case 0:case 11:case 15:nl(9,l)}}catch(k){_c(l,l.return,k)}if(l===o){Xo=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,Xo=x;break e}Xo=l.return}}if(Cl=i,zi(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(rt,e)}catch(k){}r=!0}return r}finally{vt=n,Sl.transition=t}}return!1}function kc(e,t,n){e=Fs(e,t=ho(0,t=oo(n,t),1),1),t=Zl(),null!==e&&(gt(e,1,t),nc(e,t))}function _c(e,t,n){if(3===e.tag)kc(e,e,n);else for(;null!==t;){if(3===t.tag){kc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Wl||!Wl.has(r))){t=Fs(t,e=fo(t,e=oo(n,e),1),1),e=Zl(),null!==t&&(gt(t,1,e),nc(t,e));break}}t=t.return}}function Nc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Zl(),e.pingedLanes|=e.suspendedLanes&n,Tl===e&&(jl&n)===n&&(4===Rl||3===Rl&&(130023424&jl)===jl&&500>Ye()-Vl?dc(e,0):Ml|=n),nc(e,t)}function Ec(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=Zl();null!==(e=Rs(e,t))&&(gt(e,t,n),nc(e,n))}function Sc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ec(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Ec(e,n)}function Tc(e,t){return He(e,t)}function Ic(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jc(e,t,n,r){return new Ic(e,t,n,r)}function Ac(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pc(e,t){var n=e.alternate;return null===n?((n=jc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rc(e,t,n,r,i,a){var o=2;if(r=e,"function"===typeof e)Ac(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case _:return Dc(n.children,i,a,t);case N:o=8,i|=8;break;case E:return(e=jc(12,n,t,2|i)).elementType=E,e.lanes=a,e;case I:return(e=jc(13,n,t,i)).elementType=I,e.lanes=a,e;case j:return(e=jc(19,n,t,i)).elementType=j,e.lanes=a,e;case R:return Oc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:o=10;break e;case C:o=9;break e;case T:o=11;break e;case A:o=14;break e;case P:o=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=jc(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Dc(e,t,n,r){return(e=jc(7,e,r,t)).lanes=n,e}function Oc(e,t,n,r){return(e=jc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Lc(e,t,n){return(e=jc(6,e,null,t)).lanes=n,e}function Mc(e,t,n){return(t=jc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pt(0),this.expirationTimes=pt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,i,s,a,o,l){return e=new Fc(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=jc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Os(s),e}function Vc(e){if(!e)return Si;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ai(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Ai(n))return Di(e,n,t)}return t}function zc(e,t,n,r,i,s,a,o,l){return(e=Uc(n,r,!0,e,0,s,0,o,l)).context=Vc(null),n=e.current,(s=Ms(r=Zl(),i=ec(n))).callback=void 0!==t&&null!==t?t:null,Fs(n,s,i),e.current.lanes=i,gt(e,i,r),nc(e,r),e}function Bc(e,t,n,r){var i=t.current,s=Zl(),a=ec(i);return n=Vc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ms(s,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Fs(i,t,a))&&(tc(e,i,a,s),Us(e,i,a)),a}function $c(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wc(e,t){qc(e,t),(e=e.alternate)&&qc(e,t)}kl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ti.current)vo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return vo=!1,function(e,t,n){switch(t.tag){case 3:To(t),hs();break;case 5:Ys(t);break;case 1:Ai(t.type)&&Oi(t);break;case 4:Gs(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(xs,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(Js,1&Js.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Lo(e,t,n):(Ei(Js,1&Js.current),null!==(e=$o(e,t,n))?e.sibling:null);Ei(Js,1&Js.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return zo(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(Js,Js.current),r)break;return null;case 22:case 23:return t.lanes=0,_o(e,t,n)}return $o(e,t,n)}(e,t,n);vo=0!==(131072&e.flags)}else vo=!1,rs&&0!==(1048576&t.flags)&&Ji(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Bo(e,t),e=t.pendingProps;var i=ji(t,Ci.current);Ts(t,n),i=ma(null,t,r,e,i,n);var a=pa();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ai(r)?(a=!0,Oi(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Os(t),i.updater=no,t.stateNode=i,i._reactInternals=t,ao(t,r,e,n),t=Co(null,t,r,!0,a,n)):(t.tag=0,rs&&a&&Zi(t),bo(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Bo(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Ac(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===A)return 14}return 2}(r),e=eo(r,e),i){case 0:t=Eo(null,t,r,e,n);break e;case 1:t=So(null,t,r,e,n);break e;case 11:t=wo(null,t,r,e,n);break e;case 14:t=xo(null,t,r,eo(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Eo(e,t,r,i=t.elementType===r?i:eo(r,i),n);case 1:return r=t.type,i=t.pendingProps,So(e,t,r,i=t.elementType===r?i:eo(r,i),n);case 3:e:{if(To(t),null===e)throw Error(s(387));r=t.pendingProps,i=(a=t.memoizedState).element,Ls(e,t),zs(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Io(e,t,r,n,i=oo(Error(s(423)),t));break e}if(r!==i){t=Io(e,t,r,n,i=oo(Error(s(424)),t));break e}for(ns=li(t.stateNode.containerInfo.firstChild),ts=t,rs=!0,is=null,n=ws(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(hs(),r===i){t=$o(e,t,n);break e}bo(e,t,r,n)}t=t.child}return t;case 5:return Ys(t),null===e&&ls(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,ti(r,i)?o=null:null!==a&&ti(r,a)&&(t.flags|=32),No(e,t),bo(e,t,o,n),t.child;case 6:return null===e&&ls(t),null;case 13:return Lo(e,t,n);case 4:return Gs(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=bs(t,null,r,n):bo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,wo(e,t,r,i=t.elementType===r?i:eo(r,i),n);case 7:return bo(e,t,t.pendingProps,n),t.child;case 8:case 12:return bo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Ei(xs,r._currentValue),r._currentValue=o,null!==a)if(ar(a.value,o)){if(a.children===i.children&&!Ti.current){t=$o(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Ms(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Cs(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(s(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Cs(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}bo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ts(t,n),r=r(i=Is(i)),t.flags|=1,bo(e,t,r,n),t.child;case 14:return i=eo(r=t.type,t.pendingProps),xo(e,t,r,i=eo(r.type,i),n);case 15:return ko(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:eo(r,i),Bo(e,t),t.tag=1,Ai(r)?(e=!0,Oi(t)):e=!1,Ts(t,n),io(t,r,i),ao(t,r,i,n),Co(null,t,r,!0,e,n);case 19:return zo(e,t,n);case 22:return _o(e,t,n)}throw Error(s(156,t.tag))};var Hc="function"===typeof reportError?reportError:function(e){console.error(e)};function Kc(e){this._internalRoot=e}function Gc(e){this._internalRoot=e}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function Jc(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if("function"===typeof i){var o=i;i=function(){var e=$c(a);o.call(e)}}Bc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=$c(a);s.call(e)}}var a=zc(t,r,e,0,null,!1,0,"",Xc);return e._reactRootContainer=a,e[fi]=a.current,zr(8===e.nodeType?e.parentNode:e),cc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var o=r;r=function(){var e=$c(l);o.call(e)}}var l=Uc(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=l,e[fi]=l.current,zr(8===e.nodeType?e.parentNode:e),cc((function(){Bc(t,l,n,r)})),l}(n,t,e,i,r);return $c(a)}Gc.prototype.render=Kc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Bc(e,t,null,null)},Gc.prototype.unmount=Kc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cc((function(){Bc(null,e,null,null)})),t[fi]=null}},Gc.prototype.unstable_scheduleHydration=function(e){if(e){var t=_t();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Lt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ut(t.pendingLanes);0!==n&&(yt(t,1|n),nc(t,Ye()),0===(6&Cl)&&(zl=Ye()+500,zi()))}break;case 13:cc((function(){var t=Rs(e,1);if(null!==t){var n=Zl();tc(t,e,1,n)}})),Wc(e,1)}},xt=function(e){if(13===e.tag){var t=Rs(e,134217728);if(null!==t)tc(t,e,134217728,Zl());Wc(e,134217728)}},kt=function(e){if(13===e.tag){var t=ec(e),n=Rs(e,t);if(null!==n)tc(n,e,t,Zl());Wc(e,t)}},_t=function(){return vt},Nt=function(e,t){var n=vt;try{return vt=e,t()}finally{vt=n}},xe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(s(90));K(r),J(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=lc,Te=cc;var Zc={usingClientEntryPoint:!1,Events:[vi,bi,wi,Ee,Se,lc]},eu={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tu={bundleType:eu.bundleType,version:eu.version,rendererPackageName:eu.rendererPackageName,rendererConfig:eu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:eu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var nu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nu.isDisabled&&nu.supportsFiber)try{rt=nu.inject(tu),it=nu}catch(ru){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Qc(e))throw Error(s(299));var n=!1,r="",i=Hc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,i),e[fi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Kc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return cc(e)},t.hydrate=function(e,t,n){if(!Yc(t))throw Error(s(200));return Jc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Qc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",o=Hc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=zc(t,null,e,1,null!=n?n:null,i,0,a,o),e[fi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Gc(t)},t.render=function(e,t,n){if(!Yc(t))throw Error(s(200));return Jc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Yc(e))throw Error(s(40));return!!e._reactRootContainer&&(cc((function(){Jc(null,null,e,!1,(function(){e._reactRootContainer=null,e[fi]=null}))})),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Jc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.m=e,(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&i&&r;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((e=>a[e]=()=>r[e]));return a.default=()=>r,n.d(s,a),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".fa9b6a3e.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(Ry){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="prn-club:";n.l=(r,i,s,a)=>{if(e[r])e[r].push(i);else{var o,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+s){o=d;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+s),o.src=r),e[r]=[i];var h=(t,n)=>{o.onerror=o.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach((e=>e(n))),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var s=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=s);var a=n.p+n.u(t),o=new Error;n.l(a,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var s=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+s+": "+a+")",o.name="ChunkLoadError",o.type=s,o.request=a,i[1](o)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,s,a=r[0],o=r[1],l=r[2],c=0;if(a.some((t=>0!==e[t]))){for(i in o)n.o(o,i)&&(n.m[i]=o[i]);if(l)l(n)}for(t&&t(r);c<a.length;c++)s=a[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.webpackChunkprn_club=self.webpackChunkprn_club||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r,i=n(43),s=n.t(i,2),a=n(391);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));const l="popstate";function c(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function u(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(Ry){}}}function d(e,t){return{usr:e.state,key:e.key,idx:t}}function h(e,t,n,r){return void 0===n&&(n=null),o({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?m(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function f(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function m(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function p(e,t,n,i){void 0===i&&(i={});let{window:s=document.defaultView,v5Compat:a=!1}=i,u=s.history,m=r.Pop,p=null,g=y();function y(){return(u.state||{idx:null}).idx}function v(){m=r.Pop;let e=y(),t=null==e?null:e-g;g=e,p&&p({action:m,location:w.location,delta:t})}function b(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:f(e);return n=n.replace(/ $/,"%20"),c(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,u.replaceState(o({},u.state,{idx:g}),""));let w={get action(){return m},get location(){return e(s,u)},listen(e){if(p)throw new Error("A history only accepts one active listener");return s.addEventListener(l,v),p=e,()=>{s.removeEventListener(l,v),p=null}},createHref:e=>t(s,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){m=r.Push;let i=h(w.location,e,t);n&&n(i,e),g=y()+1;let o=d(i,g),l=w.createHref(i);try{u.pushState(o,"",l)}catch(c){if(c instanceof DOMException&&"DataCloneError"===c.name)throw c;s.location.assign(l)}a&&p&&p({action:m,location:w.location,delta:1})},replace:function(e,t){m=r.Replace;let i=h(w.location,e,t);n&&n(i,e),g=y();let s=d(i,g),o=w.createHref(i);u.replaceState(s,"",o),a&&p&&p({action:m,location:w.location,delta:0})},go:e=>u.go(e)};return w}var g;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(g||(g={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function y(e,t,n){return void 0===n&&(n="/"),v(e,t,n,!1)}function v(e,t,n,r){let i=P(("string"===typeof t?m(t):t).pathname||"/",n);if(null==i)return null;let s=b(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(s);let a=null;for(let o=0;null==a&&o<s.length;++o){let e=A(i);a=I(s[o],e,r)}return a}function b(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let a={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(c(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let o=M([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(c(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),b(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:T(o,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of w(e.path))i(e,t,r);else i(e,t)})),t}function w(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let a=w(r.join("/")),o=[];return o.push(...a.map((e=>""===e?s:[s,e].join("/")))),i&&o.push(...a),o.map((t=>e.startsWith("/")&&""===t?"/":t))}const x=/^:[\w-]+$/,k=3,_=2,N=1,E=10,S=-2,C=e=>"*"===e;function T(e,t){let n=e.split("/"),r=n.length;return n.some(C)&&(r+=S),t&&(r+=_),n.filter((e=>!C(e))).reduce(((e,t)=>e+(x.test(t)?k:""===t?N:E)),r)}function I(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},s="/",a=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===s?t:t.slice(s.length)||"/",u=j({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=j({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),a.push({params:i,pathname:M([s,u.pathname]),pathnameBase:F(M([s,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(s=M([s,u.pathnameBase]))}return a}function j(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);u("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=o[n]||"";a=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:s,pathnameBase:a,pattern:e}}function A(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return u(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function P(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function R(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function D(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function O(e,t){let n=D(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function L(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=m(e):(i=o({},e),c(!i.pathname||!i.pathname.includes("?"),R("?","pathname","search",i)),c(!i.pathname||!i.pathname.includes("#"),R("#","pathname","hash",i)),c(!i.search||!i.search.includes("#"),R("#","search","hash",i)));let s,a=""===e||""===i.pathname,l=a?"/":i.pathname;if(null==l)s=n;else{let e=t.length-1;if(!r&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?m(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:U(r),hash:V(i)}}(i,s),d=l&&"/"!==l&&l.endsWith("/"),h=(a||"."===l)&&n.endsWith("/");return u.pathname.endsWith("/")||!d&&!h||(u.pathname+="/"),u}const M=e=>e.join("/").replace(/\/\/+/g,"/"),F=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),U=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",V=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function z(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const B=["post","put","patch","delete"],$=(new Set(B),["get",...B]);new Set($),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function q(){return q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q.apply(this,arguments)}const W=i.createContext(null);const H=i.createContext(null);const K=i.createContext(null);const G=i.createContext(null);const Q=i.createContext({outlet:null,matches:[],isDataRoute:!1});const Y=i.createContext(null);function X(){return null!=i.useContext(G)}function J(){return X()||c(!1),i.useContext(G).location}function Z(e){i.useContext(K).static||i.useLayoutEffect(e)}function ee(){let{isDataRoute:e}=i.useContext(Q);return e?function(){let{router:e}=de(ce.UseNavigateStable),t=fe(ue.UseNavigateStable),n=i.useRef(!1);return Z((()=>{n.current=!0})),i.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,q({fromRouteId:t},i)))}),[e,t])}():function(){X()||c(!1);let e=i.useContext(W),{basename:t,future:n,navigator:r}=i.useContext(K),{matches:s}=i.useContext(Q),{pathname:a}=J(),o=JSON.stringify(O(s,n.v7_relativeSplatPath)),l=i.useRef(!1);return Z((()=>{l.current=!0})),i.useCallback((function(n,i){if(void 0===i&&(i={}),!l.current)return;if("number"===typeof n)return void r.go(n);let s=L(n,JSON.parse(o),a,"path"===i.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:M([t,s.pathname])),(i.replace?r.replace:r.push)(s,i.state,i)}),[t,r,o,a,e])}()}const te=i.createContext(null);function ne(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=i.useContext(K),{matches:s}=i.useContext(Q),{pathname:a}=J(),o=JSON.stringify(O(s,r.v7_relativeSplatPath));return i.useMemo((()=>L(e,JSON.parse(o),a,"path"===n)),[e,o,a,n])}function re(e,t,n,s){X()||c(!1);let{navigator:a,static:o}=i.useContext(K),{matches:l}=i.useContext(Q),u=l[l.length-1],d=u?u.params:{},h=(u&&u.pathname,u?u.pathnameBase:"/");u&&u.route;let f,p=J();if(t){var g;let e="string"===typeof t?m(t):t;"/"===h||(null==(g=e.pathname)?void 0:g.startsWith(h))||c(!1),f=e}else f=p;let v=f.pathname||"/",b=v;if("/"!==h){let e=h.replace(/^\//,"").split("/");b="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let w=!o&&n&&n.matches&&n.matches.length>0?n.matches:y(e,{pathname:b});let x=le(w&&w.map((e=>Object.assign({},e,{params:Object.assign({},d,e.params),pathname:M([h,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:M([h,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),l,n,s);return t&&x?i.createElement(G.Provider,{value:{location:q({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:r.Pop}},x):x}function ie(){let e=function(){var e;let t=i.useContext(Y),n=he(ue.UseRouteError),r=fe(ue.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=z(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:s},n):null,null)}const se=i.createElement(ie,null);class ae extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement(Q.Provider,{value:this.props.routeContext},i.createElement(Y.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function oe(e){let{routeContext:t,match:n,children:r}=e,s=i.useContext(W);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(Q.Provider,{value:t},r)}function le(e,t,n,r){var s;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var a;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(a=r)&&a.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let o=e,l=null==(s=n)?void 0:s.errors;if(null!=l){let e=o.findIndex((e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id])));e>=0||c(!1),o=o.slice(0,Math.min(o.length,e+1))}let u=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let i=0;i<o.length;i++){let e=o[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=i),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){u=!0,o=d>=0?o.slice(0,d+1):[o[0]];break}}}return o.reduceRight(((e,r,s)=>{let a,c=!1,h=null,f=null;var m;n&&(a=l&&r.route.id?l[r.route.id]:void 0,h=r.route.errorElement||se,u&&(d<0&&0===s?(m="route-fallback",!1||me[m]||(me[m]=!0),c=!0,f=null):d===s&&(c=!0,f=r.route.hydrateFallbackElement||null)));let p=t.concat(o.slice(0,s+1)),g=()=>{let t;return t=a?h:c?f:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(oe,{match:r,routeContext:{outlet:e,matches:p,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===s)?i.createElement(ae,{location:n.location,revalidation:n.revalidation,component:h,error:a,children:g(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):g()}),null)}var ce=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ce||{}),ue=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ue||{});function de(e){let t=i.useContext(W);return t||c(!1),t}function he(e){let t=i.useContext(H);return t||c(!1),t}function fe(e){let t=function(){let e=i.useContext(Q);return e||c(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||c(!1),n.route.id}const me={};function pe(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}s.startTransition;function ge(e){let{to:t,replace:n,state:r,relative:s}=e;X()||c(!1);let{future:a,static:o}=i.useContext(K),{matches:l}=i.useContext(Q),{pathname:u}=J(),d=ee(),h=L(t,O(l,a.v7_relativeSplatPath),u,"path"===s),f=JSON.stringify(h);return i.useEffect((()=>d(JSON.parse(f),{replace:n,state:r,relative:s})),[d,f,s,n,r]),null}function ye(e){return function(e){let t=i.useContext(Q).outlet;return t?i.createElement(te.Provider,{value:e},t):t}(e.context)}function ve(e){c(!1)}function be(e){let{basename:t="/",children:n=null,location:s,navigationType:a=r.Pop,navigator:o,static:l=!1,future:u}=e;X()&&c(!1);let d=t.replace(/^\/*/,"/"),h=i.useMemo((()=>({basename:d,navigator:o,static:l,future:q({v7_relativeSplatPath:!1},u)})),[d,u,o,l]);"string"===typeof s&&(s=m(s));let{pathname:f="/",search:p="",hash:g="",state:y=null,key:v="default"}=s,b=i.useMemo((()=>{let e=P(f,d);return null==e?null:{location:{pathname:e,search:p,hash:g,state:y,key:v},navigationType:a}}),[d,f,p,g,y,v,a]);return null==b?null:i.createElement(K.Provider,{value:h},i.createElement(G.Provider,{children:n,value:b}))}function we(e){let{children:t,location:n}=e;return re(xe(t),n)}new Promise((()=>{}));i.Component;function xe(e,t){void 0===t&&(t=[]);let n=[];return i.Children.forEach(e,((e,r)=>{if(!i.isValidElement(e))return;let s=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,xe(e.props.children,s));e.type!==ve&&c(!1),e.props.index&&e.props.children&&c(!1);let a={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=xe(e.props.children,s)),n.push(a)})),n}const ke=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},_e={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,a=s?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;o||(h=64,s||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ke(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const o=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==a||null==o)throw new Ne;const l=t<<2|s>>4;if(r.push(l),64!==a){const e=s<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Ne extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ee=function(e){return function(e){const t=ke(e);return _e.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Se=function(e){try{return _e.decodeString(e,!0)}catch(Ry){console.error("base64Decode failed: ",Ry)}return null};const Ce=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Te=()=>{try{return Ce()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(Ry){return}const t=e&&Se(e[1]);return t&&JSON.parse(t)})()}catch(Ry){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Ry}`)}},Ie=e=>{var t,n;return null===(n=null===(t=Te())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},je=e=>{const t=Ie(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Ae=()=>{var e;return null===(e=Te())||void 0===e?void 0:e.config},Pe=e=>{var t;return null===(t=Te())||void 0===t?void 0:t[`_${e}`]};class Re{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function De(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ee(JSON.stringify({alg:"none",type:"JWT"})),Ee(JSON.stringify(s)),""].join(".")}function Oe(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Le(){return!function(){var e;const t=null===(e=Te())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(Ry){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Me(){try{return"object"===typeof indexedDB}catch(Ry){return!1}}class Fe extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Fe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ue.prototype.create)}}class Ue{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],i=r?function(e,t){return e.replace(Ve,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(r,t):"Error",s=`${this.serviceName}: ${i} (${n}).`;return new Fe(n,s,t)}}const Ve=/\{\$([^}]+)}/g;function ze(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(Be(n)&&Be(s)){if(!ze(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Be(e){return null!==e&&"object"===typeof e}function $e(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function qe(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function We(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class He{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Ke),void 0===r.error&&(r.error=Ke),void 0===r.complete&&(r.complete=Ke);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(Ry){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(Ry){"undefined"!==typeof console&&console.error&&console.error(Ry)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function Ke(){}function Ge(e){return e&&e._delegate?e._delegate:e}class Qe{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ye="[DEFAULT]";class Xe{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Re;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(Ry){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(Ry){if(r)return null;throw Ry}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ye})}catch(Ry){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(Ry){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===Ye?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye;return this.component?this.component.multipleInstances?e:Ye:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Je{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Xe(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Ze=[];var et;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(et||(et={}));const tt={debug:et.DEBUG,verbose:et.VERBOSE,info:et.INFO,warn:et.WARN,error:et.ERROR,silent:et.SILENT},nt=et.INFO,rt={[et.DEBUG]:"log",[et.VERBOSE]:"log",[et.INFO]:"info",[et.WARN]:"warn",[et.ERROR]:"error"},it=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=rt[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];console[r](`[${n}]  ${e.name}:`,...s)};class st{constructor(e){this.name=e,this._logLevel=nt,this._logHandler=it,this._userLogHandler=null,Ze.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in et))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?tt[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,et.DEBUG,...t),this._logHandler(this,et.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,et.VERBOSE,...t),this._logHandler(this,et.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,et.INFO,...t),this._logHandler(this,et.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,et.WARN,...t),this._logHandler(this,et.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,et.ERROR,...t),this._logHandler(this,et.ERROR,...t)}}let at,ot;const lt=new WeakMap,ct=new WeakMap,ut=new WeakMap,dt=new WeakMap,ht=new WeakMap;let ft={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return ct.get(e);if("objectStoreNames"===t)return e.objectStoreNames||ut.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return gt(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function mt(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(ot||(ot=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(yt(this),n),gt(lt.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return gt(e.apply(yt(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(yt(this),t,...r);return ut.set(s,t.sort?t.sort():[t]),gt(s)}}function pt(e){return"function"===typeof e?mt(e):(e instanceof IDBTransaction&&function(e){if(ct.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));ct.set(e,t)}(e),t=e,(at||(at=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,ft):e);var t}function gt(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(gt(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&lt.set(t,e)})).catch((()=>{})),ht.set(t,e),t}(e);if(dt.has(e))return dt.get(e);const t=pt(e);return t!==e&&(dt.set(e,t),ht.set(t,e)),t}const yt=e=>ht.get(e);const vt=["get","getKey","getAll","getAllKeys","count"],bt=["put","add","delete","clear"],wt=new Map;function xt(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(wt.get(t))return wt.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=bt.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!vt.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return r&&(s=s.index(o.shift())),(await Promise.all([s[n](...o),i&&t.done]))[0]};return wt.set(t,s),s}ft=(e=>({...e,get:(t,n,r)=>xt(t,n)||e.get(t,n,r),has:(t,n)=>!!xt(t,n)||e.has(t,n)}))(ft);class kt{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const _t="@firebase/app",Nt="0.10.13",Et=new st("@firebase/app"),St="@firebase/app-compat",Ct="@firebase/analytics-compat",Tt="@firebase/analytics",It="@firebase/app-check-compat",jt="@firebase/app-check",At="@firebase/auth",Pt="@firebase/auth-compat",Rt="@firebase/database",Dt="@firebase/data-connect",Ot="@firebase/database-compat",Lt="@firebase/functions",Mt="@firebase/functions-compat",Ft="@firebase/installations",Ut="@firebase/installations-compat",Vt="@firebase/messaging",zt="@firebase/messaging-compat",Bt="@firebase/performance",$t="@firebase/performance-compat",qt="@firebase/remote-config",Wt="@firebase/remote-config-compat",Ht="@firebase/storage",Kt="@firebase/storage-compat",Gt="@firebase/firestore",Qt="@firebase/vertexai-preview",Yt="@firebase/firestore-compat",Xt="firebase",Jt="[DEFAULT]",Zt={[_t]:"fire-core",[St]:"fire-core-compat",[Tt]:"fire-analytics",[Ct]:"fire-analytics-compat",[jt]:"fire-app-check",[It]:"fire-app-check-compat",[At]:"fire-auth",[Pt]:"fire-auth-compat",[Rt]:"fire-rtdb",[Dt]:"fire-data-connect",[Ot]:"fire-rtdb-compat",[Lt]:"fire-fn",[Mt]:"fire-fn-compat",[Ft]:"fire-iid",[Ut]:"fire-iid-compat",[Vt]:"fire-fcm",[zt]:"fire-fcm-compat",[Bt]:"fire-perf",[$t]:"fire-perf-compat",[qt]:"fire-rc",[Wt]:"fire-rc-compat",[Ht]:"fire-gcs",[Kt]:"fire-gcs-compat",[Gt]:"fire-fst",[Yt]:"fire-fst-compat",[Qt]:"fire-vertex","fire-js":"fire-js",[Xt]:"fire-js-all"},en=new Map,tn=new Map,nn=new Map;function rn(e,t){try{e.container.addComponent(t)}catch(Ry){Et.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,Ry)}}function sn(e){const t=e.name;if(nn.has(t))return Et.debug(`There were multiple attempts to register component ${t}.`),!1;nn.set(t,e);for(const n of en.values())rn(n,e);for(const n of tn.values())rn(n,e);return!0}function an(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function on(e){return void 0!==e.settings}const ln=new Ue("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class cn{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Qe("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ln.create("app-deleted",{appName:this._name})}}const un="10.14.1";function dn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Jt,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw ln.create("bad-app-name",{appName:String(i)});if(n||(n=Ae()),!n)throw ln.create("no-options");const s=en.get(i);if(s){if(ze(n,s.options)&&ze(r,s.config))return s;throw ln.create("duplicate-app",{appName:i})}const a=new Je(i);for(const l of nn.values())a.addComponent(l);const o=new cn(n,r,a);return en.set(i,o),o}function hn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jt;const t=en.get(e);if(!t&&e===Jt&&Ae())return dn();if(!t)throw ln.create("no-app",{appName:e});return t}function fn(e,t,n){var r;let i=null!==(r=Zt[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=[`Unable to register library "${i}" with version "${t}":`];return s&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Et.warn(e.join(" "))}sn(new Qe(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}const mn="firebase-heartbeat-store";let pn=null;function gn(){return pn||(pn=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=gt(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(gt(a.result),e.oldVersion,e.newVersion,gt(a.transaction),e)})),n&&a.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),o.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),o}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(mn)}catch(Ry){console.warn(Ry)}}}).catch((e=>{throw ln.create("idb-open",{originalErrorMessage:e.message})}))),pn}async function yn(e,t){try{const n=(await gn()).transaction(mn,"readwrite"),r=n.objectStore(mn);await r.put(t,vn(e)),await n.done}catch(Ry){if(Ry instanceof Fe)Et.warn(Ry.message);else{const t=ln.create("idb-set",{originalErrorMessage:null===Ry||void 0===Ry?void 0:Ry.message});Et.warn(t.message)}}}function vn(e){return`${e.name}!${e.options.appId}`}class bn{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new xn(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=wn();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}catch(Ry){Et.warn(Ry)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=wn(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),kn(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),kn(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=Ee(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(Ry){return Et.warn(Ry),""}}}function wn(){return(new Date).toISOString().substring(0,10)}class xn{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Me()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await gn()).transaction(mn),n=await t.objectStore(mn).get(vn(e));return await t.done,n}catch(Ry){if(Ry instanceof Fe)Et.warn(Ry.message);else{const t=ln.create("idb-get",{originalErrorMessage:null===Ry||void 0===Ry?void 0:Ry.message});Et.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return yn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return yn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function kn(e){return Ee(JSON.stringify({version:2,heartbeats:e})).length}var _n;_n="",sn(new Qe("platform-logger",(e=>new kt(e)),"PRIVATE")),sn(new Qe("heartbeat",(e=>new bn(e)),"PRIVATE")),fn(_t,Nt,_n),fn(_t,Nt,"esm2017"),fn("fire-js","");function Nn(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function En(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Sn=En,Cn=new Ue("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Tn=new st("@firebase/auth");function In(e){if(Tn.logLevel<=et.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Tn.error(`Auth (${un}): ${e}`,...n)}}function jn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Dn(e,...n)}function An(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Dn(e,...n)}function Pn(e,t,n){const r=Object.assign(Object.assign({},Sn()),{[t]:n});return new Ue("auth","Firebase",r).create(t,{appName:e.name})}function Rn(e){return Pn(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Dn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Cn.create(e,...n)}function On(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Dn(t,...r)}}function Ln(e){const t="INTERNAL ASSERTION FAILED: "+e;throw In(t),new Error(t)}function Mn(e,t){e||Ln(t)}function Fn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Un(){return"http:"===Vn()||"https:"===Vn()}function Vn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function zn(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Un()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Bn{constructor(e,t){this.shortDelay=e,this.longDelay=t,Mn(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Oe())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return zn()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function $n(e,t){Mn(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class qn{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Ln("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Ln("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Ln("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Wn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Hn=new Bn(3e4,6e4);function Kn(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Gn(e,t,n,r){return Qn(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const a=$e(Object.assign({key:e.config.apiKey},s)).slice(1),o=await e._getAdditionalHeaders();o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:o},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),qn.fetch()(Xn(e,e.config.apiHost,n,a),l)}))}async function Qn(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Wn),t);try{const t=new Zn(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw er(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw er(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw er(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw er(e,"user-disabled",s);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw Pn(e,o,a);jn(e,o)}}catch(Ry){if(Ry instanceof Fe)throw Ry;jn(e,"network-request-failed",{message:String(Ry)})}}async function Yn(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await Gn(e,t,n,r,i);return"mfaPendingCredential"in s&&jn(e,"multi-factor-auth-required",{_serverResponse:s}),s}function Xn(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?$n(e.config,i):`${e.config.apiScheme}://${i}`}function Jn(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Zn{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(An(this.auth,"network-request-failed"))),Hn.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function er(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=An(e,t,r);return i.customData._tokenResponse=n,i}function tr(e){return void 0!==e&&void 0!==e.enterprise}class nr{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Jn(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function rr(e,t){return Gn(e,"GET","/v2/recaptchaConfig",Kn(e,t))}async function ir(e,t){return Gn(e,"POST","/v1/accounts:lookup",t)}function sr(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(Ry){}}function ar(e){return 1e3*Number(e)}function or(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return In("JWT malformed, contained fewer than 3 sections"),null;try{const e=Se(n);return e?JSON.parse(e):(In("Failed to decode base64 JWT payload"),null)}catch(Ry){return In("Caught error parsing JWT payload as JSON",null===Ry||void 0===Ry?void 0:Ry.toString()),null}}function lr(e){const t=or(e);return On(t,"internal-error"),On("undefined"!==typeof t.exp,"internal-error"),On("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function cr(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(Ry){throw Ry instanceof Fe&&function(e){let{code:t}=e;return"auth/user-disabled"===t||"auth/user-token-expired"===t}(Ry)&&e.auth.currentUser===e&&await e.auth.signOut(),Ry}}class ur{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(Ry){return void("auth/network-request-failed"===(null===Ry||void 0===Ry?void 0:Ry.code)&&this.schedule(!0))}this.schedule()}}class dr{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=sr(this.lastLoginAt),this.creationTime=sr(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function hr(e){var t;const n=e.auth,r=await e.getIdToken(),i=await cr(e,ir(n,{idToken:r}));On(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const a=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?fr(s.providerUserInfo):[],o=function(e,t){const n=e.filter((e=>!t.some((t=>t.providerId===e.providerId))));return[...n,...t]}(e.providerData,a),l=e.isAnonymous,c=!(e.email&&s.passwordHash)&&!(null===o||void 0===o?void 0:o.length),u=!!l&&c,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new dr(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(e,d)}function fr(e){return e.map((e=>{var{providerId:t}=e,n=Nn(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class mr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){On(e.idToken,"internal-error"),On("undefined"!==typeof e.idToken,"internal-error"),On("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):lr(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){On(0!==e.length,"internal-error");const t=lr(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(On(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Qn(e,{},(async()=>{const n=$e({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=Xn(e,r,"/v1/token",`key=${i}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",qn.fetch()(s,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new mr;return n&&(On("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(On("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(On("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new mr,this.toJSON())}_performRefresh(){return Ln("not implemented")}}function pr(e,t){On("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class gr{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=Nn(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ur(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new dr(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await cr(this,this.stsTokenManager.getToken(this.auth,e));return On(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Ge(e),r=await n.getIdToken(t),i=or(r);On(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,a=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:sr(ar(i.auth_time)),issuedAtTime:sr(ar(i.iat)),expirationTime:sr(ar(i.exp)),signInProvider:a||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Ge(e);await hr(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(On(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new gr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){On(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await hr(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(on(this.auth.app))return Promise.reject(Rn(this.auth));const e=await this.getIdToken();return await cr(this,async function(e,t){return Gn(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,a,o,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,m=null!==(a=t.tenantId)&&void 0!==a?a:void 0,p=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:b,isAnonymous:w,providerData:x,stsTokenManager:k}=t;On(v&&k,e,"internal-error");const _=mr.fromJSON(this.name,k);On("string"===typeof v,e,"internal-error"),pr(u,e.name),pr(d,e.name),On("boolean"===typeof b,e,"internal-error"),On("boolean"===typeof w,e,"internal-error"),pr(h,e.name),pr(f,e.name),pr(m,e.name),pr(p,e.name),pr(g,e.name),pr(y,e.name);const N=new gr({uid:v,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:h,tenantId:m,stsTokenManager:_,createdAt:g,lastLoginAt:y});return x&&Array.isArray(x)&&(N.providerData=x.map((e=>Object.assign({},e)))),p&&(N._redirectEventId=p),N}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new mr;r.updateFromServerResponse(t);const i=new gr({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await hr(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];On(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?fr(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),a=new mr;a.updateFromIdToken(n);const o=new gr({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new dr(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(o,l),o}}const yr=new Map;function vr(e){Mn(e instanceof Function,"Expected a class definition");let t=yr.get(e);return t?(Mn(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,yr.set(e,t),t)}class br{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}br.type="NONE";const wr=br;function xr(e,t,n){return`firebase:${e}:${t}:${n}`}class kr{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=xr(this.userKey,r.apiKey,i),this.fullPersistenceKey=xr("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?gr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new kr(vr(wr),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||vr(wr);const s=xr(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(s);if(t){const n=gr._fromJSON(e,t);c!==i&&(a=n),i=c;break}}catch(l){}const o=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&o.length?(i=o[0],a&&await i._set(s,a.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(l){}}))),new kr(i,e,n)):new kr(i,e,n)}}function _r(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Cr(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Nr(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Ir(t))return"Blackberry";if(jr(t))return"Webos";if(Er(t))return"Safari";if((t.includes("chrome/")||Sr(t))&&!t.includes("edge/"))return"Chrome";if(Tr(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Nr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe();return/firefox\//i.test(e)}function Er(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Sr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe();return/crios\//i.test(e)}function Cr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe();return/iemobile/i.test(e)}function Tr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe();return/android/i.test(e)}function Ir(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe();return/blackberry/i.test(e)}function jr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe();return/webos/i.test(e)}function Ar(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Pr(){return function(){const e=Oe();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Rr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe();return Ar(e)||Tr(e)||jr(e)||Ir(e)||/windows phone/i.test(e)||Cr(e)}function Dr(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=_r(Oe());break;case"Worker":t=`${_r(Oe())}-${e}`;break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return`${t}/JsCore/${un}/${r}`}class Or{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(Ry){r(Ry)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(Ry){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===Ry||void 0===Ry?void 0:Ry.message})}}}class Lr{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,a;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(i=o.containsUppercaseLetter)||void 0===i||i),o.isValid&&(o.isValid=null===(s=o.containsNumericCharacter)||void 0===s||s),o.isValid&&(o.isValid=null===(a=o.containsNonAlphanumericCharacter)||void 0===a||a),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Mr{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ur(this),this.idTokenSubscription=new Ur(this),this.beforeStateQueue=new Or(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Cn,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=vr(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await kr.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(Ry){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await ir(this,{idToken:e}),n=await gr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(on(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==s||!(null===a||void 0===a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(Ry){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(Ry)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return On(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(Ry){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await hr(e)}catch(Ry){if("auth/network-request-failed"!==(null===Ry||void 0===Ry?void 0:Ry.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(on(this.app))return Promise.reject(Rn(this));const t=e?Ge(e):null;return t&&On(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&On(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return on(this.app)?Promise.reject(Rn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return on(this.app)?Promise.reject(Rn(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(vr(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Gn(e,"GET","/v2/passwordPolicy",Kn(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Lr(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ue("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Gn(e,"POST","/v2/accounts:revokeToken",Kn(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&vr(e)||this._popupRedirectResolver;On(t,this,"argument-error"),this.redirectPersistenceManager=await kr.create(this,[vr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(On(a,this,"internal-error"),a.then((()=>{s||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return On(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Dr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Tn.logLevel<=et.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Tn.warn(`Auth (${un}): ${e}`,...n)}}(`Error while retrieving App Check token: ${t.error}`),null===t||void 0===t?void 0:t.token}}function Fr(e){return Ge(e)}class Ur{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new He(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return On(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Vr={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function zr(e){return Vr.loadJS(e)}function Br(e){return`__${e}${Math.floor(1e6*Math.random())}`}class $r{constructor(e){this.type="recaptcha-enterprise",this.auth=Fr(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;tr(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{rr(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new nr(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&tr(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Vr.recaptchaEnterpriseScript;0!==t.length&&(t+=i),zr(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function qr(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new $r(e);let s;try{s=await i.verify(n)}catch(o){s=await i.verify(n,!0)}const a=Object.assign({},t);return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Wr(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await qr(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if("auth/missing-recaptcha-token"===i.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const i=await qr(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function Hr(e,t,n){const r=Fr(e);On(r._canInitEmulator,r,"emulator-config-failed"),On(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=Kr(t),{host:a,port:o}=function(e){const t=Kr(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Gr(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Gr(t)}}}(t),l=null===o?"":`:${o}`;r.config.emulator={url:`${s}//${a}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Kr(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Gr(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Qr{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ln("not implemented")}_getIdTokenResponse(e){return Ln("not implemented")}_linkToIdToken(e,t){return Ln("not implemented")}_getReauthenticationResolver(e){return Ln("not implemented")}}async function Yr(e,t){return Gn(e,"POST","/v1/accounts:signUp",t)}async function Xr(e,t){return Yn(e,"POST","/v1/accounts:signInWithPassword",Kn(e,t))}async function Jr(e,t){return Gn(e,"POST","/v1/accounts:sendOobCode",Kn(e,t))}async function Zr(e,t){return Jr(e,t)}class ei extends Qr{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new ei(e,t,"password")}static _fromEmailAndCode(e,t){return new ei(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Wr(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Xr);case"emailLink":return async function(e,t){return Yn(e,"POST","/v1/accounts:signInWithEmailLink",Kn(e,t))}(e,{email:this._email,oobCode:this._password});default:jn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Wr(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Yr);case"emailLink":return async function(e,t){return Yn(e,"POST","/v1/accounts:signInWithEmailLink",Kn(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:jn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ti(e,t){return Yn(e,"POST","/v1/accounts:signInWithIdp",Kn(e,t))}class ni extends Qr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ni(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):jn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Nn(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new ni(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return ti(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,ti(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ti(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=$e(t)}return e}}const ri={USER_NOT_FOUND:"user-not-found"};class ii extends Qr{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new ii({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new ii({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Yn(e,"POST","/v1/accounts:signInWithPhoneNumber",Kn(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Yn(e,"POST","/v1/accounts:signInWithPhoneNumber",Kn(e,t));if(n.temporaryProof)throw er(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Yn(e,"POST","/v1/accounts:signInWithPhoneNumber",Kn(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),ri)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new ii({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class si{constructor(e){var t,n,r,i,s,a;const o=qe(We(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);On(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=o.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=o.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=qe(We(e)).link,n=t?qe(We(t)).deep_link_id:null,r=qe(We(e)).deep_link_id;return(r?qe(We(r)).link:null)||r||n||t||e}(e);try{return new si(t)}catch(n){return null}}}class ai{constructor(){this.providerId=ai.PROVIDER_ID}static credential(e,t){return ei._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=si.parseLink(t);return On(n,"argument-error"),ei._fromEmailAndCode(e,n.code,n.tenantId)}}ai.PROVIDER_ID="password",ai.EMAIL_PASSWORD_SIGN_IN_METHOD="password",ai.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class oi{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class li extends oi{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ci extends li{constructor(){super("facebook.com")}static credential(e){return ni._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return ci.credential(t.oauthAccessToken)}catch(n){return null}}}ci.FACEBOOK_SIGN_IN_METHOD="facebook.com",ci.PROVIDER_ID="facebook.com";class ui extends li{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ni._fromParams({providerId:ui.PROVIDER_ID,signInMethod:ui.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ui.credentialFromTaggedObject(e)}static credentialFromError(e){return ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return ui.credential(n,r)}catch(i){return null}}}ui.GOOGLE_SIGN_IN_METHOD="google.com",ui.PROVIDER_ID="google.com";class di extends li{constructor(){super("github.com")}static credential(e){return ni._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return di.credentialFromTaggedObject(e)}static credentialFromError(e){return di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return di.credential(t.oauthAccessToken)}catch(n){return null}}}di.GITHUB_SIGN_IN_METHOD="github.com",di.PROVIDER_ID="github.com";class hi extends li{constructor(){super("twitter.com")}static credential(e,t){return ni._fromParams({providerId:hi.PROVIDER_ID,signInMethod:hi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return hi.credentialFromTaggedObject(e)}static credentialFromError(e){return hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return hi.credential(n,r)}catch(i){return null}}}async function fi(e,t){return Yn(e,"POST","/v1/accounts:signUp",Kn(e,t))}hi.TWITTER_SIGN_IN_METHOD="twitter.com",hi.PROVIDER_ID="twitter.com";class mi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await gr._fromIdTokenResponse(e,n,r),s=pi(n);return new mi({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=pi(n);return new mi({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function pi(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class gi extends Fe{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,gi.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new gi(e,t,n,r)}}function yi(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw gi._fromErrorAndOperation(e,n,t,r);throw n}))}async function vi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await cr(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return mi._forOperation(e,"link",r)}async function bi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(on(r.app))return Promise.reject(Rn(r));const i="reauthenticate";try{const s=await cr(e,yi(r,i,t,e),n);On(s.idToken,r,"internal-error");const a=or(s.idToken);On(a,r,"internal-error");const{sub:o}=a;return On(e.uid===o,r,"user-mismatch"),mi._forOperation(e,i,s)}catch(Ry){throw"auth/user-not-found"===(null===Ry||void 0===Ry?void 0:Ry.code)&&jn(r,"user-mismatch"),Ry}}async function wi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(on(e.app))return Promise.reject(Rn(e));const r="signIn",i=await yi(e,r,t),s=await mi._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function xi(e,t){return wi(Fr(e),t)}function ki(e,t,n){var r;On((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),On("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(On(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(On(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function _i(e){const t=Fr(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function Ni(e,t,n){return on(e.app)?Promise.reject(Rn(e)):xi(Ge(e),ai.credential(t,n)).catch((async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&_i(e),t}))}async function Ei(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=Ge(e),s={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},a=await cr(i,async function(e,t){return Gn(e,"POST","/v1/accounts:update",t)}(i.auth,s));i.displayName=a.displayName||null,i.photoURL=a.photoUrl||null;const o=i.providerData.find((e=>{let{providerId:t}=e;return"password"===t}));o&&(o.displayName=i.displayName,o.photoURL=i.photoURL),await i._updateTokensIfNecessary(a)}function Si(e){return Ge(e).signOut()}new WeakMap;const Ci="__sak";class Ti{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ci,"1"),this.storage.removeItem(Ci),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Ii extends Ti{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Rr(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Pr()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ii.type="LOCAL";const ji=Ii;class Ai extends Ti{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Ai.type="SESSION";const Pi=Ai;class Ri{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Ri(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(s).map((async e=>e(t.origin,i))),o=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Di(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Ri.receivers=[];class Oi{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((a,o)=>{const l=Di("",20);r.port1.start();const c=setTimeout((()=>{o(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{o(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function Li(){return window}function Mi(){return"undefined"!==typeof Li().WorkerGlobalScope&&"function"===typeof Li().importScripts}const Fi="firebaseLocalStorageDb",Ui="firebaseLocalStorage",Vi="fbase_key";class zi{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Bi(e,t){return e.transaction([Ui],t?"readwrite":"readonly").objectStore(Ui)}function $i(){const e=indexedDB.open(Fi,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Ui,{keyPath:Vi})}catch(Ry){n(Ry)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Ui)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Fi);return new zi(e).toPromise()}(),t(await $i()))}))}))}async function qi(e,t,n){const r=Bi(e,!0).put({[Vi]:t,value:n});return new zi(r).toPromise()}function Wi(e,t){const n=Bi(e,!0).delete(t);return new zi(n).toPromise()}class Hi{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await $i()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(Ry){if(t++>3)throw Ry;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Mi()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ri._getInstance(Mi()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Oi(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await $i();return await qi(e,Ci,"1"),await Wi(e,Ci),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>qi(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Bi(e,!1).get(t),r=await new zi(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Wi(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Bi(e,!1).getAll();return new zi(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Hi.type="LOCAL";const Ki=Hi;Br("rcb"),new Bn(3e4,6e4);const Gi="recaptcha";async function Qi(e,t,n){var r;const i=await n.verify();try{let s;if(On("string"===typeof i,e,"argument-error"),On(n.type===Gi,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){On("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Gn(e,"POST","/v2/accounts/mfaEnrollment:start",Kn(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{On("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;On(n,e,"missing-multi-factor-info");const a=await function(e,t){return Gn(e,"POST","/v2/accounts/mfaSignIn:start",Kn(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return a.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Gn(e,"POST","/v1/accounts:sendVerificationCode",Kn(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class Yi{constructor(e){this.providerId=Yi.PROVIDER_ID,this.auth=Fr(e)}verifyPhoneNumber(e,t){return Qi(this.auth,e,Ge(t))}static credential(e,t){return ii._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Yi.credentialFromTaggedObject(t)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?ii._fromTokenResponse(n,r):null}}function Xi(e,t){return t?vr(t):(On(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Yi.PROVIDER_ID="phone",Yi.PHONE_SIGN_IN_METHOD="phone";class Ji extends Qr{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ti(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ti(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ti(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Zi(e){return wi(e.auth,new Ji(e),e.bypassAuthState)}function es(e){const{auth:t,user:n}=e;return On(n,t,"internal-error"),bi(n,new Ji(e),e.bypassAuthState)}async function ts(e){const{auth:t,user:n}=e;return On(n,t,"internal-error"),vi(n,new Ji(e),e.bypassAuthState)}class ns{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(Ry){this.reject(Ry)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:a}=e;if(s)return void this.reject(s);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(Ry){this.reject(Ry)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Zi;case"linkViaPopup":case"linkViaRedirect":return ts;case"reauthViaPopup":case"reauthViaRedirect":return es;default:jn(this.auth,"internal-error")}}resolve(e){Mn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Mn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const rs=new Bn(2e3,1e4);class is extends ns{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,is.currentPopupAction&&is.currentPopupAction.cancel(),is.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return On(e,this.auth,"internal-error"),e}async onExecution(){Mn(1===this.filter.length,"Popup operations only handle one event");const e=Di();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(An(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(An(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,is.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(An(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,rs.get())};e()}}is.currentPopupAction=null;const ss=new Map;class as extends ns{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=ss.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=cs(t),r=ls(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(Ry){e=()=>Promise.reject(Ry)}ss.set(this.auth._key(),e)}return this.bypassAuthState||ss.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function os(e,t){ss.set(e._key(),t)}function ls(e){return vr(e._redirectPersistence)}function cs(e){return xr("pendingRedirect",e.config.apiKey,e.name)}async function us(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(on(e.app))return Promise.reject(Rn(e));const r=Fr(e),i=Xi(r,t),s=new as(r,i,n),a=await s.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class ds{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fs(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!fs(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(An(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(hs(e))}saveEventToCache(e){this.cachedEventUids.add(hs(e)),this.lastProcessedEventTime=Date.now()}}function hs(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function fs(e){let{type:t,error:n}=e;return"unknown"===t&&"auth/no-auth-event"===(null===n||void 0===n?void 0:n.code)}const ms=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ps=/^https?/;async function gs(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Gn(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(ys(r))return}catch(n){}jn(e,"unauthorized-domain")}function ys(e){const t=Fn(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!ps.test(n))return!1;if(ms.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const vs=new Bn(3e4,6e4);function bs(){const e=Li().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function ws(e){return new Promise(((t,n)=>{var r,i,s;function a(){bs(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{bs(),n(An(e,"network-request-failed"))},timeout:vs.get()})}if(null===(i=null===(r=Li().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=Li().gapi)||void 0===s?void 0:s.load)){const t=Br("iframefcb");return Li()[t]=()=>{gapi.load?a():n(An(e,"network-request-failed"))},zr(`${Vr.gapiScript}?onload=${t}`).catch((e=>n(e)))}a()}})).catch((e=>{throw xs=null,e}))}let xs=null;const ks=new Bn(5e3,15e3),_s={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ns=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Es(e){const t=e.config;On(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?$n(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:un},i=Ns.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${$e(r).slice(1)}`}async function Ss(e){const t=await function(e){return xs=xs||ws(e),xs}(e),n=Li().gapi;return On(n,e,"internal-error"),t.open({where:document.body,url:Es(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_s,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=An(e,"network-request-failed"),s=Li().setTimeout((()=>{r(i)}),ks.get());function a(){Li().clearTimeout(s),n(t)}t.ping(a).then(a,(()=>{r(i)}))}))))}const Cs={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ts{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(Ry){}}}function Is(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},Cs),{width:r.toString(),height:i.toString(),top:s,left:a}),c=Oe().toLowerCase();n&&(o=Sr(c)?"_blank":n),Nr(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return`${e}${n}=${r},`}),"");if(function(){var e;return Ar(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new Ts(null);const d=window.open(t||"",o,u);On(d,e,"popup-blocked");try{d.focus()}catch(Ry){}return new Ts(d)}const js="__/auth/handler",As="emulator/auth/handler",Ps=encodeURIComponent("fac");async function Rs(e,t,n,r,i,s){On(e.config.authDomain,e,"auth-domain-config-required"),On(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:un,eventId:i};if(t instanceof oi){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))a[e]=t}if(t instanceof li){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?`#${Ps}=${encodeURIComponent(l)}`:"";return`${function(e){let{config:t}=e;if(!t.emulator)return`https://${t.authDomain}/${js}`;return $n(t,As)}(e)}?${$e(o).slice(1)}${c}`}const Ds="webStorageSupport";const Os=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Pi,this._completeRedirectFn=us,this._overrideRedirectResult=os}async _openPopup(e,t,n,r){var i;Mn(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Is(e,await Rs(e,t,n,Fn(),r),Di())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Li().location.href=e}(await Rs(e,t,n,Fn(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Mn(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await Ss(e),n=new ds(e);return t.register("authEvent",(t=>{On(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ds,{type:Ds},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Ds];void 0!==i&&t(!!i),jn(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=gs(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Rr()||Er()||Ar()}};var Ls="@firebase/auth",Ms="1.7.9";class Fs{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){On(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Us=Pe("authIdTokenMaxAge")||300;let Vs=null;var zs;!function(e){Vr=e}({loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=An("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),zs="Browser",sn(new Qe("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;On(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:zs,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Dr(zs)},c=new Mr(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(vr);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),sn(new Qe("auth-internal",(e=>(e=>new Fs(e))(Fr(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),fn(Ls,Ms,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(zs)),fn(Ls,Ms,"esm2017");var Bs,$s,qs="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Ws={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],a=t+(s^n&(i^s))+r[0]+3614090360&4294967295;a=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(a<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((s=(t=n+((a=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=s+((a=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,s=this.h,a=0;a<t;){if(0==s)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(i[s++]=e.charCodeAt(a++),s==this.blockSize){n(this,i),s=0;break}}else for(;a<t;)if(i[s++]=e[a++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function s(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return o;if(0>e)return h(a(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var o=s(0),l=s(1),c=s(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function m(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function p(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new p(o,o);if(d(e))return t=g(h(e),t),new p(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new p(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=y(n),r=y(r);var i=v(n,1),s=v(r,1);for(r=v(r,2),n=v(n,2);!u(r);){var c=s.add(r);0>=c.l(e)&&(i=i.add(n),s=c),r=v(r,1),n=v(n,1)}return t=f(e,i.j(t)),new p(i,t)}for(i=o;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(s=a(n)).j(t);d(c)||0<c.l(e);)c=(s=a(n-=r)).j(t);u(s)&&(s=l),i=i.add(s),e=f(e,c)}return new p(i,e)}function y(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function v(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,s=[],a=0;a<i;a++)s[a]=0<t?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new r(s,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=a(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,s=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,s=0;s<=t;s++){var a=i+(65535&this.i(s))+(65535&e.i(s)),o=(a>>>16)+(this.i(s)>>>16)+(e.i(s)>>>16);i=o>>>16,a&=65535,o&=65535,n[s]=o<<16|a}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return o;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return a(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<e.g.length;s++){var l=this.i(i)>>>16,f=65535&this.i(i),p=e.i(s)>>>16,g=65535&e.i(s);n[2*i+2*s]+=f*g,m(n,2*i+2*s),n[2*i+2*s+1]+=l*g,m(n,2*i+2*s+1),n[2*i+2*s+1]+=f*p,m(n,2*i+2*s+1),n[2*i+2*s+2]+=l*p,m(n,2*i+2*s+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,$s=Ws.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=a,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=a(Math.pow(n,8)),i=o,s=0;s<t.length;s+=8){var l=Math.min(8,t.length-s),c=parseInt(t.substring(s,s+l),n);8>l?(l=a(Math.pow(n,l)),i=i.j(l).add(a(c))):i=(i=i.j(r)).add(a(c))}return i},Bs=Ws.Integer=r}).apply("undefined"!==typeof qs?qs:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Hs,Ks,Gs,Qs,Ys,Xs,Js,Zs,ea="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},ta={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof ea&&ea];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var a=e[s];if(!(a in i))break e;i=i[a]}(r=r(s=i[e=e[e.length-1]]))!=s&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return t}))}}));var r=r||{},i=this||self;function s(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(s(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function m(e){return/^[\s\xa0]*$/.test(e)}function p(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var y=-1!=p().indexOf("Gecko")&&!(-1!=p().toLowerCase().indexOf("webkit")&&-1==p().indexOf("Edge"))&&!(-1!=p().indexOf("Trident")||-1!=p().indexOf("MSIE"))&&-1==p().indexOf("Edge");function v(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<w.length;t++)n=w[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function k(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function _(e){i.setTimeout((()=>{throw e}),0)}function N(){var e=I;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var E=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new S),(e=>e.reset()));class S{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let C,T=!1,I=new class{constructor(){this.h=this.g=null}add(e,t){const n=E.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},j=()=>{const e=i.Promise.resolve(void 0);C=()=>{e.then(A)}};var A=()=>{for(var e;e=N();){try{e.h.call(e.g)}catch(Ky){_(Ky)}var t=E;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}T=!1};function P(){this.s=this.s,this.C=this.C}function R(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}P.prototype.s=!1,P.prototype.ma=function(){this.s||(this.s=!0,this.N())},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},R.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(Ky){}return e}();function O(e,t){if(R.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(y){e:{try{g(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:L[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&O.aa.h.call(this)}}d(O,R);var L={2:"touch",3:"pen",4:"mouse"};O.prototype.h=function(){O.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var M="closure_listenable_"+(1e6*Math.random()|0),F=0;function U(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++F,this.da=this.fa=!1}function V(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function z(e){this.src=e,this.g={},this.h=0}function B(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(V(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function $(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}z.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var a=$(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new U(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var q="closure_lm_"+(1e6*Math.random()|0),W={};function H(e,t,n,r,i){if(r&&r.once)return G(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)H(e,t[s],n,r,i);return null}return n=te(n),e&&e[M]?e.K(t,n,a(r)?!!r.capture:!!r,i):K(e,t,n,!1,r,i)}function K(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=a(i)?!!i.capture:!!i,l=Z(e);if(l||(e[q]=l=new z(e)),(n=l.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=J;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)D||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(X(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function G(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)G(e,t[s],n,r,i);return null}return n=te(n),e&&e[M]?e.L(t,n,a(r)?!!r.capture:!!r,i):K(e,t,n,!0,r,i)}function Q(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Q(e,t[s],n,r,i);else r=a(r)?!!r.capture:!!r,n=te(n),e&&e[M]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=$(s=e.g[t],n,r,i))&&(V(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=$(t,n,r,i)),(n=-1<e?t[e]:null)&&Y(n))}function Y(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[M])B(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(X(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(B(n,e),0==n.h&&(n.src=null,t[q]=null)):V(e)}}}function X(e){return e in W?W[e]:W[e]="on"+e}function J(e,t){if(e.da)e=!0;else{t=new O(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&Y(e),e=n.call(r,t)}return e}function Z(e){return(e=e[q])instanceof z?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){P.call(this),this.i=new z(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new R(t,e);else if(t instanceof R)t.target=t.target||e;else{var i=t;x(t=new R(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=ie(a,r,!0,t)&&i}if(i=ie(a=t.g=e,r,!0,t)&&i,i=ie(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=ie(a=t.g=n[s],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.da&&a.capture==n){var o=a.listener,l=a.ha||a.src;a.fa&&B(e.i,a),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}function se(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function ae(e){e.g=se((()=>{e.g=null,e.i&&(e.i=!1,ae(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,P),ne.prototype[M]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Q(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)V(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class oe extends P{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ae(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){P.call(this),this.h=e,this.g={}}d(le,P);var ce=[];function ue(e){v(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Y(e)}),e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=i.JSON.stringify,he=i.JSON.parse,fe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function me(){}function pe(e){return e.h||(e.h=e.i())}function ge(){}me.prototype.h=null;var ye={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ve(){R.call(this,"d")}function be(){R.call(this,"c")}d(ve,R),d(be,R);var we={},xe=null;function ke(){return xe=xe||new ne}function _e(e){R.call(this,we.La,e)}function Ne(e){const t=ke();re(t,new _e(t))}function Ee(e,t){R.call(this,we.STAT_EVENT,e),this.stat=t}function Se(e){const t=ke();re(t,new Ee(t,e))}function Ce(e,t){R.call(this,we.Ma,e),this.size=t}function Te(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){e()}),t)}function Ie(){this.g=!0}function je(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<i.length;a++)i[a]=""}}}return de(n)}catch(o){return t}}(e,n)+(r?" "+r:"")}))}we.La="serverreachability",d(_e,R),we.STAT_EVENT="statevent",d(Ee,R),we.Ma="timingevent",d(Ce,R),Ie.prototype.xa=function(){this.g=!1},Ie.prototype.info=function(){};var Ae,Pe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Re={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function De(){}function Oe(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Le}function Le(){this.i=null,this.g="",this.h=!1}d(De,me),De.prototype.g=function(){return new XMLHttpRequest},De.prototype.i=function(){return{}},Ae=new De;var Me={},Fe={};function Ue(e,t,n){e.L=1,e.v=dt(at(t)),e.m=n,e.P=!0,Ve(e,null)}function Ve(e,t){e.F=Date.now(),$e(e),e.A=at(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),Nt(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Le,e.g=hn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new oe(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ce[0]=i.toString()),i=ce);for(var s=0;s<i.length;s++){var a=H(n,i[s],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ne(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var a="",o=s.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");a=2<=d.length&&"type"==d[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function ze(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Be(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Fe:(n=Number(t.substring(n,r)),isNaN(n)?Me:(r+=1)+n>t.length?Fe:(t=t.slice(r,r+n),e.C=r+n,t))}function $e(e){e.S=Date.now()+e.I,qe(e,e.I)}function qe(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Te(c(e.ba,e),t)}function We(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function He(e){0==e.j.G||e.J||on(e.j,e)}function Ke(e){We(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Ge(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(Ny){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;an(n),Qt(n)}nn(n),Se(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Te(c(n.Za,n),6e3));if(1>=Je(n.h)&&n.ca){try{n.ca()}catch(Ny){}n.ca=void 0}}else cn(n,11)}else if((e.K||n.g==e)&&an(n),!m(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(et(s,s.h),s.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var a=e;if((r=n).qa=dn(r,r.J?r.ia:null,r.W),a.K){tt(r.h,a);var o=a,l=r.L;l&&(o.I=l),o.B&&(We(o),$e(o)),r.g=a}else tn(r);0<n.i.length&&Xt(n)}else"stop"!=c[0]&&"close"!=c[0]||cn(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?cn(n,7):Gt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Ne()}catch(Ny){}}Oe.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==qt(e)?t.j():this.Y(e)},Oe.prototype.Y=function(e){try{if(e==this.g)e:{const h=qt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||Wt(this.g)))){this.J||4!=h||7==t||Ne(),We(this);var n=this.g.Z();this.X=n;t:if(ze(this)){var r=Wt(this.g);e="";var s=r.length,a=4==qt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ke(this),He(this);var o="";break t}this.h.i=new i.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(a&&t==s-1)});r.length=0,this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,s,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+a}))}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!m(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Se(12),Ke(this),He(this);break e}je(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ge(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<o.length;){if(e=Be(this,o),e==Fe){4==h&&(this.s=4,Se(14),n=!1),je(this.i,this.l,null,"[Incomplete Response]");break}if(e==Me){this.s=4,Se(15),je(this.i,this.l,o,"[Invalid Chunk]"),n=!1;break}je(this.i,this.l,e,null),Ge(this,e)}if(ze(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=o.length||this.h.h||(this.s=1,Se(16),n=!1),this.o=this.o&&n,n){if(0<o.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+o.length),rn(d),d.M=!0,Se(11))}}else je(this.i,this.l,o,"[Invalid Chunked Response]"),Ke(this),He(this)}else je(this.i,this.l,o,null),Ge(this,o);4==h&&Ke(this),this.o&&!this.J&&(4==h?on(this.j,this):(this.o=!1,$e(this)))}else(function(e){const t={};e=(e.g&&2<=qt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(m(e[r]))continue;var n=k(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,Se(12)):(this.s=0,Se(13)),Ke(this),He(this)}}}catch(na){}},Oe.prototype.cancel=function(){this.J=!0,Ke(this)},Oe.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(Ne(),Se(17)),Ke(this),this.s=2,He(this)):qe(this,this.S-e)};var Qe=class{constructor(e,t){this.g=e,this.map=t}};function Ye(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xe(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Je(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(s(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(s(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(s(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}Ye.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function st(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof st){this.h=e.h,ot(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new wt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(it))?(this.h=!1,ot(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),lt(this,t[4]),this.l=ht(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new wt(null,this.h))}function at(e){return new st(e)}function ot(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof wt?(e.i=t,function(e,t){t&&!e.j&&(xt(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(kt(this,t),Nt(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,vt)),e.i=new wt(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function dt(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,mt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function mt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}st.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,pt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,pt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?yt:gt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,bt)),e.join("")};var pt=/[#\/\?@]/g,gt=/[#\?:]/g,yt=/[#\?]/g,vt=/[#\?@]/g,bt=/#/g;function wt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function xt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function kt(e,t){xt(e),t=Et(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function _t(e,t){return xt(e),t=Et(e,t),e.g.has(t)}function Nt(e,t,n){kt(e,t),0<n.length&&(e.i=null,e.g.set(Et(e,t),h(n)),e.h+=n.length)}function Et(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function St(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(s){}}function Ct(){this.g=new fe}function Tt(e,t,n){const r=n||"";try{rt(e,(function(e,n){let i=e;a(e)&&(i=de(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(Ry){throw t.push(r+"type="+encodeURIComponent("_badmap")),Ry}}function It(e){this.l=e.Ub||null,this.j=e.eb||!1}function jt(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function At(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Pt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Rt(e)}function Rt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Dt(e){let t="";return v(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Ot(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Dt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Lt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=wt.prototype).add=function(e,t){xt(this),this.i=null,e=Et(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){xt(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){xt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){xt(this);let t=[];if("string"===typeof e)_t(this,e)&&(t=t.concat(this.g.get(Et(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return xt(this),this.i=null,_t(this,e=Et(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),a=this.V(r);for(r=0;r<a.length;r++){var i=s;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")},d(It,me),It.prototype.g=function(){return new jt(this.l,this.j)},It.prototype.i=function(e){return function(){return e}}({}),d(jt,ne),(e=jt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Rt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Pt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Rt(this)),this.g&&(this.readyState=3,Rt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;At(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Pt(this):Rt(this),3==this.readyState&&At(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Pt(this))},e.Qa=function(e){this.g&&(this.response=e,Pt(this))},e.ga=function(){this.g&&Pt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(jt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Lt,ne);var Mt=/^https?$/i,Ft=["POST","PUT"];function Ut(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Vt(e),Bt(e)}function Vt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function zt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=qt(e)||2!=e.Z()))if(e.u&&4==qt(e))se(e.Ea,0,e);else if(re(e,"readystatechange"),4==qt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var s;if(s=0===r){var a=String(e.D).match(it)[1]||null;!a&&i.self&&i.self.location&&(a=i.self.location.protocol.slice(0,-1)),s=!Mt.test(a?a.toLowerCase():"")}n=s}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var o=2<qt(e)?e.g.statusText:""}catch(l){o=""}e.l=o+" ["+e.Z()+"]",Vt(e)}}finally{Bt(e)}}}function Bt(e,t){if(e.g){$t(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(Ry){}}}function $t(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function qt(e){return e.g?e.g.readyState:0}function Wt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Ht(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Kt(e){this.Aa=0,this.i=[],this.j=new Ie,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ht("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ht("baseRetryDelayMs",5e3,e),this.cb=Ht("retryDelaySeedMs",1e4,e),this.Wa=Ht("forwardChannelMaxRetries",2,e),this.wa=Ht("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Ye(e&&e.concurrentRequestLimit),this.Da=new Ct,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Gt(e){if(Yt(e),3==e.G){var t=e.U++,n=at(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),Zt(e,n),(t=new Oe(e,e.j,t)).L=2,t.v=dt(at(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=hn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),$e(t)}un(e)}function Qt(e){e.g&&(rn(e),e.g.cancel(),e.g=null)}function Yt(e){Qt(e),e.u&&(i.clearTimeout(e.u),e.u=null),an(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function Xt(e){if(!Xe(e.h)&&!e.s){e.s=!0;var t=e.Ga;C||j(),T||(C(),T=!0),I.add(t,e),e.B=0}}function Jt(e,t){var n;n=t?t.l:e.U++;const r=at(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),Zt(e,r),e.m&&e.o&&Ot(r,e.m,e.o),n=new Oe(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=en(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Ue(n,r,t)}function Zt(e,t){e.H&&v(e.H,(function(e,n){ut(t,n,e)})),e.l&&rt({},(function(e,n){ut(t,n,e)}))}function en(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let a=0;a<n;a++){let n=i[a].g;const o=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),s=!1;else try{Tt(o,e,"req"+n+"_")}catch(na){r&&r(o)}}if(s){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function tn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;C||j(),T||(C(),T=!0),I.add(t,e),e.v=0}}function nn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Te(c(e.Fa,e),ln(e,e.v)),e.v++,!0)}function rn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function sn(e){e.g=new Oe(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=at(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),Zt(e,t),e.m&&e.o&&Ot(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=dt(at(t)),n.m=null,n.P=!0,Ve(n,e)}function an(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function on(e,t){var n=null;if(e.g==t){an(e),rn(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=ke(),new Ce(r,n)),Xt(e)}else tn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Je(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Te(c(e.Ga,e,t),ln(e,e.B)),e.B++,!0))}(e,t)||2==r&&nn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:cn(e,5);break;case 4:cn(e,10);break;case 3:cn(e,6);break;default:cn(e,2)}}function ln(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function cn(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new st(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||ot(r,"https"),dt(r),t?function(e,t){const n=new Ie;if(i.Image){const r=new Image;r.onload=u(St,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(St,n,"TestLoadImage: error",!1,t,r),r.onabort=u(St,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(St,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ie;const n=new AbortController,r=setTimeout((()=>{n.abort(),St(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?St(0,0,!0,t):St(0,0,!1,t)})).catch((()=>{clearTimeout(r),St(0,0,!1,t)}))}(r.toString(),n)}else Se(2);e.G=0,e.l&&e.l.sa(t),un(e),Yt(e)}function un(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function dn(e,t,n){var r=n instanceof st?at(n):new st(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var s=i.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var a=new st(null);r&&ot(a,r),t&&(a.g=t),s&&lt(a,s),n&&(a.l=n),r=a}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),Zt(e,r),r}function hn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Lt(new It({eb:n})):new Lt(e.pa)).Ha(e.J),t}function fn(){}function mn(){}function pn(e,t){ne.call(this),this.g=new Kt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!m(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!m(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new vn(this)}function gn(e){ve.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function yn(){be.call(this),this.status=1}function vn(e){this.g=e}(e=Lt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ae.g(),this.v=this.o?pe(this.o):pe(Ae),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(a){return void Ut(this,a)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),s=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Ft,t,void 0))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$t(this),this.u=!0,this.g.send(e),this.u=!1}catch(a){Ut(this,a)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),Bt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bt(this,!0)),Lt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?zt(this):this.bb())},e.bb=function(){zt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<qt(this)?this.g.status:-1}catch(e){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Kt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Se(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=dn(this,null,this.W),Xt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Oe(this,this.j,e);let s=this.o;if(this.S&&(s?(s=b(s),x(s,this.S)):s=this.S),null!==this.m||this.O||(i.H=s,s=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=en(this,i,t),ut(n=at(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),Zt(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Dt(s)))+"&"+t:this.m&&Ot(n,this.m,s)),et(this.h,i),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),i.T=!0,Ue(i,n,null)):Ue(i,n,t),this.G=2}}else 3==this.G&&(e?Jt(this,e):0==this.i.length||Xe(this.h)||Jt(this))},e.Fa=function(){if(this.u=null,sn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Te(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Se(10),Qt(this),sn(this))},e.Za=function(){null!=this.C&&(this.C=null,Qt(this),nn(this),Se(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Se(2)):(this.j.info("Failed to ping google.com"),Se(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=fn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},mn.prototype.g=function(e,t){return new pn(e,t)},d(pn,ne),pn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){Gt(this.g)},pn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new Qe(t.Ya++,e)),3==t.G&&Xt(t)},pn.prototype.N=function(){this.g.l=null,delete this.j,Gt(this.g),delete this.g,pn.aa.N.call(this)},d(gn,ve),d(yn,be),d(vn,fn),vn.prototype.ua=function(){re(this.g,"a")},vn.prototype.ta=function(e){re(this.g,new gn(e))},vn.prototype.sa=function(e){re(this.g,new yn)},vn.prototype.ra=function(){re(this.g,"b")},mn.prototype.createWebChannel=mn.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,Zs=ta.createWebChannelTransport=function(){return new mn},Js=ta.getStatEventTarget=function(){return ke()},Xs=ta.Event=we,Ys=ta.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Pe.NO_ERROR=0,Pe.TIMEOUT=8,Pe.HTTP_ERROR=6,Qs=ta.ErrorCode=Pe,Re.COMPLETE="complete",Gs=ta.EventType=Re,ge.EventType=ye,ye.OPEN="a",ye.CLOSE="b",ye.ERROR="c",ye.MESSAGE="d",ne.prototype.listen=ne.prototype.K,Ks=ta.WebChannel=ge,ta.FetchXmlHttpFactory=It,Lt.prototype.listenOnce=Lt.prototype.L,Lt.prototype.getLastError=Lt.prototype.Ka,Lt.prototype.getLastErrorCode=Lt.prototype.Ba,Lt.prototype.getStatus=Lt.prototype.Z,Lt.prototype.getResponseJson=Lt.prototype.Oa,Lt.prototype.getResponseText=Lt.prototype.oa,Lt.prototype.send=Lt.prototype.ea,Lt.prototype.setWithCredentials=Lt.prototype.Ha,Hs=ta.XhrIo=Lt}).apply("undefined"!==typeof ea?ea:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const na="@firebase/firestore";class ra{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ra.UNAUTHENTICATED=new ra(null),ra.GOOGLE_CREDENTIALS=new ra("google-credentials-uid"),ra.FIRST_PARTY=new ra("first-party-uid"),ra.MOCK_USER=new ra("mock-user");let ia="10.14.0";const sa=new st("@firebase/firestore");function aa(){return sa.logLevel}function oa(e){if(sa.logLevel<=et.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(ua);sa.debug(`Firestore (${ia}): ${e}`,...i)}}function la(e){if(sa.logLevel<=et.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(ua);sa.error(`Firestore (${ia}): ${e}`,...i)}}function ca(e){if(sa.logLevel<=et.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(ua);sa.warn(`Firestore (${ia}): ${e}`,...i)}}function ua(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(Gy){return e}}function da(){const e=`FIRESTORE (${ia}) INTERNAL ASSERTION FAILED: `+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state");throw la(e),new Error(e)}function ha(e,t){e||da()}function fa(e,t){return e}const ma={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pa extends Fe{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ga{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class ya{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class va{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(ra.UNAUTHENTICATED)))}shutdown(){}}class ba{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class wa{constructor(e){this.t=e,this.currentUser=ra.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ha(void 0===this.o);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new ga;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ga,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},a=e=>{oa("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((e=>a(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(oa("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ga)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(oa("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(ha("string"==typeof t.accessToken),new ya(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ha(null===e||"string"==typeof e),new ra(e)}}class xa{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=ra.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class ka{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new xa(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(ra.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class _a{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Na{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){ha(void 0===this.o);const n=e=>{null!=e.error&&oa("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.R;return this.R=e.token,oa("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{oa("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):oa("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(ha("string"==typeof e.token),this.R=e.token,new _a(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Ea(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Sa{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Ea(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function Ca(e,t){return e<t?-1:e>t?1:0}function Ta(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}class Ia{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new pa(ma.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new pa(ma.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new pa(ma.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pa(ma.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ia.fromMillis(Date.now())}static fromDate(e){return Ia.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Ia(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ca(this.nanoseconds,e.nanoseconds):Ca(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ja{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ja(e)}static min(){return new ja(new Ia(0,0))}static max(){return new ja(new Ia(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Aa{constructor(e,t,n){void 0===t?t=0:t>e.length&&da(),void 0===n?n=e.length-t:n>e.length-t&&da(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Aa.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Aa?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Pa extends Aa{construct(e,t,n){return new Pa(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new pa(ma.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((e=>e.length>0)))}return new Pa(e)}static emptyPath(){return new Pa([])}}const Ra=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Da extends Aa{construct(e,t,n){return new Da(e,t,n)}static isValidIdentifier(e){return Ra.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Da.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Da(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new pa(ma.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new pa(ma.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new pa(ma.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new pa(ma.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Da(t)}static emptyPath(){return new Da([])}}class Oa{constructor(e){this.path=e}static fromPath(e){return new Oa(Pa.fromString(e))}static fromName(e){return new Oa(Pa.fromString(e).popFirst(5))}static empty(){return new Oa(Pa.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Pa.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Pa.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Oa(new Pa(e.slice()))}}class La{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}La.UNKNOWN_ID=-1;function Ma(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=ja.fromTimestamp(1e9===r?new Ia(n+1,0):new Ia(n,r));return new Ua(i,Oa.empty(),t)}function Fa(e){return new Ua(e.readTime,e.key,-1)}class Ua{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Ua(ja.min(),Oa.empty(),-1)}static max(){return new Ua(ja.max(),Oa.empty(),-1)}}function Va(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Oa.comparator(e.documentKey,t.documentKey),0!==n?n:Ca(e.largestBatchId,t.largestBatchId))}const za="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ba{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function $a(e){if(e.code!==ma.FAILED_PRECONDITION||e.message!==za)throw e;oa("LocalStore","Unexpectedly lost primary lease")}class qa{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&da(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new qa(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof qa?t:qa.resolve(t)}catch(e){return qa.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):qa.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):qa.reject(t)}static resolve(e){return new qa(((t,n)=>{t(e)}))}static reject(e){return new qa(((t,n)=>{n(e)}))}static waitFor(e){return new qa(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=qa.resolve(!1);for(const n of e)t=t.next((e=>e?qa.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new qa(((n,r)=>{const i=e.length,s=new Array(i);let a=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next((e=>{s[l]=e,++a,a===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new qa(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function Wa(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ha(e){return"IndexedDbTransactionError"===e.name}class Ka{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function Ga(e){return null==e}function Qa(e){return 0===e&&1/e==-1/0}function Ya(e){return"number"==typeof e&&Number.isInteger(e)&&!Qa(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}Ka.oe=-1;const Xa=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Ja=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Za=Ja,eo=[...Za,"indexConfiguration","indexState","indexEntries"];function to(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function no(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ro(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class io{constructor(e,t){this.comparator=e,this.root=t||ao.EMPTY}insert(e,t){return new io(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ao.BLACK,null,null))}remove(e){return new io(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ao.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new so(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new so(this.root,e,this.comparator,!1)}getReverseIterator(){return new so(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new so(this.root,e,this.comparator,!0)}}class so{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ao{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:ao.RED,this.left=null!=r?r:ao.EMPTY,this.right=null!=i?i:ao.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new ao(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ao.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return ao.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ao.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ao.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw da();if(this.right.isRed())throw da();const e=this.left.check();if(e!==this.right.check())throw da();return e+(this.isRed()?0:1)}}ao.EMPTY=null,ao.RED=!0,ao.BLACK=!1,ao.EMPTY=new class{constructor(){this.size=0}get key(){throw da()}get value(){throw da()}get color(){throw da()}get left(){throw da()}get right(){throw da()}copy(e,t,n,r,i){return this}insert(e,t,n){return new ao(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class oo{constructor(e){this.comparator=e,this.data=new io(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new lo(this.data.getIterator())}getIteratorFrom(e){return new lo(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof oo))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new oo(this.comparator);return t.data=e,t}}class lo{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class co{constructor(e){this.fields=e,e.sort(Da.comparator)}static empty(){return new co([])}unionWith(e){let t=new oo(Da.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new co(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ta(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class uo extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ho{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new uo("Invalid base64 string: "+e):e}}(e);return new ho(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new ho(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ca(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ho.EMPTY_BYTE_STRING=new ho("");const fo=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mo(e){if(ha(!!e),"string"==typeof e){let t=0;const n=fo.exec(e);if(ha(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:po(e.seconds),nanos:po(e.nanos)}}function po(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function go(e){return"string"==typeof e?ho.fromBase64String(e):ho.fromUint8Array(e)}function yo(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function vo(e){const t=e.mapValue.fields.__previous_value__;return yo(t)?vo(t):t}function bo(e){const t=mo(e.mapValue.fields.__local_write_time__.timestampValue);return new Ia(t.seconds,t.nanos)}class wo{constructor(e,t,n,r,i,s,a,o,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l}}class xo{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new xo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof xo&&e.projectId===this.projectId&&e.database===this.database}}const ko={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function _o(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?yo(e)?4:Uo(e)?9007199254740991:Mo(e)?10:11:da()}function No(e,t){if(e===t)return!0;const n=_o(e);if(n!==_o(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return bo(e).isEqual(bo(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=mo(e.timestampValue),r=mo(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return go(e.bytesValue).isEqual(go(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return po(e.geoPointValue.latitude)===po(t.geoPointValue.latitude)&&po(e.geoPointValue.longitude)===po(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return po(e.integerValue)===po(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=po(e.doubleValue),r=po(t.doubleValue);return n===r?Qa(n)===Qa(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Ta(e.arrayValue.values||[],t.arrayValue.values||[],No);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(to(n)!==to(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!No(n[i],r[i])))return!1;return!0}(e,t);default:return da()}}function Eo(e,t){return void 0!==(e.values||[]).find((e=>No(e,t)))}function So(e,t){if(e===t)return 0;const n=_o(e),r=_o(t);if(n!==r)return Ca(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ca(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=po(e.integerValue||e.doubleValue),r=po(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Co(e.timestampValue,t.timestampValue);case 4:return Co(bo(e),bo(t));case 5:return Ca(e.stringValue,t.stringValue);case 6:return function(e,t){const n=go(e),r=go(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Ca(n[i],r[i]);if(0!==e)return e}return Ca(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Ca(po(e.latitude),po(t.latitude));return 0!==n?n:Ca(po(e.longitude),po(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return To(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,s;const a=e.fields||{},o=t.fields||{},l=null===(n=a.value)||void 0===n?void 0:n.arrayValue,c=null===(r=o.value)||void 0===r?void 0:r.arrayValue,u=Ca((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(s=null==c?void 0:c.values)||void 0===s?void 0:s.length)||0);return 0!==u?u:To(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===ko.mapValue&&t===ko.mapValue)return 0;if(e===ko.mapValue)return 1;if(t===ko.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let a=0;a<r.length&&a<s.length;++a){const e=Ca(r[a],s[a]);if(0!==e)return e;const t=So(n[r[a]],i[s[a]]);if(0!==t)return t}return Ca(r.length,s.length)}(e.mapValue,t.mapValue);default:throw da()}}function Co(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Ca(e,t);const n=mo(e),r=mo(t),i=Ca(n.seconds,r.seconds);return 0!==i?i:Ca(n.nanos,r.nanos)}function To(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=So(n[i],r[i]);if(e)return e}return Ca(n.length,r.length)}function Io(e){return jo(e)}function jo(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=mo(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return go(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Oa.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=jo(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${jo(e.fields[i])}`;return n+"}"}(e.mapValue):da()}function Ao(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Po(e){return!!e&&"integerValue"in e}function Ro(e){return!!e&&"arrayValue"in e}function Do(e){return!!e&&"nullValue"in e}function Oo(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Lo(e){return!!e&&"mapValue"in e}function Mo(e){var t,n;return"__vector__"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Fo(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return no(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Fo(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Fo(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Uo(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class Vo{constructor(e){this.value=e}static empty(){return new Vo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Lo(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fo(t)}setAll(e){let t=Da.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Fo(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Lo(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return No(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Lo(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){no(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Vo(Fo(this.value))}}function zo(e){const t=[];return no(e.fields,((e,n)=>{const r=new Da([e]);if(Lo(n)){const e=zo(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new co(t)}class Bo{constructor(e,t,n,r,i,s,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Bo(e,0,ja.min(),ja.min(),ja.min(),Vo.empty(),0)}static newFoundDocument(e,t,n,r){return new Bo(e,1,t,ja.min(),n,r,0)}static newNoDocument(e,t){return new Bo(e,2,t,ja.min(),ja.min(),Vo.empty(),0)}static newUnknownDocument(e,t){return new Bo(e,3,t,ja.min(),ja.min(),Vo.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ja.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ja.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Bo&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bo(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class $o{constructor(e,t){this.position=e,this.inclusive=t}}function qo(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],a=e.position[i];if(r=s.field.isKeyField()?Oa.comparator(Oa.fromName(a.referenceValue),n.key):So(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Wo(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!No(e.position[n],t.position[n]))return!1;return!0}class Ho{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Ko(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Go{}class Qo extends Go{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new rl(e,t,n):"array-contains"===t?new ol(e,n):"in"===t?new ll(e,n):"not-in"===t?new cl(e,n):"array-contains-any"===t?new ul(e,n):new Qo(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new il(e,n):new sl(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(So(t,this.value)):null!==t&&_o(this.value)===_o(t)&&this.matchesComparison(So(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return da()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yo extends Go{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Yo(e,t)}matches(e){return Xo(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Xo(e){return"and"===e.op}function Jo(e){return Zo(e)&&Xo(e)}function Zo(e){for(const t of e.filters)if(t instanceof Yo)return!1;return!0}function el(e){if(e instanceof Qo)return e.field.canonicalString()+e.op.toString()+Io(e.value);if(Jo(e))return e.filters.map((e=>el(e))).join(",");{const t=e.filters.map((e=>el(e))).join(",");return`${e.op}(${t})`}}function tl(e,t){return e instanceof Qo?function(e,t){return t instanceof Qo&&e.op===t.op&&e.field.isEqual(t.field)&&No(e.value,t.value)}(e,t):e instanceof Yo?function(e,t){return t instanceof Yo&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&tl(n,t.filters[r])),!0)}(e,t):void da()}function nl(e){return e instanceof Qo?function(e){return`${e.field.canonicalString()} ${e.op} ${Io(e.value)}`}(e):e instanceof Yo?function(e){return e.op.toString()+" {"+e.getFilters().map(nl).join(" ,")+"}"}(e):"Filter"}class rl extends Qo{constructor(e,t,n){super(e,t,n),this.key=Oa.fromName(n.referenceValue)}matches(e){const t=Oa.comparator(e.key,this.key);return this.matchesComparison(t)}}class il extends Qo{constructor(e,t){super(e,"in",t),this.keys=al("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class sl extends Qo{constructor(e,t){super(e,"not-in",t),this.keys=al("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function al(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Oa.fromName(e.referenceValue)))}class ol extends Qo{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ro(t)&&Eo(t.arrayValue,this.value)}}class ll extends Qo{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Eo(this.value.arrayValue,t)}}class cl extends Qo{constructor(e,t){super(e,"not-in",t)}matches(e){if(Eo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Eo(this.value.arrayValue,t)}}class ul extends Qo{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ro(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Eo(this.value.arrayValue,e)))}}class dl{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.ue=null}}function hl(e){return new dl(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function fl(e){const t=fa(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>el(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Ga(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Io(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Io(e))).join(",")),t.ue=e}return t.ue}function ml(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Ko(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!tl(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Wo(e.startAt,t.startAt)&&Wo(e.endAt,t.endAt)}function pl(e){return Oa.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class gl{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function yl(e,t,n,r,i,s,a,o){return new gl(e,t,n,r,i,s,a,o)}function vl(e){return new gl(e)}function bl(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function wl(e){return null!==e.collectionGroup}function xl(e){const t=fa(e);if(null===t.ce){t.ce=[];const e=new Set;for(const i of t.explicitOrderBy)t.ce.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new oo(Da.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.ce.push(new Ho(r,n))})),e.has(Da.keyField().canonicalString())||t.ce.push(new Ho(Da.keyField(),n))}return t.ce}function kl(e){const t=fa(e);return t.le||(t.le=_l(t,xl(e))),t.le}function _l(e,t){if("F"===e.limitType)return hl(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new Ho(e.field,t)}));const n=e.endAt?new $o(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new $o(e.startAt.position,e.startAt.inclusive):null;return hl(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Nl(e,t){const n=e.filters.concat([t]);return new gl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function El(e,t,n){return new gl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Sl(e,t){return ml(kl(e),kl(t))&&e.limitType===t.limitType}function Cl(e){return`${fl(kl(e))}|lt:${e.limitType}`}function Tl(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>nl(e))).join(", ")}]`),Ga(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Io(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Io(e))).join(",")),`Target(${t})`}(kl(e))}; limitType=${e.limitType})`}function Il(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Oa.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of xl(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=qo(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,xl(e),t))&&!(e.endAt&&!function(e,t,n){const r=qo(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,xl(e),t))}(e,t)}function jl(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Al(e){return(t,n)=>{let r=!1;for(const i of xl(e)){const e=Pl(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Pl(e,t,n){const r=e.field.isKeyField()?Oa.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?So(r,i):da()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return da()}}class Rl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){no(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return ro(this.inner)}size(){return this.innerSize}}const Dl=new io(Oa.comparator);function Ol(){return Dl}const Ll=new io(Oa.comparator);function Ml(){let e=Ll;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Fl(e){let t=Ll;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Ul(){return zl()}function Vl(){return zl()}function zl(){return new Rl((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Bl=new io(Oa.comparator),$l=new oo(Oa.comparator);function ql(){let e=$l;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Wl=new oo(Ca);function Hl(){return Wl}function Kl(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qa(t)?"-0":t}}function Gl(e){return{integerValue:""+e}}function Ql(e,t){return Ya(t)?Gl(t):Kl(e,t)}class Yl{constructor(){this._=void 0}}function Xl(e,t,n){return e instanceof ec?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&yo(t)&&(t=vo(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof tc?nc(e,t):e instanceof rc?ic(e,t):function(e,t){const n=Zl(e,t),r=ac(n)+ac(e.Pe);return Po(n)&&Po(e.Pe)?Gl(r):Kl(e.serializer,r)}(e,t)}function Jl(e,t,n){return e instanceof tc?nc(e,t):e instanceof rc?ic(e,t):n}function Zl(e,t){return e instanceof sc?function(e){return Po(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class ec extends Yl{}class tc extends Yl{constructor(e){super(),this.elements=e}}function nc(e,t){const n=oc(t);for(const r of e.elements)n.some((e=>No(e,r)))||n.push(r);return{arrayValue:{values:n}}}class rc extends Yl{constructor(e){super(),this.elements=e}}function ic(e,t){let n=oc(t);for(const r of e.elements)n=n.filter((e=>!No(e,r)));return{arrayValue:{values:n}}}class sc extends Yl{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function ac(e){return po(e.integerValue||e.doubleValue)}function oc(e){return Ro(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class lc{constructor(e,t){this.field=e,this.transform=t}}class cc{constructor(e,t){this.version=e,this.transformResults=t}}class uc{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new uc}static exists(e){return new uc(void 0,e)}static updateTime(e){return new uc(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function dc(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class hc{}function fc(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new _c(e.key,uc.none()):new vc(e.key,e.data,uc.none());{const n=e.data,r=Vo.empty();let i=new oo(Da.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new bc(e.key,r,new co(i.toArray()),uc.none())}}function mc(e,t,n){e instanceof vc?function(e,t,n){const r=e.value.clone(),i=xc(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof bc?function(e,t,n){if(!dc(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=xc(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(wc(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function pc(e,t,n,r){return e instanceof vc?function(e,t,n,r){if(!dc(e.precondition,t))return n;const i=e.value.clone(),s=kc(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof bc?function(e,t,n,r){if(!dc(e.precondition,t))return n;const i=kc(e.fieldTransforms,r,t),s=t.data;return s.setAll(wc(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return dc(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function gc(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Zl(r.transform,e||null);null!=i&&(null===n&&(n=Vo.empty()),n.set(r.field,i))}return n||null}function yc(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Ta(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof tc&&t instanceof tc||e instanceof rc&&t instanceof rc?Ta(e.elements,t.elements,No):e instanceof sc&&t instanceof sc?No(e.Pe,t.Pe):e instanceof ec&&t instanceof ec}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class vc extends hc{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class bc extends hc{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function wc(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function xc(e,t,n){const r=new Map;ha(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],a=s.transform,o=t.data.field(s.field);r.set(s.field,Jl(a,o,n[i]))}return r}function kc(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,Xl(e,s,t))}return r}class _c extends hc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Nc extends hc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ec{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&mc(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=pc(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=pc(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Vl();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let a=this.applyToLocalView(s,i.mutatedFields);a=t.has(r.key)?null:a;const o=fc(s,a);null!==o&&n.set(r.key,o),s.isValidDocument()||s.convertToNoDocument(ja.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),ql())}isEqual(e){return this.batchId===e.batchId&&Ta(this.mutations,e.mutations,((e,t)=>yc(e,t)))&&Ta(this.baseMutations,e.baseMutations,((e,t)=>yc(e,t)))}}class Sc{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){ha(e.mutations.length===n.length);let r=Bl;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new Sc(e,t,n,r)}}class Cc{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Tc{constructor(e,t){this.count=e,this.unchangedNames=t}}var Ic,jc;function Ac(e){switch(e){default:return da();case ma.CANCELLED:case ma.UNKNOWN:case ma.DEADLINE_EXCEEDED:case ma.RESOURCE_EXHAUSTED:case ma.INTERNAL:case ma.UNAVAILABLE:case ma.UNAUTHENTICATED:return!1;case ma.INVALID_ARGUMENT:case ma.NOT_FOUND:case ma.ALREADY_EXISTS:case ma.PERMISSION_DENIED:case ma.FAILED_PRECONDITION:case ma.ABORTED:case ma.OUT_OF_RANGE:case ma.UNIMPLEMENTED:case ma.DATA_LOSS:return!0}}function Pc(e){if(void 0===e)return la("GRPC error has no .code"),ma.UNKNOWN;switch(e){case Ic.OK:return ma.OK;case Ic.CANCELLED:return ma.CANCELLED;case Ic.UNKNOWN:return ma.UNKNOWN;case Ic.DEADLINE_EXCEEDED:return ma.DEADLINE_EXCEEDED;case Ic.RESOURCE_EXHAUSTED:return ma.RESOURCE_EXHAUSTED;case Ic.INTERNAL:return ma.INTERNAL;case Ic.UNAVAILABLE:return ma.UNAVAILABLE;case Ic.UNAUTHENTICATED:return ma.UNAUTHENTICATED;case Ic.INVALID_ARGUMENT:return ma.INVALID_ARGUMENT;case Ic.NOT_FOUND:return ma.NOT_FOUND;case Ic.ALREADY_EXISTS:return ma.ALREADY_EXISTS;case Ic.PERMISSION_DENIED:return ma.PERMISSION_DENIED;case Ic.FAILED_PRECONDITION:return ma.FAILED_PRECONDITION;case Ic.ABORTED:return ma.ABORTED;case Ic.OUT_OF_RANGE:return ma.OUT_OF_RANGE;case Ic.UNIMPLEMENTED:return ma.UNIMPLEMENTED;case Ic.DATA_LOSS:return ma.DATA_LOSS;default:return da()}}(jc=Ic||(Ic={}))[jc.OK=0]="OK",jc[jc.CANCELLED=1]="CANCELLED",jc[jc.UNKNOWN=2]="UNKNOWN",jc[jc.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jc[jc.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jc[jc.NOT_FOUND=5]="NOT_FOUND",jc[jc.ALREADY_EXISTS=6]="ALREADY_EXISTS",jc[jc.PERMISSION_DENIED=7]="PERMISSION_DENIED",jc[jc.UNAUTHENTICATED=16]="UNAUTHENTICATED",jc[jc.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jc[jc.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jc[jc.ABORTED=10]="ABORTED",jc[jc.OUT_OF_RANGE=11]="OUT_OF_RANGE",jc[jc.UNIMPLEMENTED=12]="UNIMPLEMENTED",jc[jc.INTERNAL=13]="INTERNAL",jc[jc.UNAVAILABLE=14]="UNAVAILABLE",jc[jc.DATA_LOSS=15]="DATA_LOSS";let Rc=null;function Dc(){return new TextEncoder}const Oc=new Bs([4294967295,4294967295],0);function Lc(e){const t=Dc().encode(e),n=new $s;return n.update(t),new Uint8Array(n.digest())}function Mc(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Bs([n,r],0),new Bs([i,s],0)]}class Fc{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Uc(`Invalid padding: ${t}`);if(n<0)throw new Uc(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new Uc(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new Uc(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Bs.fromNumber(this.Ie)}Ee(e,t,n){let r=e.add(t.multiply(Bs.fromNumber(n)));return 1===r.compare(Oc)&&(r=new Bs([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=Lc(e),[n,r]=Mc(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);if(!this.de(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new Fc(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.Ie)return;const t=Lc(e),[n,r]=Mc(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);this.Ae(e)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Uc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Vc{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,zc.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Vc(ja.min(),r,new io(Ca),Ol(),ql())}}class zc{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new zc(n,t,ql(),ql(),ql())}}class Bc{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}}class $c{constructor(e,t){this.targetId=e,this.me=t}}class qc{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ho.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Wc{constructor(){this.fe=0,this.ge=Gc(),this.pe=ho.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ql(),t=ql(),n=ql();return this.ge.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:da()}})),new zc(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=Gc()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ha(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Hc{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ol(),this.qe=Kc(),this.Qe=new io(Ca)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,(t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:da()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((e,n)=>{this.ze(n)&&t(n)}))}He(e){const t=e.targetId,n=e.me.count,r=this.Je(t);if(r){const i=r.target;if(pl(i))if(0===n){const e=new Oa(i.path);this.Ue(t,e,Bo.newNoDocument(e,ja.min()))}else ha(1===n);else{const r=this.Ye(t);if(r!==n){const n=this.Ze(e),i=n?this.Xe(n,e,r):1;if(0!==i){this.je(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,e)}null==Rc||Rc.et(function(e,t,n,r,i){var s,a,o,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(s=null==h?void 0:h.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(o=null===(a=null==h?void 0:h.bits)||void 0===a?void 0:a.bitmap)||void 0===o?void 0:o.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.me,this.Le.tt(),n,i))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,a;try{s=go(n).toUint8Array()}catch(e){if(e instanceof uo)return ca("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new Fc(s,r,i)}catch(e){return ca(e instanceof Uc?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.Ie?null:a}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.tt(),s=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(s)||(this.Ue(t,n,null),r++)})),r}rt(e){const t=new Map;this.Be.forEach(((n,r)=>{const i=this.Je(r);if(i){if(n.current&&pl(i.target)){const t=new Oa(i.target.path);null!==this.ke.get(t)||this.it(r,t)||this.Ue(r,t,Bo.newNoDocument(t,e))}n.be&&(t.set(r,n.ve()),n.Ce())}}));let n=ql();this.qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Je(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.ke.forEach(((t,n)=>n.setReadTime(e)));const r=new Vc(e,t,this.Qe,this.ke,n);return this.ke=Ol(),this.qe=Kc(),this.Qe=new io(Ca),r}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new Wc,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new oo(Ca),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||oa("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Wc),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.Ue(e,t,null)}))}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Kc(){return new io(Oa.comparator)}function Gc(){return new io(Oa.comparator)}const Qc={asc:"ASCENDING",desc:"DESCENDING"},Yc={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Xc={and:"AND",or:"OR"};class Jc{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Zc(e,t){return e.useProto3Json||Ga(t)?t:{value:t}}function eu(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function tu(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function nu(e,t){return eu(e,t.toTimestamp())}function ru(e){return ha(!!e),ja.fromTimestamp(function(e){const t=mo(e);return new Ia(t.seconds,t.nanos)}(e))}function iu(e,t){return su(e,t).canonicalString()}function su(e,t){const n=function(e){return new Pa(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function au(e){const t=Pa.fromString(e);return ha(Su(t)),t}function ou(e,t){return iu(e.databaseId,t.path)}function lu(e,t){const n=au(t);if(n.get(1)!==e.databaseId.projectId)throw new pa(ma.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new pa(ma.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Oa(hu(n))}function cu(e,t){return iu(e.databaseId,t)}function uu(e){const t=au(e);return 4===t.length?Pa.emptyPath():hu(t)}function du(e){return new Pa(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function hu(e){return ha(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function fu(e,t,n){return{name:ou(e,t),fields:n.value.mapValue.fields}}function mu(e,t){let n;if(t instanceof vc)n={update:fu(e,t.key,t.value)};else if(t instanceof _c)n={delete:ou(e,t.key)};else if(t instanceof bc)n={update:fu(e,t.key,t.data),updateMask:Eu(t.fieldMask)};else{if(!(t instanceof Nc))return da();n={verify:ou(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof ec)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof tc)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof rc)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof sc)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw da()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:nu(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:da()}(e,t.precondition)),n}function pu(e,t){return{documents:[cu(e,t.path)]}}function gu(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=cu(e,i);const s=function(e){if(0!==e.length)return Nu(Yo.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const a=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:ku(e.field),direction:bu(e.dir)}}(e)))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=Zc(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{_t:n,parent:i}}function yu(e){let t=uu(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ha(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=vu(e);return t instanceof Yo&&Jo(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map((e=>function(e){return new Ho(_u(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,Ga(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new $o(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new $o(n,t)}(n.endAt)),yl(t,i,a,s,o,"F",l,c)}function vu(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=_u(e.unaryFilter.field);return Qo.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=_u(e.unaryFilter.field);return Qo.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=_u(e.unaryFilter.field);return Qo.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=_u(e.unaryFilter.field);return Qo.create(i,"!=",{nullValue:"NULL_VALUE"});default:return da()}}(e):void 0!==e.fieldFilter?function(e){return Qo.create(_u(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return da()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Yo.create(e.compositeFilter.filters.map((e=>vu(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return da()}}(e.compositeFilter.op))}(e):da()}function bu(e){return Qc[e]}function wu(e){return Yc[e]}function xu(e){return Xc[e]}function ku(e){return{fieldPath:e.canonicalString()}}function _u(e){return Da.fromServerFormat(e.fieldPath)}function Nu(e){return e instanceof Qo?function(e){if("=="===e.op){if(Oo(e.value))return{unaryFilter:{field:ku(e.field),op:"IS_NAN"}};if(Do(e.value))return{unaryFilter:{field:ku(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Oo(e.value))return{unaryFilter:{field:ku(e.field),op:"IS_NOT_NAN"}};if(Do(e.value))return{unaryFilter:{field:ku(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ku(e.field),op:wu(e.op),value:e.value}}}(e):e instanceof Yo?function(e){const t=e.getFilters().map((e=>Nu(e)));return 1===t.length?t[0]:{compositeFilter:{op:xu(e.op),filters:t}}}(e):da()}function Eu(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Su(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Cu{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ja.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:ja.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:ho.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new Cu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Cu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Cu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Cu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Tu{constructor(e){this.ct=e}}function Iu(e){const t=yu({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?El(t,t.limit,"L"):t}class ju{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(po(e.integerValue));else if("doubleValue"in e){const n=po(e.doubleValue);isNaN(n)?this.dt(t,13):(this.dt(t,15),Qa(n)?t.At(0):t.At(n))}else if("timestampValue"in e){let n=e.timestampValue;this.dt(t,20),"string"==typeof n&&(n=mo(n)),t.Rt(`${n.seconds||""}`),t.At(n.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(go(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.dt(t,45),t.At(n.latitude||0),t.At(n.longitude||0)}else"mapValue"in e?Uo(e)?this.dt(t,Number.MAX_SAFE_INTEGER):Mo(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):da()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){const n=e.fields||{};this.dt(t,55);for(const r of Object.keys(n))this.Vt(r,t),this.Tt(n[r],t)}wt(e,t){var n,r;const i=e.fields||{};this.dt(t,53);const s="value",a=(null===(r=null===(n=i[s].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.dt(t,15),t.At(po(a)),this.Vt(s,t),this.Tt(i[s],t)}bt(e,t){const n=e.values||[];this.dt(t,50);for(const r of n)this.Tt(r,t)}yt(e,t){this.dt(t,37),Oa.fromName(e).path.forEach((e=>{this.dt(t,60),this.Dt(e,t)}))}dt(e,t){e.At(t)}ft(e){e.At(2)}}ju.vt=new ju;class Au{constructor(){this.un=new Pu}addToCollectionParentIndex(e,t){return this.un.add(t),qa.resolve()}getCollectionParents(e,t){return qa.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return qa.resolve()}deleteFieldIndex(e,t){return qa.resolve()}deleteAllFieldIndexes(e){return qa.resolve()}createTargetIndexes(e,t){return qa.resolve()}getDocumentsMatchingTarget(e,t){return qa.resolve(null)}getIndexType(e,t){return qa.resolve(0)}getFieldIndexes(e,t){return qa.resolve([])}getNextCollectionGroupToUpdate(e){return qa.resolve(null)}getMinOffset(e,t){return qa.resolve(Ua.min())}getMinOffsetFromCollectionGroup(e,t){return qa.resolve(Ua.min())}updateCollectionGroup(e,t,n){return qa.resolve()}updateIndexEntries(e,t){return qa.resolve()}}class Pu{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new oo(Pa.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new oo(Pa.comparator)).toArray()}}new Uint8Array(0);class Ru{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Ru(e,Ru.DEFAULT_COLLECTION_PERCENTILE,Ru.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Ru.DEFAULT_COLLECTION_PERCENTILE=10,Ru.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ru.DEFAULT=new Ru(41943040,Ru.DEFAULT_COLLECTION_PERCENTILE,Ru.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ru.DISABLED=new Ru(-1,0,0);class Du{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Du(0)}static kn(){return new Du(-1)}}class Ou{constructor(){this.changes=new Rl((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Bo.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?qa.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Lu{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Mu{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&pc(n.mutation,e,co.empty(),Ia.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,ql()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ql();const r=Ul();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Ml();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Ul();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,ql())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Ol();const s=zl(),a=zl();return t.forEach(((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof bc)?i=i.insert(t.key,t):void 0!==a?(s.set(t.key,a.mutation.getFieldMask()),pc(a.mutation,t,a.mutation.getFieldMask(),Ia.now())):s.set(t.key,co.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return a.set(e,new Lu(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),a)))}recalculateAndSaveOverlays(e,t){const n=zl();let r=new io(((e,t)=>e-t)),i=ql();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let a=n.get(e)||co.empty();a=i.applyToLocalView(s,a),n.set(e,a);const o=(r.get(i.batchId)||ql()).add(e);r=r.insert(i.batchId,o)}))})).next((()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,c=Vl();l.forEach((e=>{if(!i.has(e)){const r=fc(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,o,c))}return qa.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Oa.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):wl(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):qa.resolve(Ul());let a=-1,o=i;return s.next((t=>qa.forEach(t,((t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?qa.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{o=o.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,o,t,ql()))).next((e=>({batchId:a,changes:Fl(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Oa(t)).next((e=>{let t=Ml();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=Ml();return this.indexManager.getCollectionParents(e,i).next((a=>qa.forEach(a,(a=>{const o=function(e,t){return new gl(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Bo.newInvalidDocument(r)))}));let n=Ml();return e.forEach(((e,r)=>{const s=i.get(e);void 0!==s&&pc(s.mutation,r,co.empty(),Ia.now()),Il(t,r)&&(n=n.insert(e,r))})),n}))}}class Fu{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return qa.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:ru(e.createTime)}}(t)),qa.resolve()}getNamedQuery(e,t){return qa.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(e){return{name:e.name,query:Iu(e.bundledQuery),readTime:ru(e.readTime)}}(t)),qa.resolve()}}class Uu{constructor(){this.overlays=new io(Oa.comparator),this.Ir=new Map}getOverlay(e,t){return qa.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Ul();return qa.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.ht(e,t,r)})),qa.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Ir.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Ir.delete(n)),qa.resolve()}getOverlaysForCollection(e,t,n){const r=Ul(),i=t.length+1,s=new Oa(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return qa.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new io(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Ul(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=Ul(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach(((e,t)=>a.set(e,t))),!(a.size()>=r)););return qa.resolve(a)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Ir.get(r.largestBatchId).delete(n.key);this.Ir.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Cc(t,n));let i=this.Ir.get(t);void 0===i&&(i=ql(),this.Ir.set(t,i)),this.Ir.set(t,i.add(n.key))}}class Vu{constructor(){this.sessionToken=ho.EMPTY_BYTE_STRING}getSessionToken(e){return qa.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,qa.resolve()}}class zu{constructor(){this.Tr=new oo(Bu.Er),this.dr=new oo(Bu.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const n=new Bu(e,t);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Vr(new Bu(e,t))}mr(e,t){e.forEach((e=>this.removeReference(e,t)))}gr(e){const t=new Oa(new Pa([])),n=new Bu(t,e),r=new Bu(t,e+1),i=[];return this.dr.forEachInRange([n,r],(e=>{this.Vr(e),i.push(e.key)})),i}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new Oa(new Pa([])),n=new Bu(t,e),r=new Bu(t,e+1);let i=ql();return this.dr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Bu(e,0),n=this.Tr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Bu{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return Oa.comparator(e.key,t.key)||Ca(e.wr,t.wr)}static Ar(e,t){return Ca(e.wr,t.wr)||Oa.comparator(e.key,t.key)}}class $u{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new oo(Bu.Er)}checkEmpty(e){return qa.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Ec(i,t,n,r);this.mutationQueue.push(s);for(const a of r)this.br=this.br.add(new Bu(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return qa.resolve(s)}lookupMutationBatch(e,t){return qa.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.vr(n),i=r<0?0:r;return qa.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return qa.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return qa.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Bu(t,0),r=new Bu(t,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([n,r],(e=>{const t=this.Dr(e.wr);i.push(t)})),qa.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new oo(Ca);return t.forEach((e=>{const t=new Bu(e,0),r=new Bu(e,Number.POSITIVE_INFINITY);this.br.forEachInRange([t,r],(e=>{n=n.add(e.wr)}))})),qa.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Oa.isDocumentKey(i)||(i=i.child(""));const s=new Bu(new Oa(i),0);let a=new oo(Ca);return this.br.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.wr)),!0)}),s),qa.resolve(this.Cr(a))}Cr(e){const t=[];return e.forEach((e=>{const n=this.Dr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){ha(0===this.Fr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.br;return qa.forEach(t.mutations,(r=>{const i=new Bu(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.br=n}))}On(e){}containsKey(e,t){const n=new Bu(t,0),r=this.br.firstAfterOrEqual(n);return qa.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,qa.resolve()}Fr(e,t){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class qu{constructor(e){this.Mr=e,this.docs=new io(Oa.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.Mr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return qa.resolve(n?n.document.mutableCopy():Bo.newInvalidDocument(t))}getEntries(e,t){let n=Ol();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Bo.newInvalidDocument(e))})),qa.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Ol();const s=t.path,a=new Oa(s.child("")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||Va(Fa(a),n)<=0||(r.has(a.key)||Il(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return qa.resolve(i)}getAllFromCollectionGroup(e,t,n,r){da()}Or(e,t){return qa.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Wu(this)}getSize(e){return qa.resolve(this.size)}}class Wu extends Ou{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.cr.addEntry(e,r)):this.cr.removeEntry(n)})),qa.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}class Hu{constructor(e){this.persistence=e,this.Nr=new Rl((e=>fl(e)),ml),this.lastRemoteSnapshotVersion=ja.min(),this.highestTargetId=0,this.Lr=0,this.Br=new zu,this.targetCount=0,this.kr=Du.Bn()}forEachTarget(e,t){return this.Nr.forEach(((e,n)=>t(n))),qa.resolve()}getLastRemoteSnapshotVersion(e){return qa.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return qa.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),qa.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Lr&&(this.Lr=t),qa.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new Du(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,qa.resolve()}updateTargetData(e,t){return this.Kn(t),qa.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,qa.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Nr.forEach(((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.Nr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)})),qa.waitFor(i).next((()=>r))}getTargetCount(e){return qa.resolve(this.targetCount)}getTargetData(e,t){const n=this.Nr.get(t)||null;return qa.resolve(n)}addMatchingKeys(e,t,n){return this.Br.Rr(t,n),qa.resolve()}removeMatchingKeys(e,t,n){this.Br.mr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),qa.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),qa.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Br.yr(t);return qa.resolve(n)}containsKey(e,t){return qa.resolve(this.Br.containsKey(t))}}class Ku{constructor(e,t){this.qr={},this.overlays={},this.Qr=new Ka(0),this.Kr=!1,this.Kr=!0,this.$r=new Vu,this.referenceDelegate=e(this),this.Ur=new Hu(this),this.indexManager=new Au,this.remoteDocumentCache=function(e){return new qu(e)}((e=>this.referenceDelegate.Wr(e))),this.serializer=new Tu(t),this.Gr=new Fu(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Uu,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.qr[e.toKey()];return n||(n=new $u(t,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,n){oa("MemoryPersistence","Starting transaction:",e);const r=new Gu(this.Qr.next());return this.referenceDelegate.zr(),n(r).next((e=>this.referenceDelegate.jr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Hr(e,t){return qa.or(Object.values(this.qr).map((n=>()=>n.containsKey(e,t))))}}class Gu extends Ba{constructor(e){super(),this.currentSequenceNumber=e}}class Qu{constructor(e){this.persistence=e,this.Jr=new zu,this.Yr=null}static Zr(e){return new Qu(e)}get Xr(){if(this.Yr)return this.Yr;throw da()}addReference(e,t,n){return this.Jr.addReference(n,t),this.Xr.delete(n.toString()),qa.resolve()}removeReference(e,t,n){return this.Jr.removeReference(n,t),this.Xr.add(n.toString()),qa.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),qa.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach((e=>this.Xr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Xr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return qa.forEach(this.Xr,(n=>{const r=Oa.fromPath(n);return this.ei(e,r).next((e=>{e||t.removeEntry(r,ja.min())}))})).next((()=>(this.Yr=null,t.apply(e))))}updateLimboDocument(e,t){return this.ei(e,t).next((e=>{e?this.Xr.delete(t.toString()):this.Xr.add(t.toString())}))}Wr(e){return 0}ei(e,t){return qa.or([()=>qa.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class Yu{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.$i=n,this.Ui=r}static Wi(e,t){let n=ql(),r=ql();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Yu(e,t.fromCache,n,r)}}class Xu{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Ju{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=Le()?8:Wa(Oe())>0?6:4}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.Yi(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Zi(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new Xu;return this.Xi(e,t,n).next((r=>{if(i.result=r,this.zi)return this.es(e,t,n,r.size)}))})).next((()=>i.result))}es(e,t,n,r){return n.documentReadCount<this.ji?(aa()<=et.DEBUG&&oa("QueryEngine","SDK will not create cache indexes for query:",Tl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),qa.resolve()):(aa()<=et.DEBUG&&oa("QueryEngine","Query:",Tl(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Hi*r?(aa()<=et.DEBUG&&oa("QueryEngine","The SDK decides to create cache indexes for query:",Tl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,kl(t))):qa.resolve())}Yi(e,t){if(bl(t))return qa.resolve(null);let n=kl(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=El(t,null,"F"),n=kl(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=ql(...r);return this.Ji.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.ts(t,r);return this.ns(t,s,i,n.readTime)?this.Yi(e,El(t,null,"F")):this.rs(e,s,t,n)}))))})))))}Zi(e,t,n,r){return bl(t)||r.isEqual(ja.min())?qa.resolve(null):this.Ji.getDocuments(e,n).next((i=>{const s=this.ts(t,i);return this.ns(t,s,n,r)?qa.resolve(null):(aa()<=et.DEBUG&&oa("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Tl(t)),this.rs(e,s,t,Ma(r,-1)).next((e=>e)))}))}ts(e,t){let n=new oo(Al(e));return t.forEach(((t,r)=>{Il(e,r)&&(n=n.add(r))})),n}ns(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Xi(e,t,n){return aa()<=et.DEBUG&&oa("QueryEngine","Using full collection scan to execute query:",Tl(t)),this.Ji.getDocumentsMatchingQuery(e,t,Ua.min(),n)}rs(e,t,n,r){return this.Ji.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class Zu{constructor(e,t,n,r){this.persistence=e,this.ss=t,this.serializer=r,this.os=new io(Ca),this._s=new Rl((e=>fl(e)),ml),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Mu(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.os)))}}function ed(e,t,n,r){return new Zu(e,t,n,r)}async function td(e,t){const n=fa(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.ls(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let a=ql();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next((e=>({hs:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function nd(e){const t=fa(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Ur.getLastRemoteSnapshotVersion(e)))}function rd(e,t,n){let r=ql(),i=ql();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Ol();return n.forEach(((n,s)=>{const a=e.get(n);s.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(ja.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):oa("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),{Ps:r,Is:i}}))}function id(e,t){const n=fa(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function sd(e,t){const n=fa(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Ur.getTargetData(e,t).next((i=>i?(r=i,qa.resolve(r)):n.Ur.allocateTargetId(e).next((i=>(r=new Cu(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Ur.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.os.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.os=n.os.insert(e.targetId,e),n._s.set(t,e.targetId)),e}))}async function ad(e,t,n){const r=fa(e),i=r.os.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Ha(e))throw e;oa("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.os=r.os.remove(t),r._s.delete(i.target)}function od(e,t,n){const r=fa(e);let i=ja.min(),s=ql();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=fa(e),i=r._s.get(n);return void 0!==i?qa.resolve(r.os.get(i)):r.Ur.getTargetData(t,n)}(r,e,kl(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.ss.getDocumentsMatchingQuery(e,t,n?i:ja.min(),n?s:ql()))).next((e=>(ld(r,jl(t),e),{documents:e,Ts:s})))))}function ld(e,t,n){let r=e.us.get(t)||ja.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.us.set(t,r)}class cd{constructor(){this.activeTargetIds=Hl()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ud{constructor(){this.so=new cd,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,n){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new cd,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class dd{_o(e){}shutdown(){}}class hd{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){oa("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){oa("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let fd=null;function md(){return null===fd?fd=268435456+Math.round(2147483648*Math.random()):fd++,"0x"+fd.toString(16)}const pd={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gd{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const yd="WebChannelConnection";class vd extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Do=t+"://"+e.host,this.vo=`projects/${n}/databases/${r}`,this.Co="(default)"===this.databaseId.database?`project_id=${n}`:`project_id=${n}&database_id=${r}`}get Fo(){return!1}Mo(e,t,n,r,i){const s=md(),a=this.xo(e,t.toUriEncodedString());oa("RestConnection",`Sending RPC '${e}' ${s}:`,a,n);const o={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(o,r,i),this.No(e,a,o,n).then((t=>(oa("RestConnection",`Received RPC '${e}' ${s}: `,t),t)),(t=>{throw ca("RestConnection",`RPC '${e}' ${s} failed with error: `,t,"url: ",a,"request:",n),t}))}Lo(e,t,n,r,i,s){return this.Mo(e,t,n,r,i)}Oo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+ia,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}xo(e,t){const n=pd[e];return`${this.Do}/v1/${t}:${n}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,n,r){const i=md();return new Promise(((s,a)=>{const o=new Hs;o.setWithCredentials(!0),o.listenOnce(Gs.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case Qs.NO_ERROR:const t=o.getResponseJson();oa(yd,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),s(t);break;case Qs.TIMEOUT:oa(yd,`RPC '${e}' ${i} timed out`),a(new pa(ma.DEADLINE_EXCEEDED,"Request time out"));break;case Qs.HTTP_ERROR:const n=o.getStatus();if(oa(yd,`RPC '${e}' ${i} failed with status:`,n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(ma).indexOf(t)>=0?t:ma.UNKNOWN}(t.status);a(new pa(e,t.message))}else a(new pa(ma.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new pa(ma.UNAVAILABLE,"Connection failed."));break;default:da()}}finally{oa(yd,`RPC '${e}' ${i} completed.`)}}));const l=JSON.stringify(r);oa(yd,`RPC '${e}' ${i} sending request:`,r),o.send(t,"POST",l,n,15)}))}Bo(e,t,n){const r=md(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Zs(),a=Js(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Oo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=i.join("");oa(yd,`Creating RPC '${e}' stream ${r}: ${c}`,o);const u=s.createWebChannel(c,o);let d=!1,h=!1;const f=new gd({Io:t=>{h?oa(yd,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||(oa(yd,`Opening RPC '${e}' stream ${r} transport.`),u.open(),d=!0),oa(yd,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},To:()=>u.close()}),m=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return m(u,Ks.EventType.OPEN,(()=>{h||(oa(yd,`RPC '${e}' stream ${r} transport opened.`),f.yo())})),m(u,Ks.EventType.CLOSE,(()=>{h||(h=!0,oa(yd,`RPC '${e}' stream ${r} transport closed`),f.So())})),m(u,Ks.EventType.ERROR,(t=>{h||(h=!0,ca(yd,`RPC '${e}' stream ${r} transport errored:`,t),f.So(new pa(ma.UNAVAILABLE,"The operation could not be completed")))})),m(u,Ks.EventType.MESSAGE,(t=>{var n;if(!h){const i=t.data[0];ha(!!i);const s=i,a=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(a){oa(yd,`RPC '${e}' stream ${r} received error:`,a);const t=a.status;let n=function(e){const t=Ic[e];if(void 0!==t)return Pc(t)}(t),i=a.message;void 0===n&&(n=ma.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),h=!0,f.So(new pa(n,i)),u.close()}else oa(yd,`RPC '${e}' stream ${r} received:`,i),f.bo(i)}})),m(a,Xs.STAT_EVENT,(t=>{t.stat===Ys.PROXY?oa(yd,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===Ys.NOPROXY&&oa(yd,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{f.wo()}),0),f}}function bd(){return"undefined"!=typeof document?document:null}function wd(e){return new Jc(e,!0)}class xd{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ui=e,this.timerId=t,this.ko=n,this.qo=r,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),r=Math.max(0,t-n);r>0&&oa("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class kd{constructor(e,t,n,r,i,s,a,o){this.ui=e,this.Ho=n,this.Jo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new xd(e,t)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,4!==e?this.t_.reset():t&&t.code===ma.RESOURCE_EXHAUSTED?(la(t.toString()),la("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===ma.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Yo===t&&this.P_(n,r)}),(t=>{e((()=>{const e=new pa(ma.UNKNOWN,"Fetching auth token failed: "+t.message);return this.I_(e)}))}))}P_(e,t){const n=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo((()=>{n((()=>this.listener.Eo()))})),this.stream.Ro((()=>{n((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((e=>{n((()=>this.I_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.e_?this.E_(e):this.onNext(e)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return oa("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget((()=>this.Yo===e?t():(oa("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class _d extends kd{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:da()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(ha(void 0===t||"string"==typeof t),ho.fromBase64String(t||"")):(ha(void 0===t||t instanceof Buffer||t instanceof Uint8Array),ho.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?ma.UNKNOWN:Pc(e.code);return new pa(t,e.message||"")}(a);n=new qc(r,i,s,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=lu(e,r.document.name),s=ru(r.document.updateTime),a=r.document.createTime?ru(r.document.createTime):ja.min(),o=new Vo({mapValue:{fields:r.document.fields}}),l=Bo.newFoundDocument(i,s,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Bc(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=lu(e,r.document),s=r.readTime?ru(r.readTime):ja.min(),a=Bo.newNoDocument(i,s),o=r.removedTargetIds||[];n=new Bc([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=lu(e,r.document),s=r.removedTargetIds||[];n=new Bc([],s,i,null)}else{if(!("filter"in t))return da();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new Tc(r,i),a=e.targetId;n=new $c(a,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return ja.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?ja.min():t.readTime?ru(t.readTime):ja.min()}(e);return this.listener.d_(t,n)}A_(e){const t={};t.database=du(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=pl(r)?{documents:pu(e,r)}:{query:gu(e,r)._t},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=tu(e,t.resumeToken);const r=Zc(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(ja.min())>0){n.readTime=eu(e,t.snapshotVersion.toTimestamp());const r=Zc(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return da()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.a_(t)}R_(e){const t={};t.database=du(this.serializer),t.removeTarget=e,this.a_(t)}}class Nd extends kd{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return ha(!!e.streamToken),this.lastStreamToken=e.streamToken,ha(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){ha(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=function(e,t){return e&&e.length>0?(ha(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?ru(e.updateTime):ru(t);return n.isEqual(ja.min())&&(n=ru(t)),new cc(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=ru(e.commitTime);return this.listener.g_(n,t)}p_(){const e={};e.database=du(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>mu(this.serializer,e)))};this.a_(t)}}class Ed extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new pa(ma.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,n,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,a]=i;return this.connection.Mo(e,su(t,n),r,s,a)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===ma.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new pa(ma.UNKNOWN,e.toString())}))}Lo(e,t,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((s=>{let[a,o]=s;return this.connection.Lo(e,su(t,n),r,a,o,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===ma.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new pa(ma.UNKNOWN,e.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class Sd{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(la(t),this.D_=!1):oa("OnlineStateTracker",t)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class Cd{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o((e=>{n.enqueueAndForget((async()=>{Ld(this)&&(oa("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=fa(e);t.L_.add(4),await Id(t),t.q_.set("Unknown"),t.L_.delete(4),await Td(t)}(this))}))})),this.q_=new Sd(n,r)}}async function Td(e){if(Ld(e))for(const t of e.B_)await t(!0)}async function Id(e){for(const t of e.B_)await t(!1)}function jd(e,t){const n=fa(e);n.N_.has(t.targetId)||(n.N_.set(t.targetId,t),Od(n)?Dd(n):th(n).r_()&&Pd(n,t))}function Ad(e,t){const n=fa(e),r=th(n);n.N_.delete(t),r.r_()&&Rd(n,t),0===n.N_.size&&(r.r_()?r.o_():Ld(n)&&n.q_.set("Unknown"))}function Pd(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ja.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}th(e).A_(t)}function Rd(e,t){e.Q_.xe(t),th(e).R_(t)}function Dd(e){e.Q_=new Hc({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.N_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),th(e).start(),e.q_.v_()}function Od(e){return Ld(e)&&!th(e).n_()&&e.N_.size>0}function Ld(e){return 0===fa(e).L_.size}function Md(e){e.Q_=void 0}async function Fd(e){e.q_.set("Online")}async function Ud(e){e.N_.forEach(((t,n)=>{Pd(e,t)}))}async function Vd(e,t){Md(e),Od(e)?(e.q_.M_(t),Dd(e)):e.q_.set("Unknown")}async function zd(e,t,n){if(e.q_.set("Online"),t instanceof qc&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.N_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.N_.delete(r),e.Q_.removeTarget(r))}(e,t)}catch(n){oa("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Bd(e,n)}else if(t instanceof Bc?e.Q_.Ke(t):t instanceof $c?e.Q_.He(t):e.Q_.We(t),!n.isEqual(ja.min()))try{const t=await nd(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Q_.rt(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.N_.get(r);i&&e.N_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.N_.get(t);if(!r)return;e.N_.set(t,r.withResumeToken(ho.EMPTY_BYTE_STRING,r.snapshotVersion)),Rd(e,t);const i=new Cu(r.target,t,n,r.sequenceNumber);Pd(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){oa("RemoteStore","Failed to raise snapshot:",t),await Bd(e,t)}}async function Bd(e,t,n){if(!Ha(t))throw t;e.L_.add(1),await Id(e),e.q_.set("Offline"),n||(n=()=>nd(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{oa("RemoteStore","Retrying IndexedDB access"),await n(),e.L_.delete(1),await Td(e)}))}function $d(e,t){return t().catch((n=>Bd(e,n,t)))}async function qd(e){const t=fa(e),n=nh(t);let r=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;Wd(t);)try{const e=await id(t.localStore,r);if(null===e){0===t.O_.length&&n.o_();break}r=e.batchId,Hd(t,e)}catch(e){await Bd(t,e)}Kd(t)&&Gd(t)}function Wd(e){return Ld(e)&&e.O_.length<10}function Hd(e,t){e.O_.push(t);const n=nh(e);n.r_()&&n.V_&&n.m_(t.mutations)}function Kd(e){return Ld(e)&&!nh(e).n_()&&e.O_.length>0}function Gd(e){nh(e).start()}async function Qd(e){nh(e).p_()}async function Yd(e){const t=nh(e);for(const n of e.O_)t.m_(n.mutations)}async function Xd(e,t,n){const r=e.O_.shift(),i=Sc.from(r,t,n);await $d(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await qd(e)}async function Jd(e,t){t&&nh(e).V_&&await async function(e,t){if(function(e){return Ac(e)&&e!==ma.ABORTED}(t.code)){const n=e.O_.shift();nh(e).s_(),await $d(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await qd(e)}}(e,t),Kd(e)&&Gd(e)}async function Zd(e,t){const n=fa(e);n.asyncQueue.verifyOperationInProgress(),oa("RemoteStore","RemoteStore received new credentials");const r=Ld(n);n.L_.add(3),await Id(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.L_.delete(3),await Td(n)}async function eh(e,t){const n=fa(e);t?(n.L_.delete(2),await Td(n)):t||(n.L_.add(2),await Id(n),n.q_.set("Unknown"))}function th(e){return e.K_||(e.K_=function(e,t,n){const r=fa(e);return r.w_(),new _d(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:Fd.bind(null,e),Ro:Ud.bind(null,e),mo:Vd.bind(null,e),d_:zd.bind(null,e)}),e.B_.push((async t=>{t?(e.K_.s_(),Od(e)?Dd(e):e.q_.set("Unknown")):(await e.K_.stop(),Md(e))}))),e.K_}function nh(e){return e.U_||(e.U_=function(e,t,n){const r=fa(e);return r.w_(),new Nd(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Qd.bind(null,e),mo:Jd.bind(null,e),f_:Yd.bind(null,e),g_:Xd.bind(null,e)}),e.B_.push((async t=>{t?(e.U_.s_(),await qd(e)):(await e.U_.stop(),e.O_.length>0&&(oa("RemoteStore",`Stopping write stream with ${e.O_.length} pending writes`),e.O_=[]))}))),e.U_}class rh{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new ga,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,a=new rh(e,t,s,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new pa(ma.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ih(e,t){if(la("AsyncQueue",`${t}: ${e}`),Ha(e))return new pa(ma.UNAVAILABLE,`${t}: ${e}`);throw e}class sh{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Oa.comparator(t.key,n.key):(e,t)=>Oa.comparator(e.key,t.key),this.keyedMap=Ml(),this.sortedSet=new io(this.comparator)}static emptySet(e){return new sh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof sh))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new sh;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class ah{constructor(){this.W_=new io(Oa.comparator)}track(e){const t=e.doc.key,n=this.W_.get(t);n?0!==e.type&&3===n.type?this.W_=this.W_.insert(t,e):3===e.type&&1!==n.type?this.W_=this.W_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.W_=this.W_.remove(t):1===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):da():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class oh{constructor(e,t,n,r,i,s,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new oh(e,t,sh.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class lh{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class ch{constructor(){this.queries=uh(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(e,t){const n=fa(e),r=n.queries;n.queries=uh(),r.forEach(((e,n)=>{for(const r of n.j_)r.onError(t)}))}(this,new pa(ma.ABORTED,"Firestore shutting down"))}}function uh(){return new Rl((e=>Cl(e)),Sl)}async function dh(e,t){const n=fa(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.H_()&&t.J_()&&(r=2):(s=new lh,r=t.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=ih(e,`Initialization of query '${Tl(t.query)}' failed`);return void t.onError(n)}n.queries.set(i,s),s.j_.push(t),t.Z_(n.onlineState),s.z_&&t.X_(s.z_)&&ph(n)}async function hh(e,t){const n=fa(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.j_.indexOf(t);e>=0&&(s.j_.splice(e,1),0===s.j_.length?i=t.J_()?0:1:!s.H_()&&t.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function fh(e,t){const n=fa(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.j_)e.X_(i)&&(r=!0);t.z_=i}}r&&ph(n)}function mh(e,t,n){const r=fa(e),i=r.queries.get(t);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(t)}function ph(e){e.Y_.forEach((e=>{e.next()}))}var gh,yh;(yh=gh||(gh={})).ea="default",yh.Cache="cache";class vh{constructor(e,t,n){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new oh(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache)return!0;if(!this.J_())return!0;const n="Offline"!==t;return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}oa(e){e=oh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==gh.Cache}}class bh{constructor(e){this.key=e}}class wh{constructor(e){this.key=e}}class xh{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ql(),this.mutatedKeys=ql(),this.Aa=Al(e),this.Ra=new sh(this.Aa)}get Va(){return this.Ta}ma(e,t){const n=t?t.fa:new ah,r=t?t.Ra:this.Ra;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=Il(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.ga(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.Aa(u,o)>0||l&&this.Aa(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(a=!0)),f&&(u?(s=s.add(u),i=h?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Ra:s,fa:n,ns:a,mutatedKeys:i}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return da()}};return n(e)-n(t)}(e.type,t.type)||this.Aa(e.doc,t.doc))),this.pa(n),r=null!=r&&r;const a=t&&!r?this.ya():[],o=0===this.da.size&&this.current&&!r?1:0,l=o!==this.Ea;return this.Ea=o,0!==s.length||l?{snapshot:new oh(this.query,e.Ra,i,s,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new ah,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((e=>this.Ta=this.Ta.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Ta=this.Ta.delete(e))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ql(),this.Ra.forEach((e=>{this.Sa(e.key)&&(this.da=this.da.add(e.key))}));const t=[];return e.forEach((e=>{this.da.has(e)||t.push(new wh(e))})),this.da.forEach((n=>{e.has(n)||t.push(new bh(n))})),t}ba(e){this.Ta=e.Ts,this.da=ql();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return oh.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class kh{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class _h{constructor(e){this.key=e,this.va=!1}}class Nh{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Rl((e=>Cl(e)),Sl),this.Ma=new Map,this.xa=new Set,this.Oa=new io(Oa.comparator),this.Na=new Map,this.La=new zu,this.Ba={},this.ka=new Map,this.qa=Du.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}async function Eh(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Hh(e);let i;const s=r.Fa.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await Ch(r,t,n,!0),i}async function Sh(e,t){const n=Hh(e);await Ch(n,t,!0,!1)}async function Ch(e,t,n,r){const i=await sd(e.localStore,kl(t)),s=i.targetId,a=e.sharedClientState.addLocalQueryTarget(s,n);let o;return r&&(o=await Th(e,t,s,"current"===a,i.resumeToken)),e.isPrimaryClient&&n&&jd(e.remoteStore,i),o}async function Th(e,t,n,r,i){e.Ka=(t,n,r)=>async function(e,t,n,r){let i=t.view.ma(n);i.ns&&(i=await od(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ma(n,i)})));const s=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s,a);return Vh(e,t.targetId,o.wa),o.snapshot}(e,t,n,r);const s=await od(e.localStore,t,!0),a=new xh(t,s.Ts),o=a.ma(s.documents),l=zc.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(o,e.isPrimaryClient,l);Vh(e,n,c.wa);const u=new kh(t,n,a);return e.Fa.set(t,u),e.Ma.has(n)?e.Ma.get(n).push(t):e.Ma.set(n,[t]),c.snapshot}async function Ih(e,t,n){const r=fa(e),i=r.Fa.get(t),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter((e=>!Sl(e,t)))),void r.Fa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await ad(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Ad(r.remoteStore,i.targetId),Fh(r,i.targetId)})).catch($a)):(Fh(r,i.targetId),await ad(r.localStore,i.targetId,!0))}async function jh(e,t){const n=fa(e),r=n.Fa.get(t),i=n.Ma.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ad(n.remoteStore,r.targetId))}async function Ah(e,t){const n=fa(e);try{const e=await function(e,t){const n=fa(e),r=t.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];t.targetChanges.forEach(((s,o)=>{const l=i.get(o);if(!l)return;a.push(n.Ur.removeMatchingKeys(e,s.removedDocuments,o).next((()=>n.Ur.addMatchingKeys(e,s.addedDocuments,o))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(ho.EMPTY_BYTE_STRING,ja.min()).withLastLimboFreeSnapshotVersion(ja.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,s)&&a.push(n.Ur.updateTargetData(e,c))}));let o=Ol(),l=ql();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(rd(e,s,t.documentUpdates).next((e=>{o=e.Ps,l=e.Is}))),!r.isEqual(ja.min())){const t=n.Ur.getLastRemoteSnapshotVersion(e).next((t=>n.Ur.setTargetsMetadata(e,e.currentSequenceNumber,r)));a.push(t)}return qa.waitFor(a).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,o,l))).next((()=>o))})).then((e=>(n.os=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Na.get(t);r&&(ha(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.va=!0:e.modifiedDocuments.size>0?ha(r.va):e.removedDocuments.size>0&&(ha(r.va),r.va=!1))})),await $h(n,e,t)}catch(e){await $a(e)}}function Ph(e,t,n){const r=fa(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Fa.forEach(((n,r)=>{const i=r.view.Z_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=fa(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.j_)i.Z_(t)&&(r=!0)})),r&&ph(n)}(r.eventManager,t),e.length&&r.Ca.d_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Rh(e,t,n){const r=fa(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Na.get(t),s=i&&i.key;if(s){let e=new io(Oa.comparator);e=e.insert(s,Bo.newNoDocument(s,ja.min()));const n=ql().add(s),i=new Vc(ja.min(),new Map,new io(Ca),e,n);await Ah(r,i),r.Oa=r.Oa.remove(s),r.Na.delete(t),Bh(r)}else await ad(r.localStore,t,!1).then((()=>Fh(r,t,n))).catch($a)}async function Dh(e,t){const n=fa(e),r=t.batch.batchId;try{const e=await function(e,t){const n=fa(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let a=qa.resolve();return s.forEach((e=>{a=a.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);ha(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),a.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=ql();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Mh(n,r,null),Lh(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await $h(n,e)}catch(e){await $a(e)}}async function Oh(e,t,n){const r=fa(e);try{const e=await function(e,t){const n=fa(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(ha(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Mh(r,t,n),Lh(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await $h(r,e)}catch(n){await $a(n)}}function Lh(e,t){(e.ka.get(t)||[]).forEach((e=>{e.resolve()})),e.ka.delete(t)}function Mh(e,t,n){const r=fa(e);let i=r.Ba[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Ba[r.currentUser.toKey()]=i}}function Fh(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Ma.get(t))e.Fa.delete(r),n&&e.Ca.$a(r,n);e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach((t=>{e.La.containsKey(t)||Uh(e,t)}))}function Uh(e,t){e.xa.delete(t.path.canonicalString());const n=e.Oa.get(t);null!==n&&(Ad(e.remoteStore,n),e.Oa=e.Oa.remove(t),e.Na.delete(n),Bh(e))}function Vh(e,t,n){for(const r of n)r instanceof bh?(e.La.addReference(r.key,t),zh(e,r)):r instanceof wh?(oa("SyncEngine","Document no longer in limbo: "+r.key),e.La.removeReference(r.key,t),e.La.containsKey(r.key)||Uh(e,r.key)):da()}function zh(e,t){const n=t.key,r=n.path.canonicalString();e.Oa.get(n)||e.xa.has(r)||(oa("SyncEngine","New document in limbo: "+n),e.xa.add(r),Bh(e))}function Bh(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){const t=e.xa.values().next().value;e.xa.delete(t);const n=new Oa(Pa.fromString(t)),r=e.qa.next();e.Na.set(r,new _h(n)),e.Oa=e.Oa.insert(n,r),jd(e.remoteStore,new Cu(kl(vl(n.path)),r,"TargetPurposeLimboResolution",Ka.oe))}}async function $h(e,t,n){const r=fa(e),i=[],s=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach(((e,o)=>{a.push(r.Ka(o,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(o.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(o.targetId,i?"current":"not-current")}if(e){i.push(e);const t=Yu.Wi(o.targetId,e);s.push(t)}})))})),await Promise.all(a),r.Ca.d_(i),await async function(e,t){const n=fa(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>qa.forEach(t,(t=>qa.forEach(t.$i,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>qa.forEach(t.Ui,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Ha(e))throw e;oa("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.os.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.os=n.os.insert(e,i)}}}(r.localStore,s))}async function qh(e,t){const n=fa(e);if(!n.currentUser.isEqual(t)){oa("SyncEngine","User change. New user:",t.toKey());const e=await td(n.localStore,t);n.currentUser=t,function(e,t){e.ka.forEach((e=>{e.forEach((e=>{e.reject(new pa(ma.CANCELLED,t))}))})),e.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await $h(n,e.hs)}}function Wh(e,t){const n=fa(e),r=n.Na.get(t);if(r&&r.va)return ql().add(r.key);{let e=ql();const r=n.Ma.get(t);if(!r)return e;for(const t of r){const r=n.Fa.get(t);e=e.unionWith(r.view.Va)}return e}}function Hh(e){const t=fa(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Ah.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Wh.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Rh.bind(null,t),t.Ca.d_=fh.bind(null,t.eventManager),t.Ca.$a=mh.bind(null,t.eventManager),t}function Kh(e){const t=fa(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Dh.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Oh.bind(null,t),t}class Gh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wd(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return ed(this.persistence,new Ju,e.initialUser,this.serializer)}Ga(e){return new Ku(Qu.Zr,this.serializer)}Wa(e){return new ud}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Gh.provider={build:()=>new Gh};class Qh{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Ph(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=qh.bind(null,this.syncEngine),await eh(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new ch}createDatastore(e){const t=wd(e.databaseInfo.databaseId),n=function(e){return new vd(e)}(e.databaseInfo);return function(e,t,n,r){return new Ed(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Cd(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>Ph(this.syncEngine,e,0)),hd.D()?new hd:new dd)}createSyncEngine(e,t){return function(e,t,n,r,i,s,a){const o=new Nh(e,t,n,r,i,s);return a&&(o.Qa=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=fa(e);oa("RemoteStore","RemoteStore shutting down."),t.L_.add(5),await Id(t),t.k_.shutdown(),t.q_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}Qh.provider={build:()=>new Qh};class Yh{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):la("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}class Xh{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=ra.UNAUTHENTICATED,this.clientId=Sa.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async e=>{oa("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(oa("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ga;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(Gy){const n=ih(Gy,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Jh(e,t){e.asyncQueue.verifyOperationInProgress(),oa("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await td(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function Zh(e,t){e.asyncQueue.verifyOperationInProgress();const n=await ef(e);oa("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>Zd(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Zd(t.remoteStore,n))),e._onlineComponents=t}async function ef(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){oa("FirestoreClient","Using user provided OfflineComponentProvider");try{await Jh(e,e._uninitializedComponentsProvider._offline)}catch(Gy){const n=Gy;if(!function(e){return"FirebaseError"===e.name?e.code===ma.FAILED_PRECONDITION||e.code===ma.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;ca("Error using user provided cache. Falling back to memory cache: "+n),await Jh(e,new Gh)}}else oa("FirestoreClient","Using default OfflineComponentProvider"),await Jh(e,new Gh);return e._offlineComponents}async function tf(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(oa("FirestoreClient","Using user provided OnlineComponentProvider"),await Zh(e,e._uninitializedComponentsProvider._online)):(oa("FirestoreClient","Using default OnlineComponentProvider"),await Zh(e,new Qh))),e._onlineComponents}function nf(e){return tf(e).then((e=>e.syncEngine))}async function rf(e){const t=await tf(e),n=t.eventManager;return n.onListen=Eh.bind(null,t.syncEngine),n.onUnlisten=Ih.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Sh.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=jh.bind(null,t.syncEngine),n}function sf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new ga;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new Yh({next:o=>{s.Za(),t.enqueueAndForget((()=>hh(e,a)));const l=o.docs.has(n);!l&&o.fromCache?i.reject(new pa(ma.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&o.fromCache&&r&&"server"===r.source?i.reject(new pa(ma.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),a=new vh(vl(n.path),s,{includeMetadataChanges:!0,_a:!0});return dh(e,a)}(await rf(e),e.asyncQueue,t,n,r))),r.promise}function af(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new ga;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new Yh({next:n=>{s.Za(),t.enqueueAndForget((()=>hh(e,a))),n.fromCache&&"server"===r.source?i.reject(new pa(ma.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new vh(n,s,{includeMetadataChanges:!0,_a:!0});return dh(e,a)}(await rf(e),e.asyncQueue,t,n,r))),r.promise}function of(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const lf=new Map;function cf(e,t,n){if(!n)throw new pa(ma.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function uf(e){if(!Oa.isDocumentKey(e))throw new pa(ma.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function df(e){if(Oa.isDocumentKey(e))throw new pa(ma.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function hf(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":da()}function ff(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new pa(ma.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=hf(e);throw new pa(ma.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function mf(e,t){if(t<=0)throw new pa(ma.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}class pf{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new pa(ma.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new pa(ma.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new pa(ma.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=of(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new pa(ma.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new pa(ma.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new pa(ma.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gf{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pf({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pa(ma.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new pa(ma.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pf(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new va;switch(e.type){case"firstParty":return new ka(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new pa(ma.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=lf.get(e);t&&(oa("ComponentProvider","Removing Datastore"),lf.delete(e),t.terminate())}(this),Promise.resolve()}}class yf{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new yf(this.firestore,e,this._query)}}class vf{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bf(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vf(this.firestore,e,this._key)}}class bf extends yf{constructor(e,t,n){super(e,t,vl(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vf(this.firestore,null,new Oa(e))}withConverter(e){return new bf(this.firestore,e,this._path)}}function wf(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ge(e),cf("collection","path",t),e instanceof gf){const n=Pa.fromString(t,...r);return df(n),new bf(e,null,n)}{if(!(e instanceof vf||e instanceof bf))throw new pa(ma.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Pa.fromString(t,...r));return df(n),new bf(e.firestore,null,n)}}function xf(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ge(e),1===arguments.length&&(t=Sa.newId()),cf("doc","path",t),e instanceof gf){const n=Pa.fromString(t,...r);return uf(n),new vf(e,null,new Oa(n))}{if(!(e instanceof vf||e instanceof bf))throw new pa(ma.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Pa.fromString(t,...r));return uf(n),new vf(e.firestore,e instanceof bf?e.converter:null,new Oa(n))}}class kf{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new xd(this,"async_queue_retry"),this.Vu=()=>{const e=bd();e&&oa("AsyncQueue","Visibility state changed to "+e.visibilityState),this.t_.jo()},this.mu=e;const t=bd();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=bd();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const t=new ga;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(0!==this.Pu.length){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(Ry){if(!Ha(Ry))throw Ry;oa("AsyncQueue","Operation failed with retryable error: "+Ry)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const t=this.mu.then((()=>(this.du=!0,e().catch((e=>{this.Eu=e,this.du=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw la("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.du=!1,e))))));return this.mu=t,t}enqueueAfterDelay(e,t,n){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const r=rh.createAndSchedule(this,e,t,n,(e=>this.yu(e)));return this.Tu.push(r),r}fu(){this.Eu&&da()}verifyOperationInProgress(){}async wu(){let e;do{e=this.mu,await e}while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.Tu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}class _f extends gf{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new kf,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new kf(e),this._firestoreClient=void 0,await e}}}function Nf(e){if(e._terminated)throw new pa(ma.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Ef(e),e._firestoreClient}function Ef(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new wo(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,of(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new Xh(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class Sf{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Sf(ho.fromBase64String(e))}catch(e){throw new pa(ma.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Sf(ho.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Cf{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new pa(ma.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Da(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Tf{constructor(e){this._methodName=e}}class If{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new pa(ma.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new pa(ma.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ca(this._lat,e._lat)||Ca(this._long,e._long)}}class jf{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const Af=/^__.*__$/;class Pf{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new bc(e,this.data,this.fieldMask,t,this.fieldTransforms):new vc(e,this.data,t,this.fieldTransforms)}}class Rf{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new bc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Df(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw da()}}class Of{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Of(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fu({path:n,xu:!1});return r.Ou(e),r}Nu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fu({path:n,xu:!1});return r.vu(),r}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return tm(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(Df(this.Cu)&&Af.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Lf{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||wd(e)}Qu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Of({Cu:e,methodName:t,qu:n,path:Da.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Mf(e){const t=e._freezeSettings(),n=wd(e._databaseId);return new Lf(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Ff(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.Qu(s.merge||s.mergeFields?2:0,t,n,i);Xf("Data must be an object, but it was:",a,r);const o=Qf(r,a);let l,c;if(s.merge)l=new co(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=Jf(t,r,n);if(!a.contains(i))throw new pa(ma.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);nm(e,i)||e.push(i)}l=new co(e),c=a.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=a.fieldTransforms;return new Pf(new Vo(o),l,c)}class Uf extends Tf{_toFieldTransform(e){if(2!==e.Cu)throw 1===e.Cu?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Uf}}function Vf(e,t,n){return new Of({Cu:3,qu:t.settings.qu,methodName:e._methodName,xu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class zf extends Tf{_toFieldTransform(e){return new lc(e.path,new ec)}isEqual(e){return e instanceof zf}}class Bf extends Tf{constructor(e,t){super(e),this.Ku=t}_toFieldTransform(e){const t=Vf(this,e,!0),n=this.Ku.map((e=>Gf(e,t))),r=new tc(n);return new lc(e.path,r)}isEqual(e){return e instanceof Bf&&ze(this.Ku,e.Ku)}}class $f extends Tf{constructor(e,t){super(e),this.Ku=t}_toFieldTransform(e){const t=Vf(this,e,!0),n=this.Ku.map((e=>Gf(e,t))),r=new rc(n);return new lc(e.path,r)}isEqual(e){return e instanceof $f&&ze(this.Ku,e.Ku)}}class qf extends Tf{constructor(e,t){super(e),this.$u=t}_toFieldTransform(e){const t=new sc(e.serializer,Ql(e.serializer,this.$u));return new lc(e.path,t)}isEqual(e){return e instanceof qf&&this.$u===e.$u}}function Wf(e,t,n,r){const i=e.Qu(1,t,n);Xf("Data must be an object, but it was:",i,r);const s=[],a=Vo.empty();no(r,((e,r)=>{const o=em(t,e,n);r=Ge(r);const l=i.Nu(o);if(r instanceof Uf)s.push(o);else{const e=Gf(r,l);null!=e&&(s.push(o),a.set(o,e))}}));const o=new co(s);return new Rf(a,o,i.fieldTransforms)}function Hf(e,t,n,r,i,s){const a=e.Qu(1,t,n),o=[Jf(t,r,n)],l=[i];if(s.length%2!=0)throw new pa(ma.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)o.push(Jf(t,s[h])),l.push(s[h+1]);const c=[],u=Vo.empty();for(let h=o.length-1;h>=0;--h)if(!nm(c,o[h])){const e=o[h];let t=l[h];t=Ge(t);const n=a.Nu(e);if(t instanceof Uf)c.push(e);else{const r=Gf(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new co(c);return new Rf(u,d,a.fieldTransforms)}function Kf(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Gf(n,e.Qu(r?4:3,t))}function Gf(e,t){if(Yf(e=Ge(e)))return Xf("Unsupported field value:",t,e),Qf(e,t);if(e instanceof Tf)return function(e,t){if(!Df(t.Cu))throw t.Bu(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Bu(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xu&&4!==t.Cu)throw t.Bu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Gf(i,t.Lu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Ge(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Ql(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Ia.fromDate(e);return{timestampValue:eu(t.serializer,n)}}if(e instanceof Ia){const n=new Ia(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:eu(t.serializer,n)}}if(e instanceof If)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Sf)return{bytesValue:tu(t.serializer,e._byteString)};if(e instanceof vf){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Bu(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:iu(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof jf)return function(e,t){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw t.Bu("VectorValues must only contain numeric values.");return Kl(t.serializer,e)}))}}}}}}(e,t);throw t.Bu(`Unsupported field value: ${hf(e)}`)}(e,t)}function Qf(e,t){const n={};return ro(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):no(e,((e,r)=>{const i=Gf(r,t.Mu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Yf(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Ia||e instanceof If||e instanceof Sf||e instanceof vf||e instanceof Tf||e instanceof jf)}function Xf(e,t,n){if(!Yf(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=hf(n);throw"an object"===r?t.Bu(e+" a custom object"):t.Bu(e+" "+r)}}function Jf(e,t,n){if((t=Ge(t))instanceof Cf)return t._internalPath;if("string"==typeof t)return em(e,t);throw tm("Field path arguments must be of type string or ",e,!1,void 0,n)}const Zf=new RegExp("[~\\*/\\[\\]]");function em(e,t,n){if(t.search(Zf)>=0)throw tm(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Cf(...t.split("."))._internalPath}catch(by){throw tm(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function tm(e,t,n,r,i){const s=r&&!r.isEmpty(),a=void 0!==i;let o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new pa(ma.INVALID_ARGUMENT,o+e+l)}function nm(e,t){return e.some((e=>e.isEqual(t)))}class rm{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new vf(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new im(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(sm("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class im extends rm{data(){return super.data()}}function sm(e,t){return"string"==typeof t?em(e,t):t instanceof Cf?t._internalPath:t._delegate._internalPath}function am(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new pa(ma.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class om{}class lm extends om{}function cm(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof om&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof hm)).length,n=e.filter((e=>e instanceof um)).length;if(t>1||t>0&&n>0)throw new pa(ma.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class um extends lm{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new um(e,t,n)}_apply(e){const t=this._parse(e);return bm(e._query,t),new yf(e.firestore,e.converter,Nl(e._query,t))}_parse(e){const t=Mf(e.firestore),n=function(e,t,n,r,i,s,a){let o;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new pa(ma.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){vm(a,s);const t=[];for(const n of a)t.push(ym(r,e,n));o={arrayValue:{values:t}}}else o=ym(r,e,a)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||vm(a,s),o=Kf(n,t,a,"in"===s||"not-in"===s);return Qo.create(i,s,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function dm(e,t,n){const r=t,i=sm("where",e);return um._create(i,r,n)}class hm extends om{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new hm(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:Yo.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)bm(n,i),n=Nl(n,i)}(e._query,t),new yf(e.firestore,e.converter,Nl(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class fm extends lm{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new fm(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new pa(ma.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new pa(ma.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ho(t,n)}(e._query,this._field,this._direction);return new yf(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new gl(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function mm(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=sm("orderBy",e);return fm._create(n,t)}class pm extends lm{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new pm(e,t,n)}_apply(e){return new yf(e.firestore,e.converter,El(e._query,this._limit,this._limitType))}}function gm(e){return mf("limit",e),pm._create("limit",e,"F")}function ym(e,t,n){if("string"==typeof(n=Ge(n))){if(""===n)throw new pa(ma.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wl(t)&&-1!==n.indexOf("/"))throw new pa(ma.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Pa.fromString(n));if(!Oa.isDocumentKey(r))throw new pa(ma.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ao(e,new Oa(r))}if(n instanceof vf)return Ao(e,n._key);throw new pa(ma.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hf(n)}.`)}function vm(e,t){if(!Array.isArray(e)||0===e.length)throw new pa(ma.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function bm(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new pa(ma.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new pa(ma.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class wm{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(_o(e)){case 0:return null;case 1:return e.booleanValue;case 2:return po(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(go(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw da()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return no(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t.value.arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((e=>po(e.doubleValue)));return new jf(i)}convertGeoPoint(e){return new If(po(e.latitude),po(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=vo(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(bo(e));default:return null}}convertTimestamp(e){const t=mo(e);return new Ia(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Pa.fromString(e);ha(Su(n));const r=new xo(n.get(1),n.get(3)),i=new Oa(n.popFirst(5));return r.isEqual(t)||la(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function xm(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class km{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _m extends rm{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Nm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(sm("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Nm extends _m{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Em{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new km(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Nm(this._firestore,this._userDataWriter,n.key,n,new km(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new pa(ma.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new Nm(e._firestore,e._userDataWriter,n.doc.key,n.doc,new km(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new Nm(e._firestore,e._userDataWriter,t.doc.key,t.doc,new km(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:Sm(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Sm(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return da()}}function Cm(e){e=ff(e,vf);const t=ff(e.firestore,_f);return sf(Nf(t),e._key).then((n=>Om(t,e,n)))}class Tm extends wm{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sf(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new vf(this.firestore,null,t)}}function Im(e){e=ff(e,yf);const t=ff(e.firestore,_f),n=Nf(t),r=new Tm(t);return am(e._query),af(n,e._query).then((n=>new Em(t,r,e,n)))}function jm(e,t,n){e=ff(e,vf);const r=ff(e.firestore,_f),i=xm(e.converter,t,n);return Dm(r,[Ff(Mf(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,uc.none())])}function Am(e,t,n){e=ff(e,vf);const r=ff(e.firestore,_f),i=Mf(r);let s;for(var a=arguments.length,o=new Array(a>3?a-3:0),l=3;l<a;l++)o[l-3]=arguments[l];return s="string"==typeof(t=Ge(t))||t instanceof Cf?Hf(i,"updateDoc",e._key,t,n,o):Wf(i,"updateDoc",e._key,t),Dm(r,[s.toMutation(e._key,uc.exists(!0))])}function Pm(e){return Dm(ff(e.firestore,_f),[new _c(e._key,uc.none())])}function Rm(e,t){const n=ff(e.firestore,_f),r=xf(e),i=xm(e.converter,t);return Dm(n,[Ff(Mf(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,uc.exists(!1))]).then((()=>r))}function Dm(e,t){return function(e,t){const n=new ga;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=Kh(e);try{const e=await function(e,t){const n=fa(e),r=Ia.now(),i=t.reduce(((e,t)=>e.add(t.key)),ql());let s,a;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let o=Ol(),l=ql();return n.cs.getEntries(e,i).next((e=>{o=e,o.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,o))).next((i=>{s=i;const a=[];for(const e of t){const t=gc(e,s.get(e.key).overlayedDocument);null!=t&&a.push(new bc(e.key,t,zo(t.value.mapValue),uc.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)})).next((t=>{a=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:a.batchId,changes:Fl(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Ba[e.currentUser.toKey()];r||(r=new io(Ca)),r=r.insert(t,n),e.Ba[e.currentUser.toKey()]=r}(r,e.batchId,n),await $h(r,e.changes),await qd(r.remoteStore)}catch(e){const t=ih(e,"Failed to persist write");n.reject(t)}}(await nf(e),t,n))),n.promise}(Nf(e),t)}function Om(e,t,n){const r=n.docs.get(t._key),i=new Tm(e);return new _m(e,i,t._key,r,new km(n.hasPendingWrites,n.fromCache),t.converter)}function Lm(){return new zf("serverTimestamp")}function Mm(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Bf("arrayUnion",t)}function Fm(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new $f("arrayRemove",t)}function Um(e){return new qf("increment",e)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){ia=e}(un),sn(new Qe("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),a=new _f(new wa(e.getProvider("auth-internal")),new Na(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new pa(ma.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xo(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a}),"PUBLIC").setMultipleInstances(!0)),fn(na,"4.7.3",e),fn(na,"4.7.3","esm2017")}();fn("firebase","10.14.1","app");const Vm="firebasestorage.googleapis.com",zm="storageBucket";class Bm extends Fe{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(Wm(e),`Firebase Storage: ${t} (${Wm(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Bm.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Wm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}var $m,qm;function Wm(e){return"storage/"+e}function Hm(){return new Bm($m.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Km(){return new Bm($m.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Gm(){return new Bm($m.CANCELED,"User canceled the upload/download.")}function Qm(){return new Bm($m.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Ym(e){return new Bm($m.INVALID_ARGUMENT,e)}function Xm(){return new Bm($m.APP_DELETED,"The Firebase app was deleted.")}function Jm(e,t){return new Bm($m.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function Zm(e){throw new Bm($m.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}($m||($m={}));class ep{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=ep.makeFromUrl(e,t)}catch(Ry){return new ep(e,"")}if(""===n.path)return n;throw r=e,new Bm($m.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function s(e){e.path_=decodeURIComponent(e.path)}const a=t.replace(/[.]/g,"\\."),o=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${a}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp(`^https?://${t===Vm?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:s}];for(let l=0;l<o.length;l++){const t=o[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new ep(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new Bm($m.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class tp{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function np(e){return"string"===typeof e||e instanceof String}function rp(e){return ip()&&e instanceof Blob}function ip(){return"undefined"!==typeof Blob}function sp(e,t,n,r){if(r<t)throw Ym(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw Ym(`Invalid value for '${e}'. Expected ${n} or less.`)}function ap(e,t,n){let r=t;return null==n&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function op(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function lp(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(qm||(qm={}));class cp{constructor(e,t,n,r,i,s,a,o,l,c,u){let d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=o,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new up(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===qm.NO_ERROR,i=n.getStatus();if(!t||lp(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===qm.ABORT;return void e(!1,new up(!1,null,t))}const s=-1!==this.successCodes_.indexOf(i);e(!0,new up(s,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(Ry){r(Ry)}else if(null!==i){const e=Hm();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?Xm():Gm())}else{r(Km())}};this.canceled_?t(0,new up(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,s=null,a=!1,o=0;function l(){return 2===o}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function d(t){i=setTimeout((()=>{i=null,e(f,l())}),t)}function h(){s&&clearTimeout(s)}function f(e){if(c)return void h();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void u.call(null,e,...n);if(l()||a)return h(),void u.call(null,e,...n);let s;r<64&&(r*=2),1===o?(o=2,s=0):s=1e3*(r+Math.random()),d(s)}let m=!1;function p(e){m||(m=!0,h(),c||(null!==i?(e||(o=2),clearTimeout(i),d(0)):e||(o=1)))}return d(0),s=setTimeout((()=>{a=!0,p(!0)}),n),p}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class up{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function dp(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function hp(){const e=dp();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(ip())return new Blob(n);throw new Bm($m.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function fp(e){if("undefined"===typeof atob)throw t="base-64",new Bm($m.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`);var t;return atob(e)}const mp="raw",pp="base64",gp="base64url",yp="data_url";class vp{constructor(e,t){this.data=e,this.contentType=t||null}}function bp(e,t){switch(e){case mp:return new vp(wp(t));case pp:case gp:return new vp(xp(e,t));case yp:return new vp(function(e){const t=new kp(e);return t.base64?xp(pp,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(Ry){throw Jm(yp,"Malformed data URL.")}return wp(t)}(t.rest)}(t),new kp(t).contentType)}throw Hm()}function wp(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function xp(e,t){switch(e){case pp:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw Jm(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case gp:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw Jm(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=fp(t)}catch(Ry){if(Ry.message.includes("polyfill"))throw Ry;throw Jm(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class kp{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Jm(yp,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){const n=e.length>=t.length;if(!n)return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class _p{constructor(e,t){let n=0,r="";rp(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(rp(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new _p(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new _p(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(ip()){const e=t.map((e=>e instanceof _p?e.data_:e));return new _p(hp.apply(null,e))}{const e=t.map((e=>np(e)?bp(mp,e).data:e.data_));let n=0;e.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let i=0;return e.forEach((e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]})),new _p(r,!0)}}uploadData(){return this.data_}}function Np(e){let t;try{t=JSON.parse(e)}catch(Ry){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function Ep(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Sp(e,t){return t}class Cp{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||Sp}}let Tp=null;function Ip(){if(Tp)return Tp;const e=[];e.push(new Cp("bucket")),e.push(new Cp("generation")),e.push(new Cp("metageneration")),e.push(new Cp("name","fullPath",!0));const t=new Cp("name");t.xform=function(e,t){return function(e){return!np(e)||e.length<2?e:Ep(e)}(t)},e.push(t);const n=new Cp("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new Cp("timeCreated")),e.push(new Cp("updated")),e.push(new Cp("md5Hash",null,!0)),e.push(new Cp("cacheControl",null,!0)),e.push(new Cp("contentDisposition",null,!0)),e.push(new Cp("contentEncoding",null,!0)),e.push(new Cp("contentLanguage",null,!0)),e.push(new Cp("contentType",null,!0)),e.push(new Cp("metadata","customMetadata",!0)),Tp=e,Tp}function jp(e,t,n){const r={type:"file"},i=n.length;for(let s=0;s<i;s++){const e=n[s];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new ep(n,r);return t._makeStorageReference(i)}})}(r,e),r}function Ap(e,t,n){const r=Np(t);if(null===r)return null;return jp(e,r,n)}function Pp(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}class Rp{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Dp(e){if(!e)throw Hm()}function Op(e,t){return function(n,r){const i=Ap(e,r,t);return Dp(null!==i),i}}function Lp(e,t){return function(n,r){const i=Ap(e,r,t);return Dp(null!==i),function(e,t,n,r){const i=Np(t);if(null===i)return null;if(!np(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const a=encodeURIComponent;return s.split(",").map((t=>{const i=e.bucket,s=e.fullPath;return ap("/b/"+a(i)+"/o/"+a(s),n,r)+op({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function Mp(e){return function(t,n){let r;var i,s;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new Bm($m.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new Bm($m.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(s=e.bucket,r=new Bm($m.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new Bm($m.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function Fp(e){const t=Mp(e);return function(n,r){let i=t(n,r);var s;return 404===n.getStatus()&&(s=e.path,i=new Bm($m.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function Up(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function Vp(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};const o=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+o;const l=Up(t,r,i),c="--"+o+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Pp(l,n)+"\r\n--"+o+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",u="\r\n--"+o+"--",d=_p.getBlob(c,r,u);if(null===d)throw Qm();const h={name:l.fullPath},f=ap(s,e.host,e._protocol),m=e.maxUploadRetryTime,p=new Rp(f,"POST",Op(e,n),m);return p.urlParams=h,p.headers=a,p.body=d.uploadData(),p.errorHandler=Mp(t),p}class zp{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=qm.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=qm.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=qm.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r){if(this.sent_)throw Zm("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Zm("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Zm("cannot .getStatus() before sending");try{return this.xhr_.status}catch(Ry){return-1}}getResponse(){if(!this.sent_)throw Zm("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Zm("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class Bp extends zp{initXhr(){this.xhr_.responseType="text"}}function $p(){return new Bp}class qp{constructor(e,t){this._service=e,this._location=t instanceof ep?t:ep.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new qp(e,t)}get root(){const e=new ep(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Ep(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new ep(this._location.bucket,e);return new qp(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new Bm($m.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function Wp(e,t,n){e._throwIfRoot("uploadBytes");const r=Vp(e.storage,e._location,Ip(),new _p(t,!0),n);return e.storage.makeRequestWithTokens(r,$p).then((t=>({metadata:t,ref:e})))}function Hp(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=ap(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,s=new Rp(r,"GET",Lp(e,n),i);return s.errorHandler=Fp(t),s}(e.storage,e._location,Ip());return e.storage.makeRequestWithTokens(t,$p).then((e=>{if(null===e)throw new Bm($m.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function Kp(e){e._throwIfRoot("deleteObject");const t=function(e,t){const n=ap(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new Rp(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=Fp(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,$p)}function Gp(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new ep(e._location.bucket,n);return new qp(e.storage,r)}function Qp(e,t){if(e instanceof Jp){const n=e;if(null==n._bucket)throw new Bm($m.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+zm+"' property when initializing the app?");const r=new qp(n,n._bucket);return null!=t?Qp(r,t):r}return void 0!==t?Gp(e,t):e}function Yp(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof Jp)return new qp(e,t);throw Ym("To use ref(service, url), the first argument must be a Storage instance.")}return Qp(e,t)}function Xp(e,t){const n=null===t||void 0===t?void 0:t[zm];return null==n?null:ep.makeFromBucketSpec(n,e)}class Jp{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=Vm,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?ep.makeFromBucketSpec(r,this._host):Xp(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=ep.makeFromBucketSpec(this._url,e):this._bucket=Xp(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){sp("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){sp("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new qp(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new tp(Xm());{const s=function(e,t,n,r,i,s){let a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const o=op(e.urlParams),l=e.url+o,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,s),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new cp(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,a)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(s),s.getPromise().then((()=>this._requests.delete(s)),(()=>this._requests.delete(s))),s}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const Zp="@firebase/storage",eg="0.13.2",tg="storage";function ng(e,t,n){return Wp(e=Ge(e),t,n)}function rg(e){return Hp(e=Ge(e))}function ig(e){return Kp(e=Ge(e))}function sg(e,t){return Yp(e=Ge(e),t)}function ag(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new Jp(r,i,s,n,un)}sn(new Qe(tg,ag,"PUBLIC").setMultipleInstances(!0)),fn(Zp,eg,""),fn(Zp,eg,"esm2017");const og=dn({apiKey:"AIzaSyDcMMaGMCOixe2Cem2LIH05LeRk7bz1I6w",authDomain:"prnclub-vn.firebaseapp.com",databaseURL:"https://prnclub-vn-default-rtdb.firebaseio.com",projectId:"prnclub-vn",storageBucket:"prnclub-vn.firebasestorage.app",messagingSenderId:"183716957909",appId:"1:183716957909:web:2c84ce11972ea7aefa9c5c",measurementId:"G-YKEXQH3FGC"}),lg=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn();const t=an(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=an(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(ze(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;jn(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Os,persistence:[Ki,ji,Pi]}),r=Pe("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Us)return;const r=null===t||void 0===t?void 0:t.token;Vs!==r&&(Vs=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){Ge(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,r){Ge(e).onIdTokenChanged(t,n,r)}(n,(e=>t(e)))}}var i;const s=Ie("auth");return s&&Hr(n,`http://${s}`),n}(og),cg=function(e,t){const n="string"==typeof e?e:t||"(default)",r=an("object"==typeof e?e:hn(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=je("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=ff(e,gf))._getSettings(),a=`${t}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==a&&ca("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=ra.MOCK_USER;else{t=De(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new pa(ma.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new ra(s)}e._authCredentials=new ba(new ya(t,n))}}(r,...e)}return r}(og),ug=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn(),t=arguments.length>1?arguments[1]:void 0;e=Ge(e);const n=an(e,tg).getImmediate({identifier:t}),r=je("storage");return r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:De(i,e.app.options.projectId))}(e,t,n,r)}(n,...r),n}(og);var dg=n(579);const hg=(0,i.createContext)();function fg(){return(0,i.useContext)(hg)}function mg(e){let{children:t}=e;const[n,r]=(0,i.useState)(null),[s,a]=(0,i.useState)(null),[o,l]=(0,i.useState)(!0);(0,i.useEffect)((()=>{const e=function(e,t,n,r){return Ge(e).onAuthStateChanged(t,n,r)}(lg,(async e=>{if(e)try{const t=await Cm(xf(cg,"admins",e.uid));if(t.exists()){const e=t.data();if("inactive"===e.status)return await Si(lg),r(null),a(null),void l(!1);a(e.role)}else{const t=await Cm(xf(cg,"users",e.uid));if(t.exists()){if("inactive"===t.data().status)return await Si(lg),r(null),a(null),void l(!1)}a("user")}r(e)}catch(t){console.error("Error checking user status:",t),r(null),a(null)}else r(null),a(null);l(!1)}));return e}),[]);const c={currentUser:n,userRole:s,register:async function(e,t,n){try{const r=await async function(e,t,n){if(on(e.app))return Promise.reject(Rn(e));const r=Fr(e),i=Wr(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",fi),s=await i.catch((t=>{throw"auth/password-does-not-meet-requirements"===t.code&&_i(e),t})),a=await mi._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}(lg,e,t);return await Ei(r.user,{displayName:n}),await jm(xf(cg,"users",r.user.uid),{uid:r.user.uid,email:e,displayName:n,role:"user",status:"active",createdAt:new Date,featured:[]}),r.user}catch(r){throw r}},login:async function(e,t){try{const n=await Ni(lg,e,t),r=await Cm(xf(cg,"users",n.user.uid));if(r.exists()){if("inactive"===r.data().status)throw await Si(lg),new Error("Account is inactive. Please contact support.");return n.user}return await jm(xf(cg,"users",n.user.uid),{uid:n.user.uid,email:n.user.email,displayName:n.user.displayName||e.split("@")[0],role:"user",status:"active",createdAt:new Date,featured:[]}),n.user}catch(n){throw n}},adminLogin:async function(e,t){try{const n=await Ni(lg,e,t),r=await Cm(xf(cg,"admins",n.user.uid));if(r.exists()){const e=r.data();if("inactive"===e.status)throw await Si(lg),new Error("Account is inactive. Please contact support.");if("admin"===e.role||"ad_admin"===e.role)return{user:n.user,role:e.role};throw await Si(lg),new Error("This user does not have admin permissions.")}throw await Si(lg),new Error("This user does not have admin permissions.")}catch(n){throw n}},logout:function(){return Si(lg)},resetPassword:function(e){return async function(e,t,n){const r=Fr(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&ki(r,i,n),await Wr(r,i,"getOobCode",Zr)}(lg,e)},loading:o};return(0,dg.jsx)(hg.Provider,{value:c,children:!o&&t})}const pg=(0,i.createContext)();function gg(){return(0,i.useContext)(pg)}function yg(e){let{children:t}=e;const[n,r]=(0,i.useState)(!1);(0,i.useEffect)((()=>{const e=localStorage.getItem("darkMode");null!==e&&r("true"===e)}),[]),(0,i.useEffect)((()=>{n?(document.documentElement.classList.add("dark"),document.body.classList.add("bg-dark-900"),document.body.classList.remove("bg-gray-100"),localStorage.setItem("darkMode","true")):(document.documentElement.classList.remove("dark"),document.body.classList.remove("bg-dark-900"),document.body.classList.add("bg-gray-100"),localStorage.setItem("darkMode","false"))}),[n]);const s={darkMode:n,toggleDarkMode:()=>{r((e=>!e))}};return(0,dg.jsx)(pg.Provider,{value:s,children:t})}var vg=n(950),bg=n.t(vg,2);function wg(){return wg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wg.apply(this,arguments)}function xg(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const kg=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],_g=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"];try{window.__reactRouterVersion="6"}catch(Ry){}const Ng=i.createContext({isTransitioning:!1});new Map;const Eg=s.startTransition;bg.flushSync,s.useId;function Sg(e){let{basename:t,children:n,future:r,window:s}=e,a=i.useRef();var o;null==a.current&&(a.current=(void 0===(o={window:s,v5Compat:!0})&&(o={}),p((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return h("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:f(t)}),null,o)));let l=a.current,[c,u]=i.useState({action:l.action,location:l.location}),{v7_startTransition:d}=r||{},m=i.useCallback((e=>{d&&Eg?Eg((()=>u(e))):u(e)}),[u,d]);return i.useLayoutEffect((()=>l.listen(m)),[l,m]),i.useEffect((()=>pe(r)),[r]),i.createElement(be,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}const Cg="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Tg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ig=i.forwardRef((function(e,t){let n,{onClick:r,relative:s,reloadDocument:a,replace:o,state:l,target:u,to:d,preventScrollReset:h,viewTransition:m}=e,p=xg(e,kg),{basename:g}=i.useContext(K),y=!1;if("string"===typeof d&&Tg.test(d)&&(n=d,Cg))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),n=P(t.pathname,g);t.origin===e.origin&&null!=n?d=n+t.search+t.hash:y=!0}catch(Ry){}let v=function(e,t){let{relative:n}=void 0===t?{}:t;X()||c(!1);let{basename:r,navigator:s}=i.useContext(K),{hash:a,pathname:o,search:l}=ne(e,{relative:n}),u=o;return"/"!==r&&(u="/"===o?r:M([r,o])),s.createHref({pathname:u,search:l,hash:a})}(d,{relative:s}),b=function(e,t){let{target:n,replace:r,state:s,preventScrollReset:a,relative:o,viewTransition:l}=void 0===t?{}:t,c=ee(),u=J(),d=ne(e,{relative:o});return i.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:f(u)===f(d);c(e,{replace:n,state:s,preventScrollReset:a,relative:o,viewTransition:l})}}),[u,c,d,r,s,n,e,a,o,l])}(d,{replace:o,state:l,target:u,preventScrollReset:h,relative:s,viewTransition:m});return i.createElement("a",wg({},p,{href:n||v,onClick:y||a?r:function(e){r&&r(e),e.defaultPrevented||b(e)},ref:t,target:u}))}));const jg=i.forwardRef((function(e,t){let{"aria-current":n="page",caseSensitive:r=!1,className:s="",end:a=!1,style:o,to:l,viewTransition:u,children:d}=e,h=xg(e,_g),f=ne(l,{relative:h.relative}),m=J(),p=i.useContext(H),{navigator:g,basename:y}=i.useContext(K),v=null!=p&&function(e,t){void 0===t&&(t={});let n=i.useContext(Ng);null==n&&c(!1);let{basename:r}=Rg(Ag.useViewTransitionState),s=ne(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=P(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=P(n.nextLocation.pathname,r)||n.nextLocation.pathname;return null!=j(s.pathname,o)||null!=j(s.pathname,a)}(f)&&!0===u,b=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,w=m.pathname,x=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;r||(w=w.toLowerCase(),x=x?x.toLowerCase():null,b=b.toLowerCase()),x&&y&&(x=P(x,y)||x);const k="/"!==b&&b.endsWith("/")?b.length-1:b.length;let _,N=w===b||!a&&w.startsWith(b)&&"/"===w.charAt(k),E=null!=x&&(x===b||!a&&x.startsWith(b)&&"/"===x.charAt(b.length)),S={isActive:N,isPending:E,isTransitioning:v},C=N?n:void 0;_="function"===typeof s?s(S):[s,N?"active":null,E?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let T="function"===typeof o?o(S):o;return i.createElement(Ig,wg({},h,{"aria-current":C,className:_,ref:t,style:T,to:l,viewTransition:u}),"function"===typeof d?d(S):d)}));var Ag,Pg;function Rg(e){let t=i.useContext(W);return t||c(!1),t}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ag||(Ag={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Pg||(Pg={}));Math.pow(10,8);const Dg=6048e5,Og=43200,Lg=Symbol.for("constructDateFrom");function Mg(e,t){return"function"===typeof e?e(t):e&&"object"===typeof e&&Lg in e?e[Lg](t):e instanceof Date?new e.constructor(t):new Date(t)}function Fg(e){return Mg(e,Date.now())}const Ug={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function Vg(e){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const zg={date:Vg({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:Vg({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:Vg({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},Bg={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function $g(e){return(t,n)=>{let r;if("formatting"===(n?.context?String(n.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,i=n?.width?String(n.width):t;r=e.formattingValues[i]||e.formattingValues[t]}else{const t=e.defaultWidth,i=n?.width?String(n.width):e.defaultWidth;r=e.values[i]||e.values[t]}return r[e.argumentCallback?e.argumentCallback(t):t]}}function qg(e){return function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],s=t.match(i);if(!s)return null;const a=s[0],o=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(o)?function(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n;return}(o,(e=>e.test(a))):function(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n;return}(o,(e=>e.test(a)));let c;c=e.valueCallback?e.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;return{value:c,rest:t.slice(a.length)}}}function Wg(e){return function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],s=t.match(e.parsePattern);if(!s)return null;let a=e.valueCallback?e.valueCallback(s[0]):s[0];a=n.valueCallback?n.valueCallback(a):a;return{value:a,rest:t.slice(i.length)}}}const Hg={code:"en-US",formatDistance:(e,t,n)=>{let r;const i=Ug[e];return r="string"===typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r},formatLong:zg,formatRelative:(e,t,n,r)=>Bg[e],localize:{ordinalNumber:(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:$g({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:$g({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:$g({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:$g({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:$g({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:Wg({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)}),era:qg({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:qg({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:qg({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:qg({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:qg({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};let Kg={};function Gg(){return Kg}function Qg(e,t){return Mg(t||e,e)}function Yg(e){const t=Qg(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Xg(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=Mg.bind(null,e||n.find((e=>"object"===typeof e)));return n.map(i)}function Jg(e,t){const n=+Qg(e)-+Qg(t);return n<0?-1:n>0?1:n}function Zg(e,t,n){const[r,i]=Xg(n?.in,e,t);return 12*(r.getFullYear()-i.getFullYear())+(r.getMonth()-i.getMonth())}function ey(e,t){const n=Qg(e,t?.in);return n.setHours(23,59,59,999),n}function ty(e,t){const n=Qg(e,t?.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function ny(e,t){const n=Qg(e,t?.in);return+ey(n,t)===+ty(n,t)}function ry(e,t,n){const[r,i,s]=Xg(n?.in,e,e,t),a=Jg(i,s),o=Math.abs(Zg(i,s));if(o<1)return 0;1===i.getMonth()&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-a*o);let l=Jg(i,s)===-a;ny(r)&&1===o&&1===Jg(r,s)&&(l=!1);const c=a*(o-+l);return 0===c?0:c}function iy(e,t){return+Qg(e)-+Qg(t)}function sy(e,t,n){const r=iy(e,t)/1e3;return(i=n?.roundingMethod,e=>{const t=(i?Math[i]:Math.trunc)(e);return 0===t?0:t})(r);var i}function ay(e,t,n){const r=Gg(),i=n?.locale??r.locale??Hg,s=Jg(e,t);if(isNaN(s))throw new RangeError("Invalid time value");const a=Object.assign({},n,{addSuffix:n?.addSuffix,comparison:s}),[o,l]=Xg(n?.in,...s>0?[t,e]:[e,t]),c=sy(l,o),u=(Yg(l)-Yg(o))/1e3,d=Math.round((c-u)/60);let h;if(d<2)return n?.includeSeconds?c<5?i.formatDistance("lessThanXSeconds",5,a):c<10?i.formatDistance("lessThanXSeconds",10,a):c<20?i.formatDistance("lessThanXSeconds",20,a):c<40?i.formatDistance("halfAMinute",0,a):c<60?i.formatDistance("lessThanXMinutes",1,a):i.formatDistance("xMinutes",1,a):0===d?i.formatDistance("lessThanXMinutes",1,a):i.formatDistance("xMinutes",d,a);if(d<45)return i.formatDistance("xMinutes",d,a);if(d<90)return i.formatDistance("aboutXHours",1,a);if(d<1440){const e=Math.round(d/60);return i.formatDistance("aboutXHours",e,a)}if(d<2520)return i.formatDistance("xDays",1,a);if(d<Og){const e=Math.round(d/1440);return i.formatDistance("xDays",e,a)}if(d<86400)return h=Math.round(d/Og),i.formatDistance("aboutXMonths",h,a);if(h=ry(l,o),h<12){const e=Math.round(d/Og);return i.formatDistance("xMonths",e,a)}{const e=h%12,t=Math.trunc(h/12);return e<3?i.formatDistance("aboutXYears",t,a):e<9?i.formatDistance("overXYears",t,a):i.formatDistance("almostXYears",t+1,a)}}function oy(e,t){return ay(e,Fg(e),t)}const ly={lessThanXSeconds:{one:"bir saniyeden az",other:"{{count}} saniyeden az"},xSeconds:{one:"1 saniye",other:"{{count}} saniye"},halfAMinute:"yar\u0131m dakika",lessThanXMinutes:{one:"bir dakikadan az",other:"{{count}} dakikadan az"},xMinutes:{one:"1 dakika",other:"{{count}} dakika"},aboutXHours:{one:"yakla\u015f\u0131k 1 saat",other:"yakla\u015f\u0131k {{count}} saat"},xHours:{one:"1 saat",other:"{{count}} saat"},xDays:{one:"1 g\xfcn",other:"{{count}} g\xfcn"},aboutXWeeks:{one:"yakla\u015f\u0131k 1 hafta",other:"yakla\u015f\u0131k {{count}} hafta"},xWeeks:{one:"1 hafta",other:"{{count}} hafta"},aboutXMonths:{one:"yakla\u015f\u0131k 1 ay",other:"yakla\u015f\u0131k {{count}} ay"},xMonths:{one:"1 ay",other:"{{count}} ay"},aboutXYears:{one:"yakla\u015f\u0131k 1 y\u0131l",other:"yakla\u015f\u0131k {{count}} y\u0131l"},xYears:{one:"1 y\u0131l",other:"{{count}} y\u0131l"},overXYears:{one:"1 y\u0131ldan fazla",other:"{{count}} y\u0131ldan fazla"},almostXYears:{one:"neredeyse 1 y\u0131l",other:"neredeyse {{count}} y\u0131l"}},cy={date:Vg({formats:{full:"d MMMM y EEEE",long:"d MMMM y",medium:"d MMM y",short:"dd.MM.yyyy"},defaultWidth:"full"}),time:Vg({formats:{full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:Vg({formats:{full:"{{date}} 'saat' {{time}}",long:"{{date}} 'saat' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},uy={lastWeek:"'ge\xe7en hafta' eeee 'saat' p",yesterday:"'d\xfcn saat' p",today:"'bug\xfcn saat' p",tomorrow:"'yar\u0131n saat' p",nextWeek:"eeee 'saat' p",other:"P"},dy={code:"tr",formatDistance:(e,t,n)=>{let r;const i=ly[e];return r="string"===typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?r+" sonra":r+" \xf6nce":r},formatLong:cy,formatRelative:(e,t,n,r)=>uy[e],localize:{ordinalNumber:(e,t)=>Number(e)+".",era:$g({values:{narrow:["M\xd6","MS"],abbreviated:["M\xd6","MS"],wide:["Milattan \xd6nce","Milattan Sonra"]},defaultWidth:"wide"}),quarter:$g({values:{narrow:["1","2","3","4"],abbreviated:["1\xc7","2\xc7","3\xc7","4\xc7"],wide:["\u0130lk \xe7eyrek","\u0130kinci \xc7eyrek","\xdc\xe7\xfcnc\xfc \xe7eyrek","Son \xe7eyrek"]},defaultWidth:"wide",argumentCallback:e=>Number(e)-1}),month:$g({values:{narrow:["O","\u015e","M","N","M","H","T","A","E","E","K","A"],abbreviated:["Oca","\u015eub","Mar","Nis","May","Haz","Tem","A\u011fu","Eyl","Eki","Kas","Ara"],wide:["Ocak","\u015eubat","Mart","Nisan","May\u0131s","Haziran","Temmuz","A\u011fustos","Eyl\xfcl","Ekim","Kas\u0131m","Aral\u0131k"]},defaultWidth:"wide"}),day:$g({values:{narrow:["P","P","S","\xc7","P","C","C"],short:["Pz","Pt","Sa","\xc7a","Pe","Cu","Ct"],abbreviated:["Paz","Pzt","Sal","\xc7ar","Per","Cum","Cts"],wide:["Pazar","Pazartesi","Sal\u0131","\xc7ar\u015famba","Per\u015fembe","Cuma","Cumartesi"]},defaultWidth:"wide"}),dayPeriod:$g({values:{narrow:{am:"\xf6\xf6",pm:"\xf6s",midnight:"gy",noon:"\xf6",morning:"sa",afternoon:"\xf6s",evening:"ak",night:"ge"},abbreviated:{am:"\xd6\xd6",pm:"\xd6S",midnight:"gece yar\u0131s\u0131",noon:"\xf6\u011fle",morning:"sabah",afternoon:"\xf6\u011fleden sonra",evening:"ak\u015fam",night:"gece"},wide:{am:"\xd6.\xd6.",pm:"\xd6.S.",midnight:"gece yar\u0131s\u0131",noon:"\xf6\u011fle",morning:"sabah",afternoon:"\xf6\u011fleden sonra",evening:"ak\u015fam",night:"gece"}},defaultWidth:"wide",formattingValues:{narrow:{am:"\xf6\xf6",pm:"\xf6s",midnight:"gy",noon:"\xf6",morning:"sa",afternoon:"\xf6s",evening:"ak",night:"ge"},abbreviated:{am:"\xd6\xd6",pm:"\xd6S",midnight:"gece yar\u0131s\u0131",noon:"\xf6\u011flen",morning:"sabahleyin",afternoon:"\xf6\u011fleden sonra",evening:"ak\u015famleyin",night:"geceleyin"},wide:{am:"\xf6.\xf6.",pm:"\xf6.s.",midnight:"gece yar\u0131s\u0131",noon:"\xf6\u011flen",morning:"sabahleyin",afternoon:"\xf6\u011fleden sonra",evening:"ak\u015famleyin",night:"geceleyin"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:Wg({matchPattern:/^(\d+)(\.)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:qg({matchPatterns:{narrow:/^(m\xf6|ms)/i,abbreviated:/^(m\xf6|ms)/i,wide:/^(milattan \xf6nce|milattan sonra)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/(^m\xf6|^milattan \xf6nce)/i,/(^ms|^milattan sonra)/i]},defaultParseWidth:"any"}),quarter:qg({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^[1234]\xe7/i,wide:/^((i|\u0130)lk|(i|\u0130)kinci|\xfc\xe7\xfcnc\xfc|son) \xe7eyrek/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i],abbreviated:[/1\xe7/i,/2\xe7/i,/3\xe7/i,/4\xe7/i],wide:[/^(i|\u0130)lk \xe7eyrek/i,/(i|\u0130)kinci \xe7eyrek/i,/\xfc\xe7\xfcnc\xfc \xe7eyrek/i,/son \xe7eyrek/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:qg({matchPatterns:{narrow:/^[o\u015fmnhtaek]/i,abbreviated:/^(oca|\u015fub|mar|nis|may|haz|tem|a\u011fu|eyl|eki|kas|ara)/i,wide:/^(ocak|\u015fubat|mart|nisan|may\u0131s|haziran|temmuz|a\u011fustos|eyl\xfcl|ekim|kas\u0131m|aral\u0131k)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^o/i,/^\u015f/i,/^m/i,/^n/i,/^m/i,/^h/i,/^t/i,/^a/i,/^e/i,/^e/i,/^k/i,/^a/i],any:[/^o/i,/^\u015f/i,/^mar/i,/^n/i,/^may/i,/^h/i,/^t/i,/^a\u011f/i,/^ey/i,/^ek/i,/^k/i,/^ar/i]},defaultParseWidth:"any"}),day:qg({matchPatterns:{narrow:/^[ps\xe7c]/i,short:/^(pz|pt|sa|\xe7a|pe|cu|ct)/i,abbreviated:/^(paz|pzt|sal|\xe7ar|per|cum|cts)/i,wide:/^(pazar(?!tesi)|pazartesi|sal\u0131|\xe7ar\u015famba|per\u015fembe|cuma(?!rtesi)|cumartesi)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^p/i,/^p/i,/^s/i,/^\xe7/i,/^p/i,/^c/i,/^c/i],any:[/^pz/i,/^pt/i,/^sa/i,/^\xe7a/i,/^pe/i,/^cu/i,/^ct/i],wide:[/^pazar(?!tesi)/i,/^pazartesi/i,/^sal\u0131/i,/^\xe7ar\u015famba/i,/^per\u015fembe/i,/^cuma(?!rtesi)/i,/^cumartesi/i]},defaultParseWidth:"any"}),dayPeriod:qg({matchPatterns:{narrow:/^(\xf6\xf6|\xf6s|gy|\xf6|sa|\xf6s|ak|ge)/i,any:/^(\xf6\.?\s?[\xf6s]\.?|\xf6\u011fleden sonra|gece yar\u0131s\u0131|\xf6\u011fle|(sabah|\xf6\u011f|ak\u015fam|gece)(leyin))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^\xf6\.?\xf6\.?/i,pm:/^\xf6\.?s\.?/i,midnight:/^(gy|gece yar\u0131s\u0131)/i,noon:/^\xf6\u011f/i,morning:/^sa/i,afternoon:/^\xf6\u011fleden sonra/i,evening:/^ak/i,night:/^ge/i}},defaultParseWidth:"any"})},options:{weekStartsOn:1,firstWeekContainsDate:1}};function hy(e,t){let{title:n,titleId:r,...s}=e;return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},s),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const fy=i.forwardRef(hy);function my(e,t){let{title:n,titleId:r,...s}=e;return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},s),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const py=i.forwardRef(my),gy=e=>{let{video:t}=e;return(0,dg.jsx)("div",{className:"card group hover:shadow-lg transition-all duration-300",children:(0,dg.jsxs)(Ig,{to:`/video/${t.id}`,className:"block relative",children:[(0,dg.jsxs)("div",{className:"relative aspect-video overflow-hidden rounded-t-lg",children:[(0,dg.jsx)("img",{src:t.thumbnailUrl,alt:t.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",loading:"lazy"}),(0,dg.jsx)("div",{className:"absolute bottom-2 right-2 bg-black bg-opacity-70 text-white text-xs px-2 py-1 rounded",children:(0,dg.jsxs)("span",{className:"flex items-center",children:[(0,dg.jsx)(fy,{className:"w-3 h-3 mr-1"}),(e=>{const t=e%60;return`${Math.floor(e/60)}:${t<10?"0":""}${t}`})(t.duration)]})})]}),(0,dg.jsxs)("div",{className:"p-3",children:[(0,dg.jsx)("h3",{className:"text-white font-medium line-clamp-2 group-hover:text-primary-400 transition-colors",children:t.title}),(0,dg.jsxs)("div",{className:"mt-2 flex justify-between items-center text-sm text-gray-400",children:[(0,dg.jsx)("span",{children:t.uploader}),(0,dg.jsxs)("div",{className:"flex items-center",children:[(0,dg.jsx)(py,{className:"w-4 h-4 mr-1"}),(0,dg.jsx)("span",{children:(e=>e>=1e6?`${(e/1e6).toFixed(1)}M`:e>=1e3?`${(e/1e3).toFixed(1)}K`:e.toString())(t.viewCount)})]})]}),(0,dg.jsx)("div",{className:"mt-1 text-xs text-gray-500",children:(e=>{if(!e)return"";return oy(e.toDate?e.toDate():new Date(e),{addSuffix:!0,locale:dy})})(t.createdAt)})]})]})})};var yy=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(yy||{}),vy=Object.defineProperty,by=(e,t,n)=>(((e,t,n)=>{t in e?vy(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);let wy=new class{constructor(){by(this,"current",this.detect()),by(this,"handoffState","pending"),by(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return"server"===this.current}get isClient(){return"client"===this.current}detect(){return"undefined"==typeof window||"undefined"==typeof document?"server":"client"}handoff(){"pending"===this.handoffState&&(this.handoffState="complete")}get isHandoffComplete(){return"complete"===this.handoffState}},xy=(e,t)=>{wy.isServer?(0,i.useEffect)(e,t):(0,i.useLayoutEffect)(e,t)};function ky(e){let t=(0,i.useRef)(e);return xy((()=>{t.current=e}),[e]),t}let _y=function(e){let t=ky(e);return i.useCallback((function(){return t.current(...arguments)}),[t])};function Ny(){let e=function(){let e="undefined"==typeof document;return(e=>e.useSyncExternalStore)(s)((()=>()=>{}),(()=>!1),(()=>!e))}(),[t,n]=i.useState(wy.isHandoffComplete);return t&&!1===wy.isHandoffComplete&&n(!1),i.useEffect((()=>{!0!==t&&n(!0)}),[t]),i.useEffect((()=>wy.handoff()),[]),!e&&t}var Ey;let Sy=null!=(Ey=i.useId)?Ey:function(){let e=Ny(),[t,n]=i.useState(e?()=>wy.nextId():null);return xy((()=>{null===t&&n(wy.nextId())}),[t]),null!=t?""+t:void 0};function Cy(e){var t;if(e.type)return e.type;let n=null!=(t=e.as)?t:"button";return"string"==typeof n&&"button"===n.toLowerCase()?"button":void 0}function Ty(e,t){let[n,r]=(0,i.useState)((()=>Cy(e)));return xy((()=>{r(Cy(e))}),[e.type,e.as]),xy((()=>{n||t.current&&t.current instanceof HTMLButtonElement&&!t.current.hasAttribute("type")&&r("button")}),[n,t]),n}let Iy=Symbol();function jy(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let r=(0,i.useRef)(t);(0,i.useEffect)((()=>{r.current=t}),[t]);let s=_y((e=>{for(let t of r.current)null!=t&&("function"==typeof t?t(e):t.current=e)}));return t.every((e=>null==e||(null==e?void 0:e[Iy])))?void 0:s}function Ay(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Array.from(new Set(t.flatMap((e=>"string"==typeof e?e.split(" "):[])))).filter(Boolean).join(" ")}function Py(e,t){if(e in t){let s=t[e];for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return"function"==typeof s?s(...r):s}let s=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map((e=>`"${e}"`)).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,Py),s}var Ry,Dy,Oy=((Dy=Oy||{})[Dy.None=0]="None",Dy[Dy.RenderStrategy=1]="RenderStrategy",Dy[Dy.Static=2]="Static",Dy),Ly=((Ry=Ly||{})[Ry.Unmount=0]="Unmount",Ry[Ry.Hidden=1]="Hidden",Ry);function My(e){let{ourProps:t,theirProps:n,slot:r,defaultTag:i,features:s,visible:a=!0,name:o,mergeRefs:l}=e;l=null!=l?l:Uy;let c=Vy(n,t);if(a)return Fy(c,r,i,o,l);let u=null!=s?s:0;if(2&u){let{static:e=!1,...t}=c;if(e)return Fy(t,r,i,o,l)}if(1&u){let{unmount:e=!0,...t}=c;return Py(e?0:1,{0:()=>null,1:()=>Fy({...t,hidden:!0,style:{display:"none"}},r,i,o,l)})}return Fy(c,r,i,o,l)}function Fy(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,{as:a=n,children:o,refName:l="ref",...c}=$y(e,["unmount","static"]),u=void 0!==e.ref?{[l]:e.ref}:{},d="function"==typeof o?o(t):o;"className"in c&&c.className&&"function"==typeof c.className&&(c.className=c.className(t));let h={};if(t){let e=!1,n=[];for(let[r,i]of Object.entries(t))"boolean"==typeof i&&(e=!0),!0===i&&n.push(r);e&&(h["data-headlessui-state"]=n.join(" "))}if(a===i.Fragment&&Object.keys(By(c)).length>0){if(!(0,i.isValidElement)(d)||Array.isArray(d)&&d.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(c).map((e=>`  - ${e}`)).join("\n"),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map((e=>`  - ${e}`)).join("\n")].join("\n"));let e=d.props,t="function"==typeof(null==e?void 0:e.className)?function(){return Ay(null==e?void 0:e.className(...arguments),c.className)}:Ay(null==e?void 0:e.className,c.className),n=t?{className:t}:{};return(0,i.cloneElement)(d,Object.assign({},Vy(d.props,By($y(c,["ref"]))),h,u,{ref:s(d.ref,u.ref)},n))}return(0,i.createElement)(a,Object.assign({},$y(c,["ref"]),a!==i.Fragment&&u,a!==i.Fragment&&h),d)}function Uy(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.every((e=>null==e))?void 0:e=>{for(let n of t)null!=n&&("function"==typeof n?n(e):n.current=e)}}function Vy(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)return{};if(1===t.length)return t[0];let r={},i={};for(let s of t)for(let e in s)e.startsWith("on")&&"function"==typeof s[e]?(null!=i[e]||(i[e]=[]),i[e].push(s[e])):r[e]=s[e];if(r.disabled||r["aria-disabled"])return Object.assign(r,Object.fromEntries(Object.keys(i).map((e=>[e,void 0]))));for(let s in i)Object.assign(r,{[s](e){let t=i[s];for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];for(let i of t){if((e instanceof Event||(null==e?void 0:e.nativeEvent)instanceof Event)&&e.defaultPrevented)return;i(e,...r)}}});return r}function zy(e){var t;return Object.assign((0,i.forwardRef)(e),{displayName:null!=(t=e.displayName)?t:e.name})}function By(e){let t=Object.assign({},e);for(let n in t)void 0===t[n]&&delete t[n];return t}function $y(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}var qy=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(qy||{});let Wy=zy((function(e,t){var n;let{features:r=1,...i}=e;return My({ourProps:{ref:t,"aria-hidden":2===(2&r)||(null!=(n=i["aria-hidden"])?n:void 0),hidden:4===(4&r)||void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...4===(4&r)&&2!==(2&r)&&{display:"none"}}},theirProps:i,slot:{},defaultTag:"div",name:"Hidden"})}));function Hy(e){let{onFocus:t}=e,[n,r]=(0,i.useState)(!0),s=function(){let e=(0,i.useRef)(!1);return xy((()=>(e.current=!0,()=>{e.current=!1})),[]),e}();return n?i.createElement(Wy,{as:"button",type:"button",features:qy.Focusable,onFocus:e=>{e.preventDefault();let n,i=50;n=requestAnimationFrame((function e(){if(i--<=0)n&&cancelAnimationFrame(n);else if(t()){if(cancelAnimationFrame(n),!s.current)return;r(!1)}else n=requestAnimationFrame(e)}))}}):null}let Ky=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map((e=>`${e}:not([tabindex='-1'])`)).join(",");var Gy,Qy=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(Qy||{}),Yy=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(Yy||{}),Xy=((Gy=Xy||{})[Gy.Previous=-1]="Previous",Gy[Gy.Next=1]="Next",Gy);function Jy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body;return null==e?[]:Array.from(e.querySelectorAll(Ky)).sort(((e,t)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER))))}var Zy=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(Zy||{});var ev=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(ev||{});"undefined"!=typeof window&&"undefined"!=typeof document&&(document.addEventListener("keydown",(e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")}),!0),document.addEventListener("click",(e=>{1===e.detail?delete document.documentElement.dataset.headlessuiFocusVisible:0===e.detail&&(document.documentElement.dataset.headlessuiFocusVisible="")}),!0));let tv=["textarea","input"].join(",");function nv(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>e;return e.slice().sort(((e,n)=>{let r=t(e),i=t(n);if(null===r||null===i)return 0;let s=r.compareDocumentPosition(i);return s&Node.DOCUMENT_POSITION_FOLLOWING?-1:s&Node.DOCUMENT_POSITION_PRECEDING?1:0}))}function rv(e,t){let{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,a=Array.isArray(e)?n?nv(e):e:Jy(e);i.length>0&&a.length>1&&(a=a.filter((e=>!i.includes(e)))),r=null!=r?r:s.activeElement;let o,l=(()=>{if(5&t)return 1;if(10&t)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(1&t)return 0;if(2&t)return Math.max(0,a.indexOf(r))-1;if(4&t)return Math.max(0,a.indexOf(r))+1;if(8&t)return a.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=32&t?{preventScroll:!0}:{},d=0,h=a.length;do{if(d>=h||d+h<=0)return 0;let e=c+d;if(16&t)e=(e+h)%h;else{if(e<0)return 3;if(e>=h)return 1}o=a[e],null==o||o.focus(u),d+=l}while(o!==s.activeElement);return 6&t&&function(e){var t,n;return null!=(n=null==(t=null==e?void 0:e.matches)?void 0:t.call(e,tv))&&n}(o)&&o.select(),2}function iv(e){return wy.isServer?null:e instanceof Node?e.ownerDocument:null!=e&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}const sv=i.createContext(null);function av(e){let{children:t}=e,n=i.useRef({groups:new Map,get(e,t){var n;let r=this.groups.get(e);r||(r=new Map,this.groups.set(e,r));let i=null!=(n=r.get(t))?n:0;return r.set(t,i+1),[Array.from(r.keys()).indexOf(t),function(){let e=r.get(t);e>1?r.set(t,e-1):r.delete(t)}]}});return i.createElement(sv.Provider,{value:n},t)}function ov(e){let t=i.useContext(sv);if(!t)throw new Error("You must wrap your component in a <StableCollection>");let n=function(){var e,t,n;let r=null!=(n=null==(t=null==(e=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)?void 0:e.ReactCurrentOwner)?void 0:t.current)?n:null;if(!r)return Symbol();let s=[],a=r;for(;a;)s.push(a.index),a=a.return;return"$."+s.join(".")}(),[r,s]=t.current.get(e,n);return i.useEffect((()=>s),[]),r}var lv=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(lv||{}),cv=(e=>(e[e.Less=-1]="Less",e[e.Equal=0]="Equal",e[e.Greater=1]="Greater",e))(cv||{}),uv=(e=>(e[e.SetSelectedIndex=0]="SetSelectedIndex",e[e.RegisterTab=1]="RegisterTab",e[e.UnregisterTab=2]="UnregisterTab",e[e.RegisterPanel=3]="RegisterPanel",e[e.UnregisterPanel=4]="UnregisterPanel",e))(uv||{});let dv={0(e,t){var n;let r=nv(e.tabs,(e=>e.current)),i=nv(e.panels,(e=>e.current)),s=r.filter((e=>{var t;return!(null!=(t=e.current)&&t.hasAttribute("disabled"))})),a={...e,tabs:r,panels:i};if(t.index<0||t.index>r.length-1){let n=Py(Math.sign(t.index-e.selectedIndex),{[-1]:()=>1,0:()=>Py(Math.sign(t.index),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0});if(0===s.length)return a;let i=Py(n,{0:()=>r.indexOf(s[0]),1:()=>r.indexOf(s[s.length-1])});return{...a,selectedIndex:-1===i?e.selectedIndex:i}}let o=r.slice(0,t.index),l=[...r.slice(t.index),...o].find((e=>s.includes(e)));if(!l)return a;let c=null!=(n=r.indexOf(l))?n:e.selectedIndex;return-1===c&&(c=e.selectedIndex),{...a,selectedIndex:c}},1(e,t){if(e.tabs.includes(t.tab))return e;let n=e.tabs[e.selectedIndex],r=nv([...e.tabs,t.tab],(e=>e.current)),i=e.selectedIndex;return e.info.current.isControlled||(i=r.indexOf(n),-1===i&&(i=e.selectedIndex)),{...e,tabs:r,selectedIndex:i}},2:(e,t)=>({...e,tabs:e.tabs.filter((e=>e!==t.tab))}),3:(e,t)=>e.panels.includes(t.panel)?e:{...e,panels:nv([...e.panels,t.panel],(e=>e.current))},4:(e,t)=>({...e,panels:e.panels.filter((e=>e!==t.panel))})},hv=(0,i.createContext)(null);function fv(e){let t=(0,i.useContext)(hv);if(null===t){let t=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,fv),t}return t}hv.displayName="TabsDataContext";let mv=(0,i.createContext)(null);function pv(e){let t=(0,i.useContext)(mv);if(null===t){let t=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,pv),t}return t}function gv(e,t){return Py(t.type,dv,e,t)}mv.displayName="TabsActionsContext";let yv=i.Fragment;let vv=Oy.RenderStrategy|Oy.Static;let bv=zy((function(e,t){var n,r;let s=Sy(),{id:a=`headlessui-tabs-tab-${s}`,...o}=e,{orientation:l,activation:c,selectedIndex:u,tabs:d,panels:h}=fv("Tab"),f=pv("Tab"),m=fv("Tab"),p=(0,i.useRef)(null),g=jy(p,t);xy((()=>f.registerTab(p)),[f,p]);let y=ov("tabs"),v=d.indexOf(p);-1===v&&(v=y);let b=v===u,w=_y((e=>{var t;let n=e();if(n===Yy.Success&&"auto"===c){let e=null==(t=iv(p))?void 0:t.activeElement,n=m.tabs.findIndex((t=>t.current===e));-1!==n&&f.change(n)}return n})),x=_y((e=>{let t=d.map((e=>e.current)).filter(Boolean);if(e.key===yy.Space||e.key===yy.Enter)return e.preventDefault(),e.stopPropagation(),void f.change(v);switch(e.key){case yy.Home:case yy.PageUp:return e.preventDefault(),e.stopPropagation(),w((()=>rv(t,Qy.First)));case yy.End:case yy.PageDown:return e.preventDefault(),e.stopPropagation(),w((()=>rv(t,Qy.Last)))}return w((()=>Py(l,{vertical:()=>e.key===yy.ArrowUp?rv(t,Qy.Previous|Qy.WrapAround):e.key===yy.ArrowDown?rv(t,Qy.Next|Qy.WrapAround):Yy.Error,horizontal:()=>e.key===yy.ArrowLeft?rv(t,Qy.Previous|Qy.WrapAround):e.key===yy.ArrowRight?rv(t,Qy.Next|Qy.WrapAround):Yy.Error})))===Yy.Success?e.preventDefault():void 0})),k=(0,i.useRef)(!1),_=_y((()=>{var e;k.current||(k.current=!0,null==(e=p.current)||e.focus({preventScroll:!0}),f.change(v),function(e){"function"==typeof queueMicrotask?queueMicrotask(e):Promise.resolve().then(e).catch((e=>setTimeout((()=>{throw e}))))}((()=>{k.current=!1})))})),N=_y((e=>{e.preventDefault()})),E=(0,i.useMemo)((()=>{var t;return{selected:b,disabled:null!=(t=e.disabled)&&t}}),[b,e.disabled]);return My({ourProps:{ref:g,onKeyDown:x,onMouseDown:N,onClick:_,id:a,role:"tab",type:Ty(e,p),"aria-controls":null==(r=null==(n=h[v])?void 0:n.current)?void 0:r.id,"aria-selected":b,tabIndex:b?0:-1},theirProps:o,slot:E,defaultTag:"button",name:"Tabs.Tab"})})),wv=zy((function(e,t){let{defaultIndex:n=0,vertical:r=!1,manual:s=!1,onChange:a,selectedIndex:o=null,...l}=e;const c=r?"vertical":"horizontal",u=s?"manual":"auto";let d=null!==o,h=ky({isControlled:d}),f=jy(t),[m,p]=(0,i.useReducer)(gv,{info:h,selectedIndex:null!=o?o:n,tabs:[],panels:[]}),g=(0,i.useMemo)((()=>({selectedIndex:m.selectedIndex})),[m.selectedIndex]),y=ky(a||(()=>{})),v=ky(m.tabs),b=(0,i.useMemo)((()=>({orientation:c,activation:u,...m})),[c,u,m]),w=_y((e=>(p({type:1,tab:e}),()=>p({type:2,tab:e})))),x=_y((e=>(p({type:3,panel:e}),()=>p({type:4,panel:e})))),k=_y((e=>{_.current!==e&&y.current(e),d||p({type:0,index:e})})),_=ky(d?e.selectedIndex:m.selectedIndex),N=(0,i.useMemo)((()=>({registerTab:w,registerPanel:x,change:k})),[]);xy((()=>{p({type:0,index:null!=o?o:n})}),[o]),xy((()=>{if(void 0===_.current||m.tabs.length<=0)return;let e=nv(m.tabs,(e=>e.current));e.some(((e,t)=>m.tabs[t]!==e))&&k(e.indexOf(m.tabs[_.current]))}));let E={ref:f};return i.createElement(av,null,i.createElement(mv.Provider,{value:N},i.createElement(hv.Provider,{value:b},b.tabs.length<=0&&i.createElement(Hy,{onFocus:()=>{var e,t;for(let n of v.current)if(0===(null==(e=n.current)?void 0:e.tabIndex))return null==(t=n.current)||t.focus(),!0;return!1}}),My({ourProps:E,theirProps:l,slot:g,defaultTag:yv,name:"Tabs"}))))})),xv=zy((function(e,t){let{orientation:n,selectedIndex:r}=fv("Tab.List");return My({ourProps:{ref:jy(t),role:"tablist","aria-orientation":n},theirProps:e,slot:{selectedIndex:r},defaultTag:"div",name:"Tabs.List"})})),kv=zy((function(e,t){let{selectedIndex:n}=fv("Tab.Panels");return My({ourProps:{ref:jy(t)},theirProps:e,slot:(0,i.useMemo)((()=>({selectedIndex:n})),[n]),defaultTag:"div",name:"Tabs.Panels"})})),_v=zy((function(e,t){var n,r,s,a;let o=Sy(),{id:l=`headlessui-tabs-panel-${o}`,tabIndex:c=0,...u}=e,{selectedIndex:d,tabs:h,panels:f}=fv("Tab.Panel"),m=pv("Tab.Panel"),p=(0,i.useRef)(null),g=jy(p,t);xy((()=>m.registerPanel(p)),[m,p,l]);let y=ov("panels"),v=f.indexOf(p);-1===v&&(v=y);let b=v===d,w=(0,i.useMemo)((()=>({selected:b})),[b]),x={ref:g,id:l,role:"tabpanel","aria-labelledby":null==(r=null==(n=h[v])?void 0:n.current)?void 0:r.id,tabIndex:b?c:-1};return b||null!=(s=u.unmount)&&!s||null!=(a=u.static)&&a?My({ourProps:x,theirProps:u,slot:w,defaultTag:"div",features:vv,visible:b,name:"Tabs.Panel"}):i.createElement(Wy,{as:"span","aria-hidden":"true",...x})})),Nv=Object.assign(bv,{Group:wv,List:xv,Panels:kv,Panel:_v});function Ev(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")}const Sv=e=>{let{activeFilter:t,setActiveFilter:n,activeCategory:r,setActiveCategory:s,activePornstar:a,setActivePornstar:o}=e;const[l,c]=(0,i.useState)([]),[u,d]=(0,i.useState)([]),[h,f]=(0,i.useState)(0),m=ee();(0,i.useEffect)((()=>{(async()=>{try{const e=(await Im(wf(cg,"categories"))).docs.map((e=>({id:e.id,...e.data()})));c(e);const t=(await Im(wf(cg,"pornstars"))).docs.map((e=>({id:e.id,...e.data()})));d(t)}catch(e){console.error("Filtreler getirilirken hata olu\u015ftu:",e)}})()}),[]);const p=e=>{s(e),m("all"===e?"/":`/?category=${e}`)},g=e=>{o(e),m("all"===e?"/":`/?pornstar=${e}`)};return(0,dg.jsx)("div",{className:"mb-8",children:(0,dg.jsxs)(Nv.Group,{selectedIndex:h,onChange:f,children:[(0,dg.jsxs)(Nv.List,{className:"flex space-x-1 rounded-xl bg-dark-700 p-1",children:[(0,dg.jsx)(Nv,{className:e=>{let{selected:t}=e;return Ev("w-full rounded-lg py-2.5 text-sm font-medium leading-5","focus:outline-none",t?"bg-primary-600 text-white shadow":"text-gray-400 hover:bg-dark-600 hover:text-white")},children:"Videos"}),(0,dg.jsx)(Nv,{className:e=>{let{selected:t}=e;return Ev("w-full rounded-lg py-2.5 text-sm font-medium leading-5","focus:outline-none",t?"bg-primary-600 text-white shadow":"text-gray-400 hover:bg-dark-600 hover:text-white")},children:"Category"}),(0,dg.jsx)(Nv,{className:e=>{let{selected:t}=e;return Ev("w-full rounded-lg py-2.5 text-sm font-medium leading-5","focus:outline-none",t?"bg-primary-600 text-white shadow":"text-gray-400 hover:bg-dark-600 hover:text-white")},children:"Pornstar"})]}),(0,dg.jsxs)(Nv.Panels,{className:"mt-2",children:[(0,dg.jsx)(Nv.Panel,{className:"rounded-xl bg-dark-700 p-3",children:(0,dg.jsx)("div",{className:"flex flex-wrap gap-2",children:[{key:"newest",label:"En Yeni"},{key:"popular",label:"Pop\xfcler"},{key:"trending",label:"Trend"},{key:"top-rated",label:"En \xc7ok Be\u011fenilen"}].map((e=>(0,dg.jsx)("button",{onClick:()=>(e=>{n(e)})(e.key),className:Ev("px-4 py-2 rounded-md text-sm font-medium",t===e.key?"bg-primary-600 text-white":"bg-dark-600 text-gray-300 hover:bg-dark-500"),children:e.label},e.key)))})}),(0,dg.jsx)(Nv.Panel,{className:"rounded-xl bg-dark-700 p-3",children:(0,dg.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,dg.jsx)("button",{onClick:()=>p("all"),className:Ev("px-4 py-2 rounded-md text-sm font-medium","all"===r?"bg-primary-600 text-white":"bg-dark-600 text-gray-300 hover:bg-dark-500"),children:"T\xfcm\xfc"}),l.map((e=>(0,dg.jsx)("button",{onClick:()=>p(e.id),className:Ev("px-4 py-2 rounded-md text-sm font-medium",r===e.id?"bg-primary-600 text-white":"bg-dark-600 text-gray-300 hover:bg-dark-500"),children:e.name},e.id)))]})}),(0,dg.jsx)(Nv.Panel,{className:"rounded-xl bg-dark-700 p-3",children:(0,dg.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,dg.jsx)("button",{onClick:()=>g("all"),className:Ev("px-4 py-2 rounded-md text-sm font-medium","all"===a?"bg-primary-600 text-white":"bg-dark-600 text-gray-300 hover:bg-dark-500"),children:"T\xfcm\xfc"}),u.map((e=>(0,dg.jsx)("button",{onClick:()=>g(e.id),className:Ev("px-4 py-2 rounded-md text-sm font-medium",a===e.id?"bg-primary-600 text-white":"bg-dark-600 text-gray-300 hover:bg-dark-500"),children:e.name},e.id)))]})})]})]})})};function Cv(e,t){let{title:n,titleId:r,...s}=e;return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},s),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const Tv=i.forwardRef(Cv),Iv=()=>{const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)([]),[s,a]=(0,i.useState)(!0),[o,l]=(0,i.useState)("newest"),[c,u]=(0,i.useState)("all"),[d,h]=(0,i.useState)("all"),{currentUser:f}=fg(),m=J(),p=new URLSearchParams(m.search),g=p.get("search"),y=p.get("category"),v=p.get("pornstar");(0,i.useEffect)((()=>{y&&u(y),v&&h(v)}),[y,v]);const b=(0,i.useCallback)((async()=>{a(!0);try{let e,n=wf(cg,"videos"),r=[];switch(g&&(r.push(dm("title",">=",g)),r.push(dm("title","<=",g+"\uf8ff"))),"all"!==c&&r.push(dm("categories","array-contains",c)),"all"!==d&&r.push(dm("pornstars","array-contains",d)),o){case"popular":e="viewCount";break;case"trending":e="trendingScore";break;case"top-rated":e="likeCount";break;default:e="createdAt"}n=r.length>0?cm(n,...r,mm(e,"desc"),gm(24)):cm(n,mm(e,"desc"),gm(24));const i=(await Im(n)).docs.map((e=>({id:e.id,...e.data()})));t(i)}catch(e){console.error("Videolar getirilirken hata olu\u015ftu:",e)}finally{a(!1)}}),[o,c,d,g]),w=(0,i.useCallback)((async()=>{if(f)try{const e=xf(cg,"users",f.uid),t=(await Cm(e)).data();if(t&&t.featured&&t.featured.length>0){const e=t.featured,n=[];for(const t of e){const e=xf(cg,"videos",t),r=await Cm(e);r.exists()&&n.push({id:r.id,...r.data()})}r(n)}}catch(e){console.error("\xd6ne \xe7\u0131kan videolar getirilirken hata olu\u015ftu:",e)}}),[f]);(0,i.useEffect)((()=>{b(),f&&w()}),[b,w,f]);return(0,dg.jsxs)("div",{children:[(0,dg.jsx)(Sv,{activeFilter:o,setActiveFilter:l,activeCategory:c,setActiveCategory:u,activePornstar:d,setActivePornstar:h}),g&&(0,dg.jsx)("div",{className:"mb-8",children:(0,dg.jsxs)("h2",{className:"text-2xl font-bold text-white mb-4",children:['"',g,'" i\xe7in arama sonu\xe7lar\u0131']})}),f&&n.length>0&&!g&&(0,dg.jsxs)("div",{className:"mb-8",children:[(0,dg.jsx)("h2",{className:"text-2xl font-bold text-white mb-4",children:"\xd6ne \xc7\u0131kanlar"}),(0,dg.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:n.map((e=>(0,dg.jsx)(gy,{video:e},e.id)))})]}),(0,dg.jsxs)("div",{className:"mb-4 flex justify-between items-center",children:[(0,dg.jsx)("h2",{className:"text-2xl font-bold text-white",children:g?"Sonu\xe7lar":"Videolar"}),(0,dg.jsxs)("button",{onClick:()=>{b(),f&&w()},className:"flex items-center text-gray-400 hover:text-white",title:"Yenile",children:[(0,dg.jsx)(Tv,{className:"w-5 h-5 mr-1"}),(0,dg.jsx)("span",{className:"text-sm",children:"Yenile"})]})]}),s?(0,dg.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,dg.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"})}):e.length>0?(0,dg.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:e.map((e=>(0,dg.jsx)(gy,{video:e},e.id)))}):(0,dg.jsxs)("div",{className:"bg-dark-700 rounded-lg p-8 text-center",children:[(0,dg.jsx)("p",{className:"text-gray-400 mb-4",children:"Hi\xe7 video bulunamad\u0131."}),("all"!==c||"all"!==d||g)&&(0,dg.jsx)("p",{className:"text-gray-500",children:"Farkl\u0131 filtreler deneyebilir veya araman\u0131z\u0131 de\u011fi\u015ftirebilirsiniz."})]})]})};function jv(e,t){let{title:n,titleId:r,...s}=e;return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},s),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.76c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.076-4.076a1.526 1.526 0 0 1 1.037-.443 48.282 48.282 0 0 0 5.68-.494c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"}))}const Av=i.forwardRef(jv);function Pv(e,t){let{title:n,titleId:r,...s}=e;return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},s),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Rv=i.forwardRef(Pv);function Dv(e,t){let{title:n,titleId:r,...s}=e;return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},s),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const Ov=i.forwardRef(Dv),Lv=e=>{let{videoId:t}=e;const[n,r]=(0,i.useState)([]),[s,a]=(0,i.useState)(""),[o,l]=(0,i.useState)(!0),{currentUser:c,userRole:u}=fg();(0,i.useEffect)((()=>{(async()=>{l(!0);try{const e=cm(wf(cg,"comments"),dm("videoId","==",t),mm("createdAt","desc")),n=(await Im(e)).docs.map((e=>({id:e.id,...e.data()})));r(n)}catch(e){console.error("Error fetching comments:",e)}finally{l(!1)}})()}),[t]);const d=e=>{if(!e)return"";return oy(e.toDate?e.toDate():new Date(e),{addSuffix:!0,locale:Hg})},h=e=>!!c&&("admin"===u||e.userId===c.uid);return(0,dg.jsxs)("div",{className:"bg-dark-700 rounded-lg p-6 shadow-lg",children:[(0,dg.jsxs)("div",{className:"flex items-center mb-6",children:[(0,dg.jsx)(Av,{className:"w-6 h-6 text-primary-400 mr-2"}),(0,dg.jsxs)("h3",{className:"text-xl font-semibold text-white",children:["Comments ",(0,dg.jsxs)("span",{className:"text-primary-400 text-lg ml-1",children:["(",n.length,")"]})]})]}),c?(0,dg.jsx)("form",{onSubmit:async e=>{if(e.preventDefault(),c){if(s.trim())try{const e={videoId:t,userId:c.uid,userName:c.displayName||"Anonymous",content:s,createdAt:Lm()},i=await Rm(wf(cg,"comments"),e);r([{id:i.id,...e,createdAt:new Date},...n]),a("")}catch(i){console.error("Error adding comment:",i)}}else alert("You must be logged in to comment.")},className:"mb-8",children:(0,dg.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,dg.jsx)("div",{className:"flex-shrink-0",children:(0,dg.jsx)("div",{className:"w-12 h-12 rounded-full bg-primary-700 flex items-center justify-center",children:(0,dg.jsx)(Rv,{className:"w-10 h-10 text-primary-300"})})}),(0,dg.jsxs)("div",{className:"flex-grow",children:[(0,dg.jsx)("textarea",{value:s,onChange:e=>a(e.target.value),placeholder:"Write a comment...",className:"w-full px-4 py-3 bg-dark-800 border border-dark-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 text-white transition-all duration-200 resize-none",rows:"3"}),(0,dg.jsx)("div",{className:"flex justify-end mt-3",children:(0,dg.jsxs)("button",{type:"submit",className:"px-5 py-2.5 bg-primary-600 hover:bg-primary-700 text-white rounded-lg transition-colors duration-200 font-medium flex items-center",disabled:!s.trim(),children:[(0,dg.jsx)(Av,{className:"w-5 h-5 mr-2"}),"Comment"]})})]})]})}):(0,dg.jsx)("div",{className:"mb-8 p-5 bg-dark-800 rounded-lg border border-dark-600 text-center",children:(0,dg.jsx)("p",{className:"text-gray-300",children:"You must be logged in to comment."})}),o?(0,dg.jsx)("div",{className:"flex justify-center items-center h-32",children:(0,dg.jsx)("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-primary-500"})}):n.length>0?(0,dg.jsx)("div",{className:"space-y-5",children:n.map((e=>(0,dg.jsxs)("div",{className:"flex items-start space-x-4 p-4 bg-dark-800 rounded-lg border border-dark-600 hover:border-dark-500 transition-all duration-200",children:[(0,dg.jsx)("div",{className:"flex-shrink-0",children:(0,dg.jsx)("div",{className:"w-12 h-12 rounded-full bg-primary-800 flex items-center justify-center",children:(0,dg.jsx)(Rv,{className:"w-10 h-10 text-primary-300"})})}),(0,dg.jsxs)("div",{className:"flex-grow",children:[(0,dg.jsxs)("div",{className:"flex justify-between items-start",children:[(0,dg.jsxs)("div",{children:[(0,dg.jsx)("h4",{className:"font-medium text-white text-base",children:e.userName}),(0,dg.jsx)("p",{className:"text-xs text-gray-400",children:d(e.createdAt)})]}),h(e)&&(0,dg.jsx)("button",{onClick:()=>(async e=>{try{await Pm(xf(cg,"comments",e)),r(n.filter((t=>t.id!==e)))}catch(t){console.error("Error deleting comment:",t)}})(e.id),className:"text-gray-500 hover:text-red-500 transition-colors duration-200 p-1 rounded-full hover:bg-dark-700",title:"Delete Comment",children:(0,dg.jsx)(Ov,{className:"w-5 h-5"})})]}),(0,dg.jsx)("p",{className:"mt-2 text-gray-200 leading-relaxed",children:e.content})]})]},e.id)))}):(0,dg.jsxs)("div",{className:"text-center py-8 bg-dark-800 rounded-lg border border-dashed border-dark-600",children:[(0,dg.jsx)(Av,{className:"w-12 h-12 text-gray-500 mx-auto mb-3"}),(0,dg.jsx)("p",{className:"text-gray-400",children:"No comments yet. Be the first to comment!"})]})]})};function Mv(e,t){let{title:n,titleId:r,...s}=e;return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},s),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.633 10.25c.806 0 1.533-.446 2.031-1.08a9.041 9.041 0 0 1 2.861-2.4c.723-.384 1.35-.956 1.653-1.715a4.498 4.498 0 0 0 .322-1.672V2.75a.75.75 0 0 1 .75-.75 2.25 2.25 0 0 1 2.25 2.25c0 1.152-.26 2.243-.723 3.218-.266.558.107 1.282.725 1.282m0 0h3.126c1.026 0 1.945.694 2.054 1.715.045.422.068.85.068 1.285a11.95 11.95 0 0 1-2.649 7.521c-.388.482-.987.729-1.605.729H13.48c-.483 0-.964-.078-1.423-.23l-3.114-1.04a4.501 4.501 0 0 0-1.423-.23H5.904m10.598-9.75H14.25M5.904 18.5c.083.205.173.405.27.602.197.4-.078.898-.523.898h-.908c-.889 0-1.713-.518-1.972-1.368a12 12 0 0 1-.521-3.507c0-1.553.295-3.036.831-4.398C3.387 9.953 4.167 9.5 5 9.5h1.053c.472 0 .745.556.5.96a8.958 8.958 0 0 0-1.302 4.665c0 1.194.232 2.333.654 3.375Z"}))}const Fv=i.forwardRef(Mv);function Uv(e,t){let{title:n,titleId:r,...s}=e;return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},s),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.498 15.25H4.372c-1.026 0-1.945-.694-2.054-1.715a12.137 12.137 0 0 1-.068-1.285c0-2.848.992-5.464 2.649-7.521C5.287 4.247 5.886 4 6.504 4h4.016a4.5 4.5 0 0 1 1.423.23l3.114 1.04a4.5 4.5 0 0 0 1.423.23h1.294M7.498 15.25c.618 0 .991.724.725 1.282A7.471 7.471 0 0 0 7.5 19.75 2.25 2.25 0 0 0 9.75 22a.75.75 0 0 0 .75-.75v-.633c0-.573.11-1.14.322-1.672.304-.76.93-1.33 1.653-1.715a9.04 9.04 0 0 0 2.86-2.4c.498-.634 1.226-1.08 2.032-1.08h.384m-10.253 1.5H9.7m8.075-9.75c.01.05.027.1.05.148.593 1.2.925 2.55.925 3.977 0 1.487-.36 2.89-.999 4.125m.023-8.25c-.076-.365.183-.75.575-.75h.908c.889 0 1.713.518 1.972 1.368.339 1.11.521 2.287.521 3.507 0 1.553-.295 3.036-.831 4.398-.306.774-1.086 1.227-1.918 1.227h-1.053c-.472 0-.745-.556-.5-.96a8.95 8.95 0 0 0 .303-.54"}))}const Vv=i.forwardRef(Uv);function zv(e,t){let{title:n,titleId:r,...s}=e;return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},s),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))}const Bv=i.forwardRef(zv);function $v(e,t){let{title:n,titleId:r,...s}=e;return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},s),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"}),i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6Z"}))}const qv=i.forwardRef($v);function Wv(e,t){let{title:n,titleId:r,...s}=e;return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},s),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const Hv=i.forwardRef(Wv);function Kv(e,t){let{title:n,titleId:r,...s}=e;return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},s),n?i.createElement("title",{id:r},n):null,i.createElement("path",{d:"M7.493 18.5c-.425 0-.82-.236-.975-.632A7.48 7.48 0 0 1 6 15.125c0-1.75.599-3.358 1.602-4.634.151-.192.373-.309.6-.397.473-.183.89-.514 1.212-.924a9.042 9.042 0 0 1 2.861-2.4c.723-.384 1.35-.956 1.653-1.715a4.498 4.498 0 0 0 .322-1.672V2.75A.75.75 0 0 1 15 2a2.25 2.25 0 0 1 2.25 2.25c0 1.152-.26 2.243-.723 3.218-.266.558.107 1.282.725 1.282h3.126c1.026 0 1.945.694 2.054 1.715.045.422.068.85.068 1.285a11.95 11.95 0 0 1-2.649 7.521c-.388.482-.987.729-1.605.729H14.23c-.483 0-.964-.078-1.423-.23l-3.114-1.04a4.501 4.501 0 0 0-1.423-.23h-.777ZM2.331 10.727a11.969 11.969 0 0 0-.831 4.398 12 12 0 0 0 .52 3.507C2.28 19.482 3.105 20 3.994 20H4.9c.445 0 .72-.498.523-.898a8.963 8.963 0 0 1-.924-3.977c0-1.708.476-3.305 1.302-4.666.245-.403-.028-.959-.5-.959H4.25c-.832 0-1.612.453-1.918 1.227Z"}))}const Gv=i.forwardRef(Kv);function Qv(e,t){let{title:n,titleId:r,...s}=e;return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},s),n?i.createElement("title",{id:r},n):null,i.createElement("path",{d:"M15.73 5.5h1.035A7.465 7.465 0 0 1 18 9.625a7.465 7.465 0 0 1-1.235 4.125h-.148c-.806 0-1.534.446-2.031 1.08a9.04 9.04 0 0 1-2.861 2.4c-.723.384-1.35.956-1.653 1.715a4.499 4.499 0 0 0-.322 1.672v.633A.75.75 0 0 1 9 22a2.25 2.25 0 0 1-2.25-2.25c0-1.152.26-2.243.723-3.218.266-.558-.107-1.282-.725-1.282H3.622c-1.026 0-1.945-.694-2.054-1.715A12.137 12.137 0 0 1 1.5 12.25c0-2.848.992-5.464 2.649-7.521C4.537 4.247 5.136 4 5.754 4H9.77a4.5 4.5 0 0 1 1.423.23l3.114 1.04a4.5 4.5 0 0 0 1.423.23ZM21.669 14.023c.536-1.362.831-2.845.831-4.398 0-1.22-.182-2.398-.52-3.507-.26-.85-1.084-1.368-1.973-1.368H19.1c-.445 0-.72.498-.523.898.591 1.2.924 2.55.924 3.977a8.958 8.958 0 0 1-1.302 4.666c-.245.403.028.959.5.959h1.053c.832 0 1.612-.453 1.918-1.227Z"}))}const Yv=i.forwardRef(Qv);function Xv(e,t){let{title:n,titleId:r,...s}=e;return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},s),n?i.createElement("title",{id:r},n):null,i.createElement("path",{fillRule:"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.006 5.404.434c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.434 2.082-5.005Z",clipRule:"evenodd"}))}const Jv=i.forwardRef(Xv),Zv=()=>{const{id:e}=function(){let{matches:e}=i.useContext(Q),t=e[e.length-1];return t?t.params:{}}(),{currentUser:t}=fg(),[n,r]=(0,i.useState)(null),[s,a]=(0,i.useState)([]),[o,l]=(0,i.useState)(!0),[c,u]=(0,i.useState)(null),[d,h]=(0,i.useState)({liked:!1,disliked:!1,featured:!1}),f=(0,i.useCallback)((async t=>{try{let n;n=t.tags&&t.tags.length>0?cm(wf(cg,"videos"),dm("tags","array-contains-any",t.tags.slice(0,10))):t.pornstars&&t.pornstars.length>0?cm(wf(cg,"videos"),dm("pornstars","array-contains-any",t.pornstars)):cm(wf(cg,"videos"),dm("categories","array-contains-any",t.categories||[]));let r=(await Im(n)).docs.map((e=>({id:e.id,...e.data()}))).filter((t=>t.id!==e)).slice(0,8);a(r)}catch(c){console.error("\u0130lgili videolar getirilirken hata olu\u015ftu:",c)}}),[e]);(0,i.useEffect)((()=>{(async()=>{l(!0);try{const a=await Cm(xf(cg,"videos",e));if(a.exists()){const o={id:a.id,...a.data()};if(r(o),await Am(xf(cg,"videos",e),{viewCount:Um(1)}),t){const r=await Cm(xf(cg,"users",t.uid));if(r.exists()){var n,i,s;const t=r.data();h({liked:(null===(n=t.likedVideos)||void 0===n?void 0:n.includes(e))||!1,disliked:(null===(i=t.dislikedVideos)||void 0===i?void 0:i.includes(e))||!1,featured:(null===(s=t.featured)||void 0===s?void 0:s.includes(e))||!1})}}f(o)}else u("Video bulunamad\u0131.")}catch(c){console.error("Video getirilirken hata olu\u015ftu:",c),u("Video y\xfcklenirken bir hata olu\u015ftu.")}finally{l(!1)}})()}),[e,t,f]);return o?(0,dg.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,dg.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"})}):c?(0,dg.jsxs)("div",{className:"text-center py-12",children:[(0,dg.jsx)("p",{className:"text-red-500 text-lg",children:c}),(0,dg.jsx)(Ig,{to:"/",className:"mt-4 inline-block btn btn-primary",children:"Ana Sayfaya D\xf6n"})]}):n?(0,dg.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,dg.jsxs)("div",{className:"lg:col-span-2",children:[(0,dg.jsx)("div",{className:"bg-black rounded-lg overflow-hidden aspect-video mb-4",children:(0,dg.jsx)("iframe",{src:n.videoUrl,title:n.title,className:"w-full h-full",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}),(0,dg.jsxs)("div",{className:"mb-4",children:[(0,dg.jsx)("h1",{className:"text-2xl font-bold text-white mb-2",children:n.title}),(0,dg.jsxs)("div",{className:"flex flex-wrap justify-between items-center",children:[(0,dg.jsxs)("div",{className:"flex items-center text-gray-400 space-x-4",children:[(0,dg.jsxs)("span",{className:"flex items-center",children:[(0,dg.jsx)(py,{className:"w-5 h-5 mr-1"}),n.viewCount," g\xf6r\xfcnt\xfclenme"]}),(0,dg.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,dg.jsxs)("button",{onClick:async()=>{if(t)try{const i=xf(cg,"users",t.uid),s=xf(cg,"videos",e);d.liked?(await Am(i,{likedVideos:Fm(e)}),await Am(s,{likeCount:Um(-1)}),h({...d,liked:!1})):(d.disliked&&(await Am(i,{dislikedVideos:Fm(e)}),await Am(s,{dislikeCount:Um(-1)}),h({...d,disliked:!1})),await Am(i,{likedVideos:Mm(e)}),await Am(s,{likeCount:Um(1)}),h({...d,liked:!0}));const a=await Cm(s);r({...n,...a.data()})}catch(c){console.error("Be\u011fenme i\u015flemi s\u0131ras\u0131nda hata olu\u015ftu:",c)}else alert("Bu i\u015flemi ger\xe7ekle\u015ftirmek i\xe7in giri\u015f yapmal\u0131s\u0131n\u0131z.")},className:"flex items-center "+(d.liked?"text-primary-500":"text-gray-400 hover:text-white"),children:[d.liked?(0,dg.jsx)(Gv,{className:"w-5 h-5 mr-1"}):(0,dg.jsx)(Fv,{className:"w-5 h-5 mr-1"}),n.likeCount||0]}),(0,dg.jsxs)("button",{onClick:async()=>{if(t)try{const i=xf(cg,"users",t.uid),s=xf(cg,"videos",e);d.disliked?(await Am(i,{dislikedVideos:Fm(e)}),await Am(s,{dislikeCount:Um(-1)}),h({...d,disliked:!1})):(d.liked&&(await Am(i,{likedVideos:Fm(e)}),await Am(s,{likeCount:Um(-1)}),h({...d,liked:!1})),await Am(i,{dislikedVideos:Mm(e)}),await Am(s,{dislikeCount:Um(1)}),h({...d,disliked:!0}));const a=await Cm(s);r({...n,...a.data()})}catch(c){console.error("Be\u011fenmeme i\u015flemi s\u0131ras\u0131nda hata olu\u015ftu:",c)}else alert("Bu i\u015flemi ger\xe7ekle\u015ftirmek i\xe7in giri\u015f yapmal\u0131s\u0131n\u0131z.")},className:"flex items-center "+(d.disliked?"text-red-500":"text-gray-400 hover:text-white"),children:[d.disliked?(0,dg.jsx)(Yv,{className:"w-5 h-5 mr-1"}):(0,dg.jsx)(Vv,{className:"w-5 h-5 mr-1"}),n.dislikeCount||0]})]})]}),(0,dg.jsxs)("button",{onClick:async()=>{if(t)try{const n=xf(cg,"users",t.uid);d.featured?(await Am(n,{featured:Fm(e)}),h({...d,featured:!1})):(await Am(n,{featured:Mm(e)}),h({...d,featured:!0}))}catch(c){console.error("Favori i\u015flemi s\u0131ras\u0131nda hata olu\u015ftu:",c)}else alert("Bu i\u015flemi ger\xe7ekle\u015ftirmek i\xe7in giri\u015f yapmal\u0131s\u0131n\u0131z.")},className:"flex items-center px-3 py-1 rounded-md "+(d.featured?"bg-primary-600 text-white":"bg-dark-600 text-gray-300 hover:bg-dark-500"),disabled:!t,children:[d.featured?(0,dg.jsx)(Jv,{className:"w-5 h-5 mr-1"}):(0,dg.jsx)(Bv,{className:"w-5 h-5 mr-1"}),d.featured?"Favorilerde":"Favorilere Ekle"]})]})]}),(0,dg.jsxs)("div",{className:"bg-dark-700 rounded-lg p-4 mb-6",children:[(0,dg.jsx)("div",{className:"flex items-start justify-between mb-4",children:(0,dg.jsxs)("div",{children:[(0,dg.jsx)("p",{className:"text-gray-300 mb-2",children:n.description}),(0,dg.jsxs)("p",{className:"text-gray-400 text-sm",children:["Y\xfckleyen: ",n.uploader]})]})}),n.tags&&n.tags.length>0&&(0,dg.jsxs)("div",{className:"mb-4",children:[(0,dg.jsxs)("h3",{className:"text-white font-medium mb-2 flex items-center",children:[(0,dg.jsx)(qv,{className:"w-5 h-5 mr-1"}),"Etiketler"]}),(0,dg.jsx)("div",{className:"flex flex-wrap gap-2",children:n.tags.map(((e,t)=>(0,dg.jsx)(Ig,{to:`/?search=${e}`,className:"px-3 py-1 bg-dark-600 text-gray-300 rounded-md text-sm hover:bg-dark-500",children:e},t)))})]}),n.pornstars&&n.pornstars.length>0&&(0,dg.jsxs)("div",{children:[(0,dg.jsxs)("h3",{className:"text-white font-medium mb-2 flex items-center",children:[(0,dg.jsx)(Hv,{className:"w-5 h-5 mr-1"}),"Oyuncular"]}),(0,dg.jsx)("div",{className:"flex flex-wrap gap-2",children:n.pornstars.map(((e,t)=>(0,dg.jsx)(Ig,{to:`/?pornstar=${e}`,className:"px-3 py-1 bg-dark-600 text-gray-300 rounded-md text-sm hover:bg-dark-500",children:e},t)))})]})]}),(0,dg.jsx)(Lv,{videoId:e})]}),(0,dg.jsxs)("div",{children:[(0,dg.jsx)("h2",{className:"text-xl font-semibold text-white mb-4",children:"\u0130lgili Videolar"}),(0,dg.jsx)("div",{className:"space-y-4",children:s.length>0?s.map((e=>(0,dg.jsx)(gy,{video:e},e.id))):(0,dg.jsx)("p",{className:"text-gray-400",children:"\u0130lgili video bulunamad\u0131."})})]})]}):(0,dg.jsxs)("div",{className:"text-center py-12",children:[(0,dg.jsx)("p",{className:"text-gray-400 text-lg",children:"Video bulunamad\u0131."}),(0,dg.jsx)(Ig,{to:"/",className:"mt-4 inline-block btn btn-primary",children:"Ana Sayfaya D\xf6n"})]})};var eb=e=>"checkbox"===e.type,tb=e=>e instanceof Date,nb=e=>null==e;const rb=e=>"object"===typeof e;var ib=e=>!nb(e)&&!Array.isArray(e)&&rb(e)&&!tb(e),sb=e=>ib(e)&&e.target?eb(e.target)?e.target.checked:e.target.value:e,ab=(e,t)=>e.has((e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e)(t)),ob="undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement&&"undefined"!==typeof document;function lb(e){let t;const n=Array.isArray(e),r="undefined"!==typeof FileList&&e instanceof FileList;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else{if(ob&&(e instanceof Blob||r)||!n&&!ib(e))return e;if(t=n?[]:{},n||(e=>{const t=e.constructor&&e.constructor.prototype;return ib(t)&&t.hasOwnProperty("isPrototypeOf")})(e))for(const n in e)e.hasOwnProperty(n)&&(t[n]=lb(e[n]));else t=e}return t}var cb=e=>Array.isArray(e)?e.filter(Boolean):[],ub=e=>void 0===e,db=(e,t,n)=>{if(!t||!ib(e))return n;const r=cb(t.split(/[,[\].]+?/)).reduce(((e,t)=>nb(e)?e:e[t]),e);return ub(r)||r===e?ub(e[t])?n:e[t]:r},hb=e=>"boolean"===typeof e,fb=e=>/^\w*$/.test(e),mb=e=>cb(e.replace(/["|']|\]/g,"").split(/\.|\[/)),pb=(e,t,n)=>{let r=-1;const i=fb(t)?[t]:mb(t),s=i.length,a=s-1;for(;++r<s;){const t=i[r];let s=n;if(r!==a){const n=e[t];s=ib(n)||Array.isArray(n)?n:isNaN(+i[r+1])?{}:[]}if("__proto__"===t||"constructor"===t||"prototype"===t)return;e[t]=s,e=e[t]}return e};const gb="blur",yb="focusout",vb="onBlur",bb="onChange",wb="onSubmit",xb="onTouched",kb="all",_b="max",Nb="min",Eb="maxLength",Sb="minLength",Cb="pattern",Tb="required",Ib="validate";i.createContext(null);var jb=function(e,t,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const i={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(i,s,{get:()=>{const i=s;return t._proxyFormState[i]!==kb&&(t._proxyFormState[i]=!r||kb),n&&(n[i]=!0),e[i]}});return i},Ab=e=>ib(e)&&!Object.keys(e).length,Pb=(e,t,n,r)=>{n(e);const{name:i,...s}=e;return Ab(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find((e=>t[e]===(!r||kb)))},Rb=e=>Array.isArray(e)?e:[e];function Db(e){const t=i.useRef(e);t.current=e,i.useEffect((()=>{const n=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{n&&n.unsubscribe()}}),[e.disabled])}var Ob=e=>"string"===typeof e,Lb=(e,t,n,r,i)=>Ob(e)?(r&&t.watch.add(e),db(n,e,i)):Array.isArray(e)?e.map((e=>(r&&t.watch.add(e),db(n,e)))):(r&&(t.watchAll=!0),n);var Mb=(e,t,n,r,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:i||!0}}:{},Fb=e=>({isOnSubmit:!e||e===wb,isOnBlur:e===vb,isOnChange:e===bb,isOnAll:e===kb,isOnTouch:e===xb}),Ub=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some((t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length)))));const Vb=(e,t,n,r)=>{for(const i of n||Object.keys(e)){const n=db(e,i);if(n){const{_f:e,...s}=n;if(e){if(e.refs&&e.refs[0]&&t(e.refs[0],i)&&!r)return!0;if(e.ref&&t(e.ref,e.name)&&!r)return!0;if(Vb(s,t))break}else if(ib(s)&&Vb(s,t))break}}};var zb=(e,t,n)=>{const r=Rb(db(e,n));return pb(r,"root",t[n]),pb(e,n,r),e},Bb=e=>"file"===e.type,$b=e=>"function"===typeof e,qb=e=>{if(!ob)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Wb=e=>Ob(e),Hb=e=>"radio"===e.type,Kb=e=>e instanceof RegExp;const Gb={value:!1,isValid:!1},Qb={value:!0,isValid:!0};var Yb=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter((e=>e&&e.checked&&!e.disabled)).map((e=>e.value));return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!ub(e[0].attributes.value)?ub(e[0].value)||""===e[0].value?Qb:{value:e[0].value,isValid:!0}:Qb:Gb}return Gb};const Xb={isValid:!1,value:null};var Jb=e=>Array.isArray(e)?e.reduce(((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e),Xb):Xb;function Zb(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"validate";if(Wb(e)||Array.isArray(e)&&e.every(Wb)||hb(e)&&!e)return{type:n,message:Wb(e)?e:"",ref:t}}var ew=e=>ib(e)&&!Kb(e)?e:{value:e,message:""},tw=async(e,t,n,r,i,s)=>{const{ref:a,refs:o,required:l,maxLength:c,minLength:u,min:d,max:h,pattern:f,validate:m,name:p,valueAsNumber:g,mount:y}=e._f,v=db(n,p);if(!y||t.has(p))return{};const b=o?o[0]:a,w=e=>{i&&b.reportValidity&&(b.setCustomValidity(hb(e)?"":e||""),b.reportValidity())},x={},k=Hb(a),_=eb(a),N=k||_,E=(g||Bb(a))&&ub(a.value)&&ub(v)||qb(a)&&""===a.value||""===v||Array.isArray(v)&&!v.length,S=Mb.bind(null,p,r,x),C=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Eb,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Sb;const s=e?t:n;x[p]={type:e?r:i,message:s,ref:a,...S(e?r:i,s)}};if(s?!Array.isArray(v)||!v.length:l&&(!N&&(E||nb(v))||hb(v)&&!v||_&&!Yb(o).isValid||k&&!Jb(o).isValid)){const{value:e,message:t}=Wb(l)?{value:!!l,message:l}:ew(l);if(e&&(x[p]={type:Tb,message:t,ref:b,...S(Tb,t)},!r))return w(t),x}if(!E&&(!nb(d)||!nb(h))){let e,t;const n=ew(h),i=ew(d);if(nb(v)||isNaN(v)){const r=a.valueAsDate||new Date(v),s=e=>new Date((new Date).toDateString()+" "+e),o="time"==a.type,l="week"==a.type;Ob(n.value)&&v&&(e=o?s(v)>s(n.value):l?v>n.value:r>new Date(n.value)),Ob(i.value)&&v&&(t=o?s(v)<s(i.value):l?v<i.value:r<new Date(i.value))}else{const r=a.valueAsNumber||(v?+v:v);nb(n.value)||(e=r>n.value),nb(i.value)||(t=r<i.value)}if((e||t)&&(C(!!e,n.message,i.message,_b,Nb),!r))return w(x[p].message),x}if((c||u)&&!E&&(Ob(v)||s&&Array.isArray(v))){const e=ew(c),t=ew(u),n=!nb(e.value)&&v.length>+e.value,i=!nb(t.value)&&v.length<+t.value;if((n||i)&&(C(n,e.message,t.message),!r))return w(x[p].message),x}if(f&&!E&&Ob(v)){const{value:e,message:t}=ew(f);if(Kb(e)&&!v.match(e)&&(x[p]={type:Cb,message:t,ref:a,...S(Cb,t)},!r))return w(t),x}if(m)if($b(m)){const e=Zb(await m(v,n),b);if(e&&(x[p]={...e,...S(Ib,e.message)},!r))return w(e.message),x}else if(ib(m)){let e={};for(const t in m){if(!Ab(e)&&!r)break;const i=Zb(await m[t](v,n),b,t);i&&(e={...i,...S(t,i.message)},w(i.message),r&&(x[p]=e))}if(!Ab(e)&&(x[p]={ref:b,...e},!r))return x}return w(!0),x};function nw(e,t){const n=Array.isArray(t)?t:fb(t)?[t]:mb(t),r=1===n.length?e:function(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=ub(e)?r++:e[t[r++]];return e}(e,n),i=n.length-1,s=n[i];return r&&delete r[s],0!==i&&(ib(r)&&Ab(r)||Array.isArray(r)&&function(e){for(const t in e)if(e.hasOwnProperty(t)&&!ub(e[t]))return!1;return!0}(r))&&nw(e,n.slice(0,-1)),e}var rw=()=>{let e=[];return{get observers(){return e},next:t=>{for(const n of e)n.next&&n.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter((e=>e!==t))}}),unsubscribe:()=>{e=[]}}},iw=e=>nb(e)||!rb(e);function sw(e,t){if(iw(e)||iw(t))return e===t;if(tb(e)&&tb(t))return e.getTime()===t.getTime();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const i of n){const n=e[i];if(!r.includes(i))return!1;if("ref"!==i){const e=t[i];if(tb(n)&&tb(e)||ib(n)&&ib(e)||Array.isArray(n)&&Array.isArray(e)?!sw(n,e):n!==e)return!1}}return!0}var aw=e=>"select-multiple"===e.type,ow=e=>qb(e)&&e.isConnected,lw=e=>{for(const t in e)if($b(e[t]))return!0;return!1};function cw(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Array.isArray(e);if(ib(e)||n)for(const r in e)Array.isArray(e[r])||ib(e[r])&&!lw(e[r])?(t[r]=Array.isArray(e[r])?[]:{},cw(e[r],t[r])):nb(e[r])||(t[r]=!0);return t}function uw(e,t,n){const r=Array.isArray(e);if(ib(e)||r)for(const i in e)Array.isArray(e[i])||ib(e[i])&&!lw(e[i])?ub(t)||iw(n[i])?n[i]=Array.isArray(e[i])?cw(e[i],[]):{...cw(e[i])}:uw(e[i],nb(t)?{}:t[i],n[i]):n[i]=!sw(e[i],t[i]);return n}var dw=(e,t)=>uw(e,t,cw(t)),hw=(e,t)=>{let{valueAsNumber:n,valueAsDate:r,setValueAs:i}=t;return ub(e)?e:n?""===e?NaN:e?+e:e:r&&Ob(e)?new Date(e):i?i(e):e};function fw(e){const t=e.ref;return Bb(t)?t.files:Hb(t)?Jb(e.refs).value:aw(t)?[...t.selectedOptions].map((e=>{let{value:t}=e;return t})):eb(t)?Yb(e.refs).value:hw(ub(t.value)?e.ref.value:t.value,e)}var mw=e=>ub(e)?e:Kb(e)?e.source:ib(e)?Kb(e.value)?e.value.source:e.value:e;const pw="AsyncFunction";function gw(e,t,n){const r=db(e,n);if(r||fb(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const r=i.join("."),s=db(t,r),a=db(e,r);if(s&&!Array.isArray(s)&&n!==r)return{name:n};if(a&&a.type)return{name:r,error:a};i.pop()}return{name:n}}const yw={mode:wb,reValidateMode:bb,shouldFocusError:!0};function vw(){let e,t={...yw,...arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}},n={submitCount:0,isDirty:!1,isLoading:$b(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},i=(ib(t.defaultValues)||ib(t.values))&&lb(t.defaultValues||t.values)||{},s=t.shouldUnregister?{}:lb(i),a={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l=0;const c={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},u={values:rw(),array:rw(),state:rw()},d=Fb(t.mode),h=Fb(t.reValidateMode),f=t.criteriaMode===kb,m=async e=>{if(!t.disabled&&(c.isValid||e)){const e=t.resolver?Ab((await b()).errors):await w(r,!0);e!==n.isValid&&u.state.next({isValid:e})}},p=(e,r)=>{t.disabled||!c.isValidating&&!c.validatingFields||((e||Array.from(o.mount)).forEach((e=>{e&&(r?pb(n.validatingFields,e,r):nw(n.validatingFields,e))})),u.state.next({validatingFields:n.validatingFields,isValidating:!Ab(n.validatingFields)}))},g=(e,t,n,o)=>{const l=db(r,e);if(l){const r=db(s,e,ub(n)?db(i,e):n);ub(r)||o&&o.defaultChecked||t?pb(s,e,t?r:fw(l._f)):_(e,r),a.mount&&m()}},y=(e,s,a,o,l)=>{let d=!1,h=!1;const f={name:e};if(!t.disabled){const t=!!(db(r,e)&&db(r,e)._f&&db(r,e)._f.disabled);if(!a||o){c.isDirty&&(h=n.isDirty,n.isDirty=f.isDirty=x(),d=h!==f.isDirty);const r=t||sw(db(i,e),s);h=!(t||!db(n.dirtyFields,e)),r||t?nw(n.dirtyFields,e):pb(n.dirtyFields,e,!0),f.dirtyFields=n.dirtyFields,d=d||c.dirtyFields&&h!==!r}if(a){const t=db(n.touchedFields,e);t||(pb(n.touchedFields,e,a),f.touchedFields=n.touchedFields,d=d||c.touchedFields&&t!==a)}d&&l&&u.state.next(f)}return d?f:{}},v=(r,i,s,a)=>{const o=db(n.errors,r),d=c.isValid&&hb(i)&&n.isValid!==i;if(t.delayError&&s?(e=(e=>t=>{clearTimeout(l),l=setTimeout(e,t)})((()=>((e,t)=>{pb(n.errors,e,t),u.state.next({errors:n.errors})})(r,s))),e(t.delayError)):(clearTimeout(l),e=null,s?pb(n.errors,r,s):nw(n.errors,r)),(s?!sw(o,s):o)||!Ab(a)||d){const e={...a,...d&&hb(i)?{isValid:i}:{},errors:n.errors,name:r};n={...n,...e},u.state.next(e)}},b=async e=>{p(e,!0);const n=await t.resolver(s,t.context,((e,t,n,r)=>{const i={};for(const s of e){const e=db(t,s);e&&pb(i,s,e._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}})(e||o.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return p(e),n},w=async function(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{valid:!0};for(const l in e){const u=e[l];if(u){const{_f:e,...d}=u;if(e){const d=o.array.has(e.name),h=u._f&&(!!(a=u._f)&&!!a.validate&&!!($b(a.validate)&&a.validate.constructor.name===pw||ib(a.validate)&&Object.values(a.validate).find((e=>e.constructor.name===pw))));h&&c.validatingFields&&p([l],!0);const m=await tw(u,o.disabled,s,f,t.shouldUseNativeValidation&&!r,d);if(h&&c.validatingFields&&p([l]),m[e.name]&&(i.valid=!1,r))break;!r&&(db(m,e.name)?d?zb(n.errors,m,e.name):pb(n.errors,e.name,m[e.name]):nw(n.errors,e.name))}!Ab(d)&&await w(d,r,i)}}var a;return i.valid},x=(e,n)=>!t.disabled&&(e&&n&&pb(s,e,n),!sw(I(),i)),k=(e,t,n)=>Lb(e,o,{...a.mount?s:ub(t)?i:Ob(e)?{[e]:t}:t},n,t),_=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=db(r,e);let a=t;if(i){const n=i._f;n&&(!n.disabled&&pb(s,e,hw(t,n)),a=qb(n.ref)&&nb(t)?"":t,aw(n.ref)?[...n.ref.options].forEach((e=>e.selected=a.includes(e.value))):n.refs?eb(n.ref)?n.refs.length>1?n.refs.forEach((e=>(!e.defaultChecked||!e.disabled)&&(e.checked=Array.isArray(a)?!!a.find((t=>t===e.value)):a===e.value))):n.refs[0]&&(n.refs[0].checked=!!a):n.refs.forEach((e=>e.checked=e.value===a)):Bb(n.ref)?n.ref.value="":(n.ref.value=a,n.ref.type||u.values.next({name:e,values:{...s}})))}(n.shouldDirty||n.shouldTouch)&&y(e,a,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&T(e)},N=(e,t,n)=>{for(const i in t){const s=t[i],a=`${e}.${i}`,l=db(r,a);(o.array.has(e)||ib(s)||l&&!l._f)&&!tb(s)?N(a,s,n):_(a,s,n)}},E=function(e,t){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const d=db(r,e),h=o.array.has(e),f=lb(t);pb(s,e,f),h?(u.array.next({name:e,values:{...s}}),(c.isDirty||c.dirtyFields)&&l.shouldDirty&&u.state.next({name:e,dirtyFields:dw(i,s),isDirty:x(e,f)})):!d||d._f||nb(f)?_(e,f,l):N(e,f,l),Ub(e,o)&&u.state.next({...n}),u.values.next({name:a.mount?e:void 0,values:{...s}})},S=async i=>{a.mount=!0;const l=i.target;let g=l.name,x=!0;const k=db(r,g),_=e=>{x=Number.isNaN(e)||tb(e)&&isNaN(e.getTime())||sw(e,db(s,g,e))};if(k){let a,E;const S=l.type?fw(k._f):sb(i),C=i.type===gb||i.type===yb,I=!((N=k._f).mount&&(N.required||N.min||N.max||N.maxLength||N.minLength||N.pattern||N.validate))&&!t.resolver&&!db(n.errors,g)&&!k._f.deps||((e,t,n,r,i)=>!i.isOnAll&&(!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:!(n?r.isOnChange:i.isOnChange)||e))(C,db(n.touchedFields,g),n.isSubmitted,h,d),j=Ub(g,o,C);pb(s,g,S),C?(k._f.onBlur&&k._f.onBlur(i),e&&e(0)):k._f.onChange&&k._f.onChange(i);const A=y(g,S,C,!1),P=!Ab(A)||j;if(!C&&u.values.next({name:g,type:i.type,values:{...s}}),I)return c.isValid&&("onBlur"===t.mode&&C?m():C||m()),P&&u.state.next({name:g,...j?{}:A});if(!C&&j&&u.state.next({...n}),t.resolver){const{errors:e}=await b([g]);if(_(S),x){const t=gw(n.errors,r,g),i=gw(e,r,t.name||g);a=i.error,g=i.name,E=Ab(e)}}else p([g],!0),a=(await tw(k,o.disabled,s,f,t.shouldUseNativeValidation))[g],p([g]),_(S),x&&(a?E=!1:c.isValid&&(E=await w(r,!0)));x&&(k._f.deps&&T(k._f.deps),v(g,E,a,A))}var N},C=(e,t)=>{if(db(n.errors,t)&&e.focus)return e.focus(),1},T=async function(e){let i,s,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const l=Rb(e);if(t.resolver){const t=await(async e=>{const{errors:t}=await b(e);if(e)for(const r of e){const e=db(t,r);e?pb(n.errors,r,e):nw(n.errors,r)}else n.errors=t;return t})(ub(e)?e:l);i=Ab(t),s=e?!l.some((e=>db(t,e))):i}else e?(s=(await Promise.all(l.map((async e=>{const t=db(r,e);return await w(t&&t._f?{[e]:t}:t)})))).every(Boolean),(s||n.isValid)&&m()):s=i=await w(r);return u.state.next({...!Ob(e)||c.isValid&&i!==n.isValid?{}:{name:e},...t.resolver||!e?{isValid:i}:{},errors:n.errors}),a.shouldFocus&&!s&&Vb(r,C,e?l:o.mount),s},I=e=>{const t={...a.mount?s:i};return ub(e)?t:Ob(e)?db(t,e):e.map((e=>db(t,e)))},j=(e,t)=>({invalid:!!db((t||n).errors,e),isDirty:!!db((t||n).dirtyFields,e),error:db((t||n).errors,e),isValidating:!!db(n.validatingFields,e),isTouched:!!db((t||n).touchedFields,e)}),A=(e,t,i)=>{const s=(db(r,e,{_f:{}})._f||{}).ref,a=db(n.errors,e)||{},{ref:o,message:l,type:c,...d}=a;pb(n.errors,e,{...d,...t,ref:s}),u.state.next({name:e,errors:n.errors,isValid:!1}),i&&i.shouldFocus&&s&&s.focus&&s.focus()},P=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(const l of e?Rb(e):o.mount)o.mount.delete(l),o.array.delete(l),a.keepValue||(nw(r,l),nw(s,l)),!a.keepError&&nw(n.errors,l),!a.keepDirty&&nw(n.dirtyFields,l),!a.keepTouched&&nw(n.touchedFields,l),!a.keepIsValidating&&nw(n.validatingFields,l),!t.shouldUnregister&&!a.keepDefaultValue&&nw(i,l);u.values.next({values:{...s}}),u.state.next({...n,...a.keepDirty?{isDirty:x()}:{}}),!a.keepIsValid&&m()},R=e=>{let{disabled:t,name:n,field:r,fields:i}=e;(hb(t)&&a.mount||t||o.disabled.has(n))&&(t?o.disabled.add(n):o.disabled.delete(n),y(n,fw(r?r._f:db(i,n)._f),!1,!1,!0))},D=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=db(r,e);const l=hb(n.disabled)||hb(t.disabled);return pb(r,e,{...s||{},_f:{...s&&s._f?s._f:{ref:{name:e}},name:e,mount:!0,...n}}),o.mount.add(e),s?R({field:s,disabled:hb(n.disabled)?n.disabled:t.disabled,name:e}):g(e,!0,n.value),{...l?{disabled:n.disabled||t.disabled}:{},...t.progressive?{required:!!n.required,min:mw(n.min),max:mw(n.max),minLength:mw(n.minLength),maxLength:mw(n.maxLength),pattern:mw(n.pattern)}:{},name:e,onChange:S,onBlur:S,ref:l=>{if(l){D(e,n),s=db(r,e);const t=ub(l.value)&&l.querySelectorAll&&l.querySelectorAll("input,select,textarea")[0]||l,a=(e=>Hb(e)||eb(e))(t),o=s._f.refs||[];if(a?o.find((e=>e===t)):t===s._f.ref)return;pb(r,e,{_f:{...s._f,...a?{refs:[...o.filter(ow),t,...Array.isArray(db(i,e))?[{}]:[]],ref:{type:t.type,name:e}}:{ref:t}}}),g(e,!1,void 0,t)}else s=db(r,e,{}),s._f&&(s._f.mount=!1),(t.shouldUnregister||n.shouldUnregister)&&(!ab(o.array,e)||!a.action)&&o.unMount.add(e)}}},O=()=>t.shouldFocusError&&Vb(r,C,o.mount),L=(e,i)=>async a=>{let l;a&&(a.preventDefault&&a.preventDefault(),a.persist&&a.persist());let c=lb(s);if(o.disabled.size)for(const e of o.disabled)pb(c,e,void 0);if(u.state.next({isSubmitting:!0}),t.resolver){const{errors:e,values:t}=await b();n.errors=e,c=t}else await w(r);if(nw(n.errors,"root"),Ab(n.errors)){u.state.next({errors:{}});try{await e(c,a)}catch(d){l=d}}else i&&await i({...n.errors},a),O(),setTimeout(O);if(u.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ab(n.errors)&&!l,submitCount:n.submitCount+1,errors:n.errors}),l)throw l},M=function(e){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const d=e?lb(e):i,h=lb(d),f=Ab(e),m=f?i:h;if(l.keepDefaultValues||(i=d),!l.keepValues){if(l.keepDirtyValues){const e=new Set([...o.mount,...Object.keys(dw(i,s))]);for(const t of Array.from(e))db(n.dirtyFields,t)?pb(m,t,db(s,t)):E(t,db(m,t))}else{if(ob&&ub(e))for(const e of o.mount){const t=db(r,e);if(t&&t._f){const e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(qb(e)){const t=e.closest("form");if(t){t.reset();break}}}}r={}}s=t.shouldUnregister?l.keepDefaultValues?lb(i):{}:lb(m),u.array.next({values:{...m}}),u.values.next({values:{...m}})}o={mount:l.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!c.isValid||!!l.keepIsValid||!!l.keepDirtyValues,a.watch=!!t.shouldUnregister,u.state.next({submitCount:l.keepSubmitCount?n.submitCount:0,isDirty:!f&&(l.keepDirty?n.isDirty:!(!l.keepDefaultValues||sw(e,i))),isSubmitted:!!l.keepIsSubmitted&&n.isSubmitted,dirtyFields:f?{}:l.keepDirtyValues?l.keepDefaultValues&&s?dw(i,s):n.dirtyFields:l.keepDefaultValues&&e?dw(i,e):l.keepDirty?n.dirtyFields:{},touchedFields:l.keepTouched?n.touchedFields:{},errors:l.keepErrors?n.errors:{},isSubmitSuccessful:!!l.keepIsSubmitSuccessful&&n.isSubmitSuccessful,isSubmitting:!1})},F=(e,t)=>M($b(e)?e(s):e,t);return{control:{register:D,unregister:P,getFieldState:j,handleSubmit:L,setError:A,_executeSchema:b,_getWatch:k,_getDirty:x,_updateValid:m,_removeUnmounted:()=>{for(const e of o.unMount){const t=db(r,e);t&&(t._f.refs?t._f.refs.every((e=>!ow(e))):!ow(t._f.ref))&&P(e)}o.unMount=new Set},_updateFieldArray:function(e){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],l=arguments.length>2?arguments[2]:void 0,d=arguments.length>3?arguments[3]:void 0,h=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],f=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(d&&l&&!t.disabled){if(a.action=!0,f&&Array.isArray(db(r,e))){const t=l(db(r,e),d.argA,d.argB);h&&pb(r,e,t)}if(f&&Array.isArray(db(n.errors,e))){const t=l(db(n.errors,e),d.argA,d.argB);h&&pb(n.errors,e,t),((e,t)=>{!cb(db(e,t)).length&&nw(e,t)})(n.errors,e)}if(c.touchedFields&&f&&Array.isArray(db(n.touchedFields,e))){const t=l(db(n.touchedFields,e),d.argA,d.argB);h&&pb(n.touchedFields,e,t)}c.dirtyFields&&(n.dirtyFields=dw(i,s)),u.state.next({name:e,isDirty:x(e,o),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else pb(s,e,o)},_updateDisabledField:R,_getFieldArray:e=>cb(db(a.mount?s:i,e,t.shouldUnregister?db(i,e,[]):[])),_reset:M,_resetDefaultValues:()=>$b(t.defaultValues)&&t.defaultValues().then((e=>{F(e,t.resetOptions),u.state.next({isLoading:!1})})),_updateFormState:e=>{n={...n,...e}},_disableForm:e=>{hb(e)&&(u.state.next({disabled:e}),Vb(r,((t,n)=>{const i=db(r,n);i&&(t.disabled=i._f.disabled||e,Array.isArray(i._f.refs)&&i._f.refs.forEach((t=>{t.disabled=i._f.disabled||e})))}),0,!1))},_subjects:u,_proxyFormState:c,_setErrors:e=>{n.errors=e,u.state.next({errors:n.errors,isValid:!1})},get _fields(){return r},get _formValues(){return s},get _state(){return a},set _state(e){a=e},get _defaultValues(){return i},get _names(){return o},set _names(e){o=e},get _formState(){return n},set _formState(e){n=e},get _options(){return t},set _options(e){t={...t,...e}}},trigger:T,register:D,handleSubmit:L,watch:(e,t)=>$b(e)?u.values.subscribe({next:n=>e(k(void 0,t),n)}):k(e,t,!0),setValue:E,getValues:I,reset:F,resetField:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};db(r,e)&&(ub(t.defaultValue)?E(e,lb(db(i,e))):(E(e,t.defaultValue),pb(i,e,lb(t.defaultValue))),t.keepTouched||nw(n.touchedFields,e),t.keepDirty||(nw(n.dirtyFields,e),n.isDirty=t.defaultValue?x(e,lb(db(i,e))):x()),t.keepError||(nw(n.errors,e),c.isValid&&m()),u.state.next({...n}))},clearErrors:e=>{e&&Rb(e).forEach((e=>nw(n.errors,e))),u.state.next({errors:e?n.errors:{}})},unregister:P,setError:A,setFocus:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=db(r,e),i=n&&n._f;if(i){const e=i.refs?i.refs[0]:i.ref;e.focus&&(e.focus(),t.shouldSelect&&$b(e.select)&&e.select())}},getFieldState:j}}function bw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=i.useRef(void 0),n=i.useRef(void 0),[r,s]=i.useState({isDirty:!1,isValidating:!1,isLoading:$b(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:$b(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...vw(e),formState:r});const a=t.current.control;return a._options=e,Db({subject:a._subjects.state,next:e=>{Pb(e,a._proxyFormState,a._updateFormState,!0)&&s({...a._formState})}}),i.useEffect((()=>a._disableForm(e.disabled)),[a,e.disabled]),i.useEffect((()=>{if(a._proxyFormState.isDirty){const e=a._getDirty();e!==r.isDirty&&a._subjects.state.next({isDirty:e})}}),[a,r.isDirty]),i.useEffect((()=>{e.values&&!sw(e.values,n.current)?(a._reset(e.values,a._options.resetOptions),n.current=e.values,s((e=>({...e})))):a._resetDefaultValues()}),[e.values,a]),i.useEffect((()=>{e.errors&&a._setErrors(e.errors)}),[e.errors,a]),i.useEffect((()=>{a._state.mount||(a._updateValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()})),i.useEffect((()=>{e.shouldUnregister&&a._subjects.values.next({values:a._getWatch()})}),[e.shouldUnregister,a]),t.current.formState=jb(r,a),t.current}function ww(e,t){let{title:n,titleId:r,...s}=e;return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},s),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const xw=i.forwardRef(ww);function kw(e,t){let{title:n,titleId:r,...s}=e;return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},s),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const _w=i.forwardRef(kw),Nw=()=>{var e,t;const{login:n}=fg(),r=ee(),s=J(),[a,o]=(0,i.useState)(!1),[l,c]=(0,i.useState)(""),[u,d]=(0,i.useState)(!1),[h,f]=(0,i.useState)(!1),[m,p]=(0,i.useState)((()=>{const e=localStorage.getItem("darkMode");return null===e||"true"===e}));(0,i.useEffect)((()=>{localStorage.setItem("darkMode",m),document.documentElement.classList.toggle("dark",m)}),[m]);const{register:g,handleSubmit:y,formState:{errors:v}}=bw(),b=(null===(e=s.state)||void 0===e||null===(t=e.from)||void 0===t?void 0:t.pathname)||"/";return(0,dg.jsx)("div",{className:"max-w-md mx-auto",children:(0,dg.jsxs)("div",{className:"bg-dark-700 rounded-lg shadow-lg p-6",children:[(0,dg.jsx)("h1",{className:"text-2xl font-bold text-white mb-6 text-center",children:"Sign In"}),l&&(0,dg.jsx)("div",{className:(u?"bg-yellow-500 bg-opacity-20 border border-yellow-500 text-yellow-500":"bg-red-500 bg-opacity-20 border border-red-500 text-red-500")+" px-4 py-3 rounded mb-4",children:u?(0,dg.jsxs)("div",{className:"flex items-start",children:[(0,dg.jsx)(xw,{className:"h-5 w-5 mr-2 mt-0.5 flex-shrink-0"}),(0,dg.jsxs)("div",{children:[(0,dg.jsx)("p",{className:"font-medium",children:l}),(0,dg.jsx)("p",{className:"text-sm mt-1",children:"Your account has been deactivated by an administrator. Please contact support for assistance."})]})]}):l}),(0,dg.jsxs)("form",{onSubmit:y((async e=>{o(!0),c(""),d(!1);try{await n(e.email,e.password),r(b,{replace:!0})}catch(l){console.error("Error during login:",l),"auth/user-not-found"===l.code||"auth/wrong-password"===l.code?c("Incorrect email or password."):"auth/too-many-requests"===l.code?c("Too many failed login attempts. Please try again later."):l.message&&l.message.includes("devre d\u0131\u015f\u0131 b\u0131rak\u0131lm\u0131\u015ft\u0131r")?(d(!0),c("Account is inactive. Please contact support.")):c("An error occurred during login. Please try again.")}finally{o(!1)}})),children:[(0,dg.jsxs)("div",{className:"mb-4",children:[(0,dg.jsx)("label",{htmlFor:"email",className:"block text-gray-300 mb-2",children:"Email"}),(0,dg.jsx)("input",{id:"email",type:"email",className:"w-full py-2 px-3 bg-dark-800 border border-dark-600 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 text-white",placeholder:"Your email address",...g("email",{required:"Email address is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Please enter a valid email address"}})}),v.email&&(0,dg.jsx)("p",{className:"text-red-500 text-sm mt-1",children:v.email.message})]}),(0,dg.jsxs)("div",{className:"mb-6",children:[(0,dg.jsx)("label",{htmlFor:"password",className:"block text-gray-300 mb-2",children:"Password"}),(0,dg.jsxs)("div",{className:"relative",children:[(0,dg.jsx)("input",{id:"password",type:h?"text":"password",className:"w-full py-2 px-3 bg-dark-800 border border-dark-600 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 text-white pr-10",placeholder:"Your password",...g("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}})}),(0,dg.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-white",onClick:()=>f(!h),children:h?(0,dg.jsx)(_w,{className:"h-5 w-5"}):(0,dg.jsx)(py,{className:"h-5 w-5"})})]}),v.password&&(0,dg.jsx)("p",{className:"text-red-500 text-sm mt-1",children:v.password.message})]}),(0,dg.jsx)("button",{type:"submit",className:"w-full bg-primary-600 hover:bg-primary-700 text-white py-3 rounded-md font-medium",disabled:a,children:a?(0,dg.jsxs)("span",{className:"flex items-center justify-center",children:[(0,dg.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,dg.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,dg.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing In..."]}):"Sign In"})]}),(0,dg.jsx)("div",{className:"mt-4 text-center",children:(0,dg.jsxs)("p",{className:"text-gray-400",children:["Don't have an account? ",(0,dg.jsx)(Ig,{to:"/register",className:"text-primary-500 hover:text-primary-400",children:"Register"})]})})]})})},Ew=()=>{const{register:e}=fg(),t=ee(),[n,r]=(0,i.useState)(!1),[s,a]=(0,i.useState)(""),[o,l]=(0,i.useState)(!1),[c,u]=(0,i.useState)(!1),{register:d,handleSubmit:h,watch:f,formState:{errors:m}}=bw(),p=f("password","");return(0,dg.jsx)("div",{className:"max-w-md mx-auto",children:(0,dg.jsxs)("div",{className:"bg-dark-700 rounded-lg shadow-lg p-6",children:[(0,dg.jsx)("h1",{className:"text-2xl font-bold text-white mb-6 text-center",children:"Kay\u0131t Ol"}),s&&(0,dg.jsx)("div",{className:"bg-red-500 bg-opacity-20 border border-red-500 text-red-500 px-4 py-3 rounded mb-4",children:s}),(0,dg.jsxs)("form",{onSubmit:h((async n=>{r(!0),a("");try{await e(n.email,n.password,n.displayName),t("/")}catch(s){console.error("Kay\u0131t olurken hata olu\u015ftu:",s),"auth/email-already-in-use"===s.code?a("Bu e-posta adresi zaten kullan\u0131l\u0131yor."):"auth/invalid-email"===s.code?a("Ge\xe7ersiz e-posta adresi."):"auth/weak-password"===s.code?a("\u015eifre \xe7ok zay\u0131f. L\xfctfen daha g\xfc\xe7l\xfc bir \u015fifre se\xe7in."):a("Kay\u0131t olurken bir hata olu\u015ftu. L\xfctfen tekrar deneyin.")}finally{r(!1)}})),children:[(0,dg.jsxs)("div",{className:"mb-4",children:[(0,dg.jsx)("label",{htmlFor:"displayName",className:"block text-gray-300 mb-2",children:"Kullan\u0131c\u0131 Ad\u0131"}),(0,dg.jsx)("input",{id:"displayName",type:"text",className:"input",placeholder:"Kullan\u0131c\u0131 ad\u0131n\u0131z",...d("displayName",{required:"Kullan\u0131c\u0131 ad\u0131 gereklidir",minLength:{value:3,message:"Kullan\u0131c\u0131 ad\u0131 en az 3 karakter olmal\u0131d\u0131r"}})}),m.displayName&&(0,dg.jsx)("p",{className:"text-red-500 text-sm mt-1",children:m.displayName.message})]}),(0,dg.jsxs)("div",{className:"mb-4",children:[(0,dg.jsx)("label",{htmlFor:"email",className:"block text-gray-300 mb-2",children:"E-posta"}),(0,dg.jsx)("input",{id:"email",type:"email",className:"input",placeholder:"E-posta adresiniz",...d("email",{required:"E-posta adresi gereklidir",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Ge\xe7erli bir e-posta adresi giriniz"}})}),m.email&&(0,dg.jsx)("p",{className:"text-red-500 text-sm mt-1",children:m.email.message})]}),(0,dg.jsxs)("div",{className:"mb-4",children:[(0,dg.jsx)("label",{htmlFor:"password",className:"block text-gray-300 mb-2",children:"\u015eifre"}),(0,dg.jsxs)("div",{className:"relative",children:[(0,dg.jsx)("input",{id:"password",type:o?"text":"password",className:"input pr-10",placeholder:"\u015eifreniz",...d("password",{required:"\u015eifre gereklidir",minLength:{value:8,message:"\u015eifre en az 8 karakter olmal\u0131d\u0131r"}})}),(0,dg.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-white",onClick:()=>l(!o),children:o?(0,dg.jsx)(_w,{className:"h-5 w-5"}):(0,dg.jsx)(py,{className:"h-5 w-5"})})]}),m.password&&(0,dg.jsx)("p",{className:"text-red-500 text-sm mt-1",children:m.password.message})]}),(0,dg.jsxs)("div",{className:"mb-6",children:[(0,dg.jsx)("label",{htmlFor:"confirmPassword",className:"block text-gray-300 mb-2",children:"\u015eifre Tekrar"}),(0,dg.jsxs)("div",{className:"relative",children:[(0,dg.jsx)("input",{id:"confirmPassword",type:c?"text":"password",className:"input pr-10",placeholder:"\u015eifrenizi tekrar girin",...d("confirmPassword",{required:"\u015eifre tekrar\u0131 gereklidir",validate:e=>e===p||"\u015eifreler e\u015fle\u015fmiyor"})}),(0,dg.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-white",onClick:()=>u(!c),children:c?(0,dg.jsx)(_w,{className:"h-5 w-5"}):(0,dg.jsx)(py,{className:"h-5 w-5"})})]}),m.confirmPassword&&(0,dg.jsx)("p",{className:"text-red-500 text-sm mt-1",children:m.confirmPassword.message})]}),(0,dg.jsx)("button",{type:"submit",className:"w-full btn btn-primary py-3",disabled:n,children:n?(0,dg.jsxs)("span",{className:"flex items-center justify-center",children:[(0,dg.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,dg.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,dg.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Kay\u0131t Olunuyor..."]}):"Kay\u0131t Ol"})]}),(0,dg.jsx)("div",{className:"mt-4 text-center",children:(0,dg.jsxs)("p",{className:"text-gray-400",children:["Zaten hesab\u0131n\u0131z var m\u0131? ",(0,dg.jsx)(Ig,{to:"/login",className:"text-primary-500 hover:text-primary-400",children:"Giri\u015f Yap"})]})})]})})};function Sw(e,t){let{title:n,titleId:r,...s}=e;return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},s),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const Cw=i.forwardRef(Sw),Tw=()=>{const{currentUser:e,logout:t,resetPassword:n}=fg(),[r,s]=(0,i.useState)(!0),[a,o]=(0,i.useState)(null),[l,c]=(0,i.useState)([]),[u,d]=(0,i.useState)("profile"),[h,f]=(0,i.useState)(!1),[m,p]=(0,i.useState)(""),[g,y]=(0,i.useState)(""),[v,b]=(0,i.useState)(!1),[w,x]=(0,i.useState)(""),k=ee(),{register:_,handleSubmit:N,formState:{errors:E},setValue:S,watch:C}=bw(),T=C("password","");(0,i.useEffect)((()=>{(async()=>{s(!0);try{const t=await Cm(xf(cg,"users",e.uid));t.exists()&&(o(t.data()),S("displayName",t.data().displayName||""))}catch(m){console.error("Kullan\u0131c\u0131 verileri getirilirken hata olu\u015ftu:",m),p("Kullan\u0131c\u0131 verileri getirilirken bir hata olu\u015ftu.")}finally{s(!1)}})()}),[e,S]),(0,i.useEffect)((()=>{(async()=>{if(a&&a.featured&&0!==a.featured.length)try{const e=[];for(const t of a.featured){const n=await Cm(xf(cg,"videos",t));n.exists()&&e.push({id:n.id,...n.data()})}c(e)}catch(m){console.error("\xd6ne \xe7\u0131kan videolar getirilirken hata olu\u015ftu:",m)}else c([])})()}),[a]);return r?(0,dg.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,dg.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"})}):(0,dg.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,dg.jsx)("h1",{className:"text-2xl font-bold text-white mb-6",children:"Profil"}),m&&(0,dg.jsx)("div",{className:"bg-red-500 bg-opacity-20 border border-red-500 text-red-500 px-4 py-3 rounded mb-4",children:m}),g&&(0,dg.jsx)("div",{className:"bg-green-500 bg-opacity-20 border border-green-500 text-green-500 px-4 py-3 rounded mb-4",children:g}),(0,dg.jsxs)("div",{className:"bg-dark-700 rounded-lg overflow-hidden",children:[(0,dg.jsxs)("div",{className:"flex border-b border-dark-600",children:[(0,dg.jsx)("button",{className:"px-4 py-3 font-medium "+("profile"===u?"text-primary-500 border-b-2 border-primary-500":"text-gray-400 hover:text-white"),onClick:()=>d("profile"),children:"Profil"}),(0,dg.jsx)("button",{className:"px-4 py-3 font-medium "+("security"===u?"text-primary-500 border-b-2 border-primary-500":"text-gray-400 hover:text-white"),onClick:()=>d("security"),children:"G\xfcvenlik"}),(0,dg.jsx)("button",{className:"px-4 py-3 font-medium "+("featured"===u?"text-primary-500 border-b-2 border-primary-500":"text-gray-400 hover:text-white"),onClick:()=>d("featured"),children:"Favoriler"})]}),"profile"===u&&(0,dg.jsxs)("div",{className:"p-6",children:[(0,dg.jsxs)("div",{className:"flex items-center mb-6",children:[(0,dg.jsx)(Rv,{className:"w-16 h-16 text-gray-400 mr-4"}),(0,dg.jsxs)("div",{children:[(0,dg.jsx)("h2",{className:"text-xl font-semibold text-white",children:(null===a||void 0===a?void 0:a.displayName)||"Kullan\u0131c\u0131"}),(0,dg.jsx)("p",{className:"text-gray-400",children:e.email})]})]}),(0,dg.jsxs)("form",{onSubmit:N((async t=>{p(""),y("");try{await Am(xf(cg,"users",e.uid),{displayName:t.displayName}),y("Profil ba\u015far\u0131yla g\xfcncellendi.")}catch(m){console.error("Profil g\xfcncellenirken hata olu\u015ftu:",m),p("Profil g\xfcncellenirken bir hata olu\u015ftu.")}})),children:[(0,dg.jsxs)("div",{className:"mb-4",children:[(0,dg.jsx)("label",{htmlFor:"displayName",className:"block text-gray-300 mb-2",children:"Kullan\u0131c\u0131 Ad\u0131"}),(0,dg.jsx)("input",{id:"displayName",type:"text",className:"w-full py-2 px-3 bg-dark-800 border border-dark-600 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 text-white",..._("displayName",{required:"Kullan\u0131c\u0131 ad\u0131 gereklidir",minLength:{value:3,message:"Kullan\u0131c\u0131 ad\u0131 en az 3 karakter olmal\u0131d\u0131r"}})}),E.displayName&&(0,dg.jsx)("p",{className:"text-red-500 text-sm mt-1",children:E.displayName.message})]}),(0,dg.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[(0,dg.jsx)("button",{type:"submit",className:"bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-md mb-4 md:mb-0",children:"Profili G\xfcncelle"}),(0,dg.jsx)("button",{type:"button",onClick:async()=>{try{await t(),k("/")}catch(m){console.error("\xc7\u0131k\u0131\u015f yap\u0131l\u0131rken hata olu\u015ftu:",m),p("\xc7\u0131k\u0131\u015f yap\u0131l\u0131rken bir hata olu\u015ftu.")}},className:"bg-dark-600 hover:bg-dark-500 text-white px-4 py-2 rounded-md",children:"\xc7\u0131k\u0131\u015f Yap"})]})]})]}),"security"===u&&(0,dg.jsxs)("div",{className:"p-6",children:[(0,dg.jsx)("h2",{className:"text-xl font-semibold text-white mb-4",children:"\u015eifre De\u011fi\u015ftir"}),(0,dg.jsxs)("form",{onSubmit:N((async t=>{p(""),y("");try{await e.updatePassword(t.password),y("\u015eifreniz ba\u015far\u0131yla g\xfcncellendi."),S("password",""),S("confirmPassword","")}catch(m){console.error("\u015eifre g\xfcncellenirken hata olu\u015ftu:",m),p("\u015eifre g\xfcncellenirken bir hata olu\u015ftu. L\xfctfen yak\u0131n zamanda giri\u015f yapt\u0131\u011f\u0131n\u0131zdan emin olun.")}})),className:"mb-8",children:[(0,dg.jsxs)("div",{className:"mb-4",children:[(0,dg.jsx)("label",{htmlFor:"password",className:"block text-gray-300 mb-2",children:"Yeni \u015eifre"}),(0,dg.jsx)("input",{id:"password",type:"password",className:"w-full py-2 px-3 bg-dark-800 border border-dark-600 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 text-white",..._("password",{required:"\u015eifre gereklidir",minLength:{value:6,message:"\u015eifre en az 6 karakter olmal\u0131d\u0131r"}})}),E.password&&(0,dg.jsx)("p",{className:"text-red-500 text-sm mt-1",children:E.password.message})]}),(0,dg.jsxs)("div",{className:"mb-4",children:[(0,dg.jsx)("label",{htmlFor:"confirmPassword",className:"block text-gray-300 mb-2",children:"\u015eifreyi Onayla"}),(0,dg.jsx)("input",{id:"confirmPassword",type:"password",className:"w-full py-2 px-3 bg-dark-800 border border-dark-600 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 text-white",..._("confirmPassword",{required:"\u015eifre onay\u0131 gereklidir",validate:e=>e===T||"\u015eifreler e\u015fle\u015fmiyor"})}),E.confirmPassword&&(0,dg.jsx)("p",{className:"text-red-500 text-sm mt-1",children:E.confirmPassword.message})]}),(0,dg.jsxs)("div",{className:"flex items-center justify-between",children:[(0,dg.jsx)("button",{type:"submit",className:"bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-md",children:"\u015eifreyi G\xfcncelle"}),(0,dg.jsx)("button",{type:"button",onClick:async()=>{p(""),y(""),f(!1);try{await n(e.email),f(!0),y("\u015eifre s\u0131f\u0131rlama ba\u011flant\u0131s\u0131 e-posta adresinize g\xf6nderildi.")}catch(m){console.error("\u015eifre s\u0131f\u0131rlama e-postas\u0131 g\xf6nderilirken hata olu\u015ftu:",m),p("\u015eifre s\u0131f\u0131rlama e-postas\u0131 g\xf6nderilirken bir hata olu\u015ftu.")}},className:"text-primary-500 hover:text-primary-400",children:"\u015eifremi Unuttum"})]})]}),(0,dg.jsxs)("div",{className:"border-t border-dark-600 pt-6",children:[(0,dg.jsx)("h2",{className:"text-xl font-semibold text-white mb-4",children:"Hesab\u0131 Devre D\u0131\u015f\u0131 B\u0131rak"}),(0,dg.jsx)("p",{className:"text-gray-400 mb-4",children:"Hesab\u0131n\u0131z\u0131 devre d\u0131\u015f\u0131 b\u0131rakt\u0131\u011f\u0131n\u0131zda, t\xfcm verileriniz korunacak ancak hesab\u0131n\u0131za eri\u015fiminiz olmayacakt\u0131r. Daha sonra tekrar giri\u015f yapmak isterseniz, y\xf6netici ile ileti\u015fime ge\xe7meniz gerekecektir."}),(0,dg.jsxs)("button",{type:"button",onClick:()=>b(!0),className:"flex items-center bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-md",children:[(0,dg.jsx)(Ov,{className:"w-5 h-5 mr-2"}),"Hesab\u0131m\u0131 Devre D\u0131\u015f\u0131 B\u0131rak"]})]})]}),"featured"===u&&(0,dg.jsxs)("div",{className:"p-6",children:[(0,dg.jsx)("h2",{className:"text-xl font-semibold text-white mb-4",children:"Favori Videolar\u0131m"}),l.length>0?(0,dg.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map((t=>(0,dg.jsxs)("div",{className:"relative",children:[(0,dg.jsx)(gy,{video:t}),(0,dg.jsx)("button",{onClick:()=>(async t=>{try{await Am(xf(cg,"users",e.uid),{featured:Fm(t)});const n=await Cm(xf(cg,"users",e.uid));n.exists()&&o(n.data()),c(l.filter((e=>e.id!==t))),y("Video favorilerden kald\u0131r\u0131ld\u0131.")}catch(m){console.error("Video favorilerden kald\u0131r\u0131l\u0131rken hata olu\u015ftu:",m),p("Video favorilerden kald\u0131r\u0131l\u0131rken bir hata olu\u015ftu.")}})(t.id),className:"absolute top-2 right-2 bg-red-600 hover:bg-red-700 text-white p-1 rounded-full",title:"Favorilerden Kald\u0131r",children:(0,dg.jsx)(Ov,{className:"w-4 h-4"})})]},t.id)))}):(0,dg.jsx)("p",{className:"text-gray-400",children:"Hen\xfcz favori videonuz bulunmamaktad\u0131r."})]})]}),v&&(0,dg.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:(0,dg.jsxs)("div",{className:"bg-dark-700 rounded-lg max-w-md w-full p-6",children:[(0,dg.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,dg.jsx)("h3",{className:"text-xl font-bold text-white",children:"Hesab\u0131 Devre D\u0131\u015f\u0131 B\u0131rak"}),(0,dg.jsx)("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-white",children:(0,dg.jsx)(Cw,{className:"w-6 h-6"})})]}),(0,dg.jsxs)("div",{className:"mb-4",children:[(0,dg.jsxs)("div",{className:"flex items-center bg-red-500 bg-opacity-20 text-red-500 p-3 rounded-md mb-4",children:[(0,dg.jsx)(xw,{className:"w-6 h-6 mr-2 flex-shrink-0"}),(0,dg.jsx)("p",{children:"Bu i\u015flem geri al\u0131namaz. Hesab\u0131n\u0131z devre d\u0131\u015f\u0131 b\u0131rak\u0131ld\u0131ktan sonra, tekrar eri\u015fim i\xe7in y\xf6netici ile ileti\u015fime ge\xe7meniz gerekecektir."})]}),(0,dg.jsx)("p",{className:"text-gray-300 mb-4",children:"Hesab\u0131n\u0131z\u0131 devre d\u0131\u015f\u0131 b\u0131rakmak istedi\u011finizi onaylamak i\xe7in, l\xfctfen e-posta adresinizi a\u015fa\u011f\u0131ya yaz\u0131n:"}),(0,dg.jsx)("input",{type:"email",className:"w-full py-2 px-3 bg-dark-800 border border-dark-600 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 text-white mb-4",placeholder:e.email,value:w,onChange:e=>x(e.target.value)})]}),(0,dg.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,dg.jsx)("button",{onClick:()=>b(!1),className:"bg-dark-600 hover:bg-dark-500 text-white px-4 py-2 rounded-md",children:"\u0130ptal"}),(0,dg.jsx)("button",{onClick:async()=>{if(w===e.email)try{await Am(xf(cg,"users",e.uid),{status:"inactive",deactivatedAt:new Date}),await t(),k("/")}catch(m){console.error("Hesap devre d\u0131\u015f\u0131 b\u0131rak\u0131l\u0131rken hata olu\u015ftu:",m),p("Hesab\u0131n\u0131z devre d\u0131\u015f\u0131 b\u0131rak\u0131l\u0131rken bir hata olu\u015ftu."),b(!1)}else p("Hesab\u0131n\u0131z\u0131 devre d\u0131\u015f\u0131 b\u0131rakmak i\xe7in e-posta adresinizi do\u011fru girmelisiniz.")},className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-md",disabled:w!==e.email,children:"Hesab\u0131m\u0131 Devre D\u0131\u015f\u0131 B\u0131rak"})]})]})})]})},Iw=()=>(0,dg.jsxs)("div",{className:"flex flex-col items-center justify-center py-16",children:[(0,dg.jsx)("h1",{className:"text-6xl font-bold text-primary-500 mb-4",children:"404"}),(0,dg.jsx)("h2",{className:"text-2xl font-semibold text-white mb-6",children:"Sayfa Bulunamad\u0131"}),(0,dg.jsx)("p",{className:"text-gray-400 text-center max-w-md mb-8",children:"Arad\u0131\u011f\u0131n\u0131z sayfa mevcut de\u011fil veya kald\u0131r\u0131lm\u0131\u015f olabilir. L\xfctfen ana sayfaya d\xf6n\xfcn veya ba\u015fka bir sayfa deneyin."}),(0,dg.jsx)(Ig,{to:"/",className:"px-6 py-3 bg-primary-600 hover:bg-primary-700 text-white rounded-md transition-colors",children:"Ana Sayfaya D\xf6n"})]}),jw=()=>{const{adminLogin:e}=fg(),t=ee(),[n,r]=(0,i.useState)(!1),[s,a]=(0,i.useState)(""),[o,l]=(0,i.useState)(!1),[c,u]=(0,i.useState)(!1),[d,h]=(0,i.useState)(!1),[f,m]=(0,i.useState)((()=>{const e=localStorage.getItem("darkMode");return null===e||"true"===e}));(0,i.useEffect)((()=>{localStorage.setItem("darkMode",f),document.documentElement.classList.toggle("dark",f)}),[f]);const{register:p,handleSubmit:g,formState:{errors:y}}=bw();return(0,dg.jsxs)("div",{className:"flex h-screen "+(f?"bg-[#0c1226]":"bg-gray-100"),children:[(0,dg.jsx)("div",{className:`w-full lg:w-1/2 flex items-center justify-center ${f?"bg-[#0c1226]":"bg-white"} p-8`,children:(0,dg.jsxs)("div",{className:"w-full max-w-md",children:[(0,dg.jsxs)("div",{className:"mb-10",children:[(0,dg.jsx)("h1",{className:"text-2xl font-bold mb-2 "+(f?"text-white":"text-gray-800"),children:"Sign In"}),(0,dg.jsx)("p",{className:"text-sm "+(f?"text-gray-400":"text-gray-600"),children:"Enter your email and password to sign in"})]}),o?(0,dg.jsxs)("div",{className:"bg-red-500 bg-opacity-20 border border-red-500 text-red-500 px-4 py-3 rounded mb-6 flex items-start",children:[(0,dg.jsx)(xw,{className:"h-5 w-5 mr-2 mt-0.5 flex-shrink-0"}),(0,dg.jsxs)("div",{children:[(0,dg.jsx)("p",{className:"font-medium",children:"Account Deactivated"}),(0,dg.jsx)("p",{className:"text-sm",children:"Your account has been deactivated. Please contact support for assistance."})]})]}):s?(0,dg.jsx)("div",{className:"bg-red-500 bg-opacity-20 border border-red-500 text-red-500 px-4 py-3 rounded mb-6",children:s}):null,(0,dg.jsxs)("form",{onSubmit:g((async n=>{r(!0),a(""),l(!1);try{const r=await e(n.email,n.password);"admin"===r.role||"ad_admin"===r.role?t("/admin/dashboard"):a("This user does not have admin permissions.")}catch(s){console.error("Error during admin login:",s),"This user does not have admin permissions."===s.message?a(s.message):"Account is inactive. Please contact support."===s.message?(l(!0),a("Your account has been deactivated. Please contact support for assistance.")):"auth/user-not-found"===s.code?a("No user found with this email address."):"auth/wrong-password"===s.code?a("Incorrect password."):"auth/invalid-email"===s.code?a("Invalid email address."):"auth/too-many-requests"===s.code?a("Too many failed login attempts. Please try again later."):a("An error occurred during login. Please try again.")}finally{r(!1)}})),className:f?"":"space-y-4",children:[(0,dg.jsxs)("div",{className:"mb-6",children:[(0,dg.jsx)("label",{htmlFor:"email",className:"block text-sm mb-2 font-medium "+(f?"text-gray-400":"text-gray-700"),children:"Email"}),(0,dg.jsx)("input",{id:"email",type:"email",className:`w-full rounded-md px-4 py-3 ${f?"bg-[#0c1226] border-gray-700 text-white focus:ring-blue-500":"bg-white border-gray-300 text-gray-900 focus:ring-blue-600 shadow-sm"} border focus:outline-none focus:ring-2 focus:border-transparent`,placeholder:"mail@example.com",...p("email",{required:"Email address is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Please enter a valid email address"}})}),y.email&&(0,dg.jsx)("p",{className:"text-red-500 text-sm mt-1",children:y.email.message})]}),(0,dg.jsxs)("div",{className:"mb-6",children:[(0,dg.jsx)("label",{htmlFor:"password",className:"block text-sm mb-2 font-medium "+(f?"text-gray-400":"text-gray-700"),children:"Password"}),(0,dg.jsxs)("div",{className:"relative",children:[(0,dg.jsx)("input",{id:"password",type:c?"text":"password",className:`w-full rounded-md px-4 py-3 ${f?"bg-[#0c1226] border-gray-700 text-white focus:ring-blue-500":"bg-white border-gray-300 text-gray-900 focus:ring-blue-600 shadow-sm"} border focus:outline-none focus:ring-2 focus:border-transparent`,placeholder:"Min. 6 characters",...p("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}})}),(0,dg.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center "+(f?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-900"),onClick:()=>u(!c),children:c?(0,dg.jsx)(_w,{className:"h-5 w-5"}):(0,dg.jsx)(py,{className:"h-5 w-5"})})]}),y.password&&(0,dg.jsx)("p",{className:"text-red-500 text-sm mt-1",children:y.password.message})]}),(0,dg.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,dg.jsxs)("div",{className:"flex items-center",children:[(0,dg.jsx)("input",{id:"keepLoggedIn",type:"checkbox",className:"h-4 w-4 rounded focus:ring-blue-500 "+(f?"bg-[#0c1226] border-gray-700 text-blue-600":"bg-white border-gray-300 text-blue-600 shadow-sm"),checked:d,onChange:()=>h(!d)}),(0,dg.jsx)("label",{htmlFor:"keepLoggedIn",className:"ml-2 block text-sm "+(f?"text-gray-400":"text-gray-700"),children:"Keep me logged in"})]}),(0,dg.jsx)("div",{children:(0,dg.jsx)(Ig,{to:"/admin/forgot-password",className:"text-sm "+(f?"text-blue-500 hover:text-blue-400":"text-blue-600 hover:text-blue-800"),children:"Forgot password?"})})]}),(0,dg.jsx)("button",{type:"submit",className:"w-full text-white font-medium py-3 px-4 rounded-lg transition duration-200 ease-in-out "+(f?"bg-[#7e5bef] hover:bg-[#6a4dd3]":"bg-[#7e5bef] hover:bg-[#6a4dd3] shadow-md"),disabled:n,children:n?(0,dg.jsxs)("span",{className:"flex items-center justify-center",children:[(0,dg.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,dg.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,dg.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing In..."]}):"Sign In"})]})]})}),(0,dg.jsxs)("div",{className:"hidden lg:block lg:w-1/2 relative overflow-hidden",children:[(0,dg.jsx)("div",{className:"absolute inset-0 rounded-l-[5rem] "+(f?"bg-gradient-to-br from-blue-900 via-indigo-800 to-purple-900":"bg-gradient-to-br from-blue-400 via-blue-600 to-indigo-800")}),(0,dg.jsx)("div",{className:"absolute top-0 left-0 right-0 h-40 rounded-bl-full "+(f?"bg-gradient-to-r from-purple-800 via-indigo-700 to-transparent opacity-70":"bg-gradient-to-r from-pink-300 via-purple-300 to-transparent opacity-50")}),(0,dg.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,dg.jsxs)("div",{className:"z-10 text-center",children:[(0,dg.jsx)("img",{src:"/images/guzel-removebg-preview.png",alt:"PrnClub Logo",className:"w-40 h-40 mx-auto mb-4"}),(0,dg.jsx)("h1",{className:"text-4xl font-bold text-white",children:"PrnClub"})]})}),(0,dg.jsx)("div",{className:"absolute bottom-4 right-4",children:(0,dg.jsx)("button",{onClick:()=>{m(!f)},className:"text-white bg-white bg-opacity-20 rounded-full p-2 hover:bg-opacity-30 transition-all",children:f?(0,dg.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,dg.jsx)("path",{d:"M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"})}):(0,dg.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,dg.jsx)("path",{fillRule:"evenodd",d:"M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z",clipRule:"evenodd"})})})})]})]})};function Aw(e,t){let{title:n,titleId:r,...s}=e;return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},s),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const Pw=i.forwardRef(Aw),Rw=()=>{const[e,t]=(0,i.useState)({totalUsers:0,totalVideos:0,totalComments:0,totalViews:0}),[n,r]=(0,i.useState)([]),[s,a]=(0,i.useState)([]),[o,l]=(0,i.useState)(!0),[c,u]=(0,i.useState)([]),[d,h]=(0,i.useState)([]),[f,m]=(0,i.useState)([]),[p,g]=(0,i.useState)("month"),[y,v]=(0,i.useState)({mobile:[],pc:[]}),{darkMode:b}=gg(),[w,x]=(0,i.useState)(null);(0,i.useEffect)((()=>{k(p)}),[p]),(0,i.useEffect)((()=>{const e=lg.onAuthStateChanged((e=>{e&&x(e)}));return()=>e()}),[]);const k=async e=>{try{console.log(`Grafik verileri ${e} i\xe7in getirilecek`)}catch(t){console.error(`${e} grafik verileri getirilirken hata olu\u015ftu:`,t)}};(0,i.useEffect)((()=>{(async()=>{l(!0);try{const e=await Im(wf(cg,"users")),n=await Im(wf(cg,"videos")),i=await Im(wf(cg,"comments"));let s=0;n.docs.forEach((e=>{s+=e.data().viewCount||0})),t({totalUsers:e.size,totalVideos:n.size,totalComments:i.size,totalViews:s});const o=cm(wf(cg,"videos"),mm("createdAt","desc"),gm(5)),l=(await Im(o)).docs.map((e=>({id:e.id,...e.data()})));r(l);const c=cm(wf(cg,"videos"),mm("viewCount","desc"),gm(5)),u=(await Im(c)).docs.map((e=>({id:e.id,...e.data()})));a(u),k(p)}catch(e){console.error("Dashboard verileri getirilirken hata olu\u015ftu:",e)}finally{l(!1)}})()}),[]);if(o)return(0,dg.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,dg.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"})});return(0,dg.jsxs)("div",{className:"p-6 "+(b?"bg-dark-900 text-white":"bg-gray-100 text-gray-800"),children:[(0,dg.jsxs)("div",{className:"flex flex-col space-y-4 mb-6",children:[(0,dg.jsxs)("div",{className:"flex justify-between items-center",children:[(0,dg.jsxs)("div",{children:[(0,dg.jsx)("p",{className:"text-sm "+(b?"text-gray-400":"text-gray-600"),children:"Pages / Dashboard"}),(0,dg.jsx)("h1",{className:"text-2xl font-bold "+(b?"text-white":"text-gray-900"),children:"Main Dashboard"})]}),(0,dg.jsx)("div",{className:"flex items-center space-x-4",children:(0,dg.jsx)("div",{className:"h-8 w-8 rounded-full bg-blue-500 overflow-hidden",children:w&&w.photoURL?(0,dg.jsx)("img",{src:w.photoURL,alt:"Admin Profile",className:"h-full w-full object-cover"}):(0,dg.jsx)("img",{src:"/images/avatar-default.png",alt:"Default Avatar",className:"h-full w-full object-cover",onError:e=>{e.target.onerror=null,e.target.src="https://ui-avatars.com/api/?name=Admin&background=0D8ABC&color=fff"}})})})]}),(0,dg.jsx)("div",{className:"flex justify-end",children:(0,dg.jsxs)("div",{className:"relative inline-block",children:[(0,dg.jsxs)("button",{className:"px-4 py-2 rounded-md text-sm flex items-center space-x-2 "+(b?"bg-dark-800 text-white":"bg-white text-gray-800 border border-gray-300 shadow-sm"),onClick:()=>document.getElementById("timeRangeDropdown").classList.toggle("hidden"),children:[(0,dg.jsx)("span",{children:"month"===p?["January","February","March","April","May","June","July","August","September","October","November","December"][(new Date).getMonth()]:"week"===p?"This Week":"Today"}),(0,dg.jsx)(Pw,{className:"h-4 w-4"})]}),(0,dg.jsx)("div",{id:"timeRangeDropdown",className:"absolute right-0 mt-2 w-40 rounded-md shadow-lg overflow-hidden z-10 hidden "+(b?"bg-dark-800":"bg-white border border-gray-300"),children:(0,dg.jsxs)("div",{className:"py-1",children:[(0,dg.jsx)("button",{className:"block w-full text-left px-4 py-2 text-sm "+(b?"text-white hover:bg-dark-700":"text-gray-800 hover:bg-gray-100"),onClick:()=>{g("month"),document.getElementById("timeRangeDropdown").classList.add("hidden")},children:"Month"}),(0,dg.jsx)("button",{className:"block w-full text-left px-4 py-2 text-sm "+(b?"text-white hover:bg-dark-700":"text-gray-800 hover:bg-gray-100"),onClick:()=>{g("week"),document.getElementById("timeRangeDropdown").classList.add("hidden")},children:"Week"}),(0,dg.jsx)("button",{className:"block w-full text-left px-4 py-2 text-sm "+(b?"text-white hover:bg-dark-700":"text-gray-800 hover:bg-gray-100"),onClick:()=>{g("day"),document.getElementById("timeRangeDropdown").classList.add("hidden")},children:"Day"})]})})]})})]}),(0,dg.jsxs)("div",{className:"rounded-lg p-6 mb-6 shadow-lg "+(b?"bg-dark-800":"bg-white border border-gray-200"),children:[(0,dg.jsx)("div",{className:"h-64 relative",children:(0,dg.jsxs)("svg",{className:"w-full h-full",viewBox:"0 0 800 300",children:[(0,dg.jsx)("line",{x1:"0",y1:"0",x2:"800",y2:"0",stroke:b?"#2D3748":"#E2E8F0",strokeWidth:"1"}),(0,dg.jsx)("line",{x1:"0",y1:"60",x2:"800",y2:"60",stroke:b?"#2D3748":"#E2E8F0",strokeWidth:"1"}),(0,dg.jsx)("line",{x1:"0",y1:"120",x2:"800",y2:"120",stroke:b?"#2D3748":"#E2E8F0",strokeWidth:"1"}),(0,dg.jsx)("line",{x1:"0",y1:"180",x2:"800",y2:"180",stroke:b?"#2D3748":"#E2E8F0",strokeWidth:"1"}),(0,dg.jsx)("line",{x1:"0",y1:"240",x2:"800",y2:"240",stroke:b?"#2D3748":"#E2E8F0",strokeWidth:"1"}),(0,dg.jsx)("line",{x1:"0",y1:"300",x2:"800",y2:"300",stroke:b?"#2D3748":"#E2E8F0",strokeWidth:"1"}),(0,dg.jsx)("text",{x:"5",y:"295",fill:b?"#A0AEC0":"#4A5568",fontSize:"12",children:"5"}),(0,dg.jsx)("text",{x:"160",y:"295",fill:b?"#A0AEC0":"#4A5568",fontSize:"12",children:"10"}),(0,dg.jsx)("text",{x:"320",y:"295",fill:b?"#A0AEC0":"#4A5568",fontSize:"12",children:"15"}),(0,dg.jsx)("text",{x:"480",y:"295",fill:b?"#A0AEC0":"#4A5568",fontSize:"12",children:"20"}),(0,dg.jsx)("text",{x:"640",y:"295",fill:b?"#A0AEC0":"#4A5568",fontSize:"12",children:"25"}),(0,dg.jsx)("text",{x:"780",y:"295",fill:b?"#A0AEC0":"#4A5568",fontSize:"12",children:"30"}),(0,dg.jsx)("text",{x:"10",y:"245",fill:b?"#A0AEC0":"#4A5568",fontSize:"12",children:"20"}),(0,dg.jsx)("text",{x:"10",y:"185",fill:b?"#A0AEC0":"#4A5568",fontSize:"12",children:"40"}),(0,dg.jsx)("text",{x:"10",y:"125",fill:b?"#A0AEC0":"#4A5568",fontSize:"12",children:"60"}),(0,dg.jsx)("text",{x:"10",y:"65",fill:b?"#A0AEC0":"#4A5568",fontSize:"12",children:"80"}),(0,dg.jsx)("text",{x:"5",y:"15",fill:b?"#A0AEC0":"#4A5568",fontSize:"12",children:"100"}),(0,dg.jsx)("path",{d:"M0,240 C30,200 60,180 90,170 C120,160 150,150 180,140 C210,130 240,120 270,110 C300,100 330,90 360,80 C390,70 420,60 450,70 C480,80 510,90 540,80 C570,70 600,60 630,50 C660,40 690,30 720,40 C750,50 780,60 800,50",fill:"none",stroke:"#9F7AEA",strokeWidth:"3"}),(0,dg.jsx)("path",{d:"M0,240 C30,200 60,180 90,170 C120,160 150,150 180,140 C210,130 240,120 270,110 C300,100 330,90 360,80 C390,70 420,60 450,70 C480,80 510,90 540,80 C570,70 600,60 630,50 C660,40 690,30 720,40 C750,50 780,60 800,50 L800,300 L0,300 Z",fill:"url(#purpleGradient)",fillOpacity:"0.5"}),(0,dg.jsx)("path",{d:"M0,180 C30,190 60,200 90,190 C120,180 150,170 180,180 C210,190 240,200 270,190 C300,180 330,170 360,160 C390,150 420,140 450,150 C480,160 510,170 540,160 C570,150 600,140 630,150 C660,160 690,170 720,160 C750,150 780,140 800,130",fill:"none",stroke:"#F56565",strokeWidth:"3"}),(0,dg.jsx)("path",{d:"M0,180 C30,190 60,200 90,190 C120,180 150,170 180,180 C210,190 240,200 270,190 C300,180 330,170 360,160 C390,150 420,140 450,150 C480,160 510,170 540,160 C570,150 600,140 630,150 C660,160 690,170 720,160 C750,150 780,140 800,130 L800,300 L0,300 Z",fill:"url(#redGradient)",fillOpacity:"0.5"}),(0,dg.jsxs)("defs",{children:[(0,dg.jsxs)("linearGradient",{id:"purpleGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[(0,dg.jsx)("stop",{offset:"0%",stopColor:"#9F7AEA",stopOpacity:"0.8"}),(0,dg.jsx)("stop",{offset:"100%",stopColor:"#9F7AEA",stopOpacity:"0.1"})]}),(0,dg.jsxs)("linearGradient",{id:"redGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[(0,dg.jsx)("stop",{offset:"0%",stopColor:"#F56565",stopOpacity:"0.8"}),(0,dg.jsx)("stop",{offset:"100%",stopColor:"#F56565",stopOpacity:"0.1"})]})]})]})}),(0,dg.jsxs)("div",{className:"flex justify-center mt-4 space-x-8",children:[(0,dg.jsxs)("div",{className:"flex items-center",children:[(0,dg.jsx)("div",{className:"w-3 h-3 rounded-full bg-purple-500 mr-2"}),(0,dg.jsx)("span",{className:"text-sm "+(b?"text-gray-300":"text-gray-700"),children:"Mobile"})]}),(0,dg.jsxs)("div",{className:"flex items-center",children:[(0,dg.jsx)("div",{className:"w-3 h-3 rounded-full bg-red-500 mr-2"}),(0,dg.jsx)("span",{className:"text-sm "+(b?"text-gray-300":"text-gray-700"),children:"PC"})]})]})]}),(0,dg.jsxs)("div",{className:"rounded-lg p-6 mb-6 shadow-lg "+(b?"bg-dark-800":"bg-white border border-gray-200"),children:[(0,dg.jsx)("h2",{className:"text-lg font-semibold mb-4 uppercase "+(b?"text-white":"text-gray-900"),children:"Operating System Stats"}),c.length>0?(0,dg.jsx)("div",{className:"space-y-4",children:c.map(((e,t)=>(0,dg.jsxs)("div",{className:"flex flex-col",children:[(0,dg.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,dg.jsx)("span",{className:"text-sm "+(b?"text-gray-300":"text-gray-700"),children:e.name}),(0,dg.jsx)("span",{className:"text-sm "+(b?"text-gray-400":"text-gray-600"),children:e.value})]}),(0,dg.jsx)("div",{className:"w-full rounded-full h-2 "+(b?"bg-dark-700":"bg-gray-200"),children:(0,dg.jsx)("div",{className:"h-2 rounded-full "+(0===t?"bg-yellow-500":1===t?"bg-yellow-600":2===t?"bg-yellow-700":3===t?"bg-yellow-800":"bg-yellow-900"),style:{width:10*e.value+"%"}})})]},t)))}):(0,dg.jsxs)("div",{className:"text-center py-8",children:[(0,dg.jsx)("p",{className:b?"text-gray-400":"text-gray-600",children:"\u0130\u015fletim sistemi istatistikleri hen\xfcz mevcut de\u011fil."}),(0,dg.jsx)("p",{className:"text-sm mt-2 text-gray-500",children:"Veriler ana siteden toplanacak."})]})]}),(0,dg.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,dg.jsxs)("div",{className:"rounded-lg p-6 shadow-lg "+(b?"bg-dark-800":"bg-white border border-gray-200"),children:[(0,dg.jsx)("h2",{className:"text-lg font-semibold mb-4 uppercase "+(b?"text-white":"text-gray-900"),children:"Country Stats"}),d.length>0?(0,dg.jsx)("div",{className:"space-y-4",children:d.map(((e,t)=>(0,dg.jsxs)("div",{className:"flex justify-between items-center",children:[(0,dg.jsxs)("div",{className:"flex items-center",children:[(0,dg.jsx)("span",{className:"text-xl mr-2",children:e.flag}),(0,dg.jsx)("span",{className:b?"text-gray-300":"text-gray-700",children:e.name})]}),(0,dg.jsx)("span",{className:b?"text-gray-400":"text-gray-600",children:e.value})]},t)))}):(0,dg.jsxs)("div",{className:"text-center py-8",children:[(0,dg.jsx)("p",{className:b?"text-gray-400":"text-gray-600",children:"\xdclke istatistikleri hen\xfcz mevcut de\u011fil."}),(0,dg.jsx)("p",{className:"text-sm mt-2 text-gray-500",children:"Veriler ana siteden toplanacak."})]})]}),(0,dg.jsxs)("div",{className:"rounded-lg p-6 shadow-lg "+(b?"bg-dark-800":"bg-white border border-gray-200"),children:[(0,dg.jsx)("h2",{className:"text-lg font-semibold mb-4 uppercase "+(b?"text-white":"text-gray-900"),children:"Most Popular Categories"}),f.length>0?(0,dg.jsxs)(dg.Fragment,{children:[(0,dg.jsx)("div",{className:"flex justify-center",children:(0,dg.jsx)("div",{className:"relative w-64 h-64",children:(0,dg.jsxs)("svg",{viewBox:"0 0 100 100",className:"w-full h-full",children:[(0,dg.jsx)("circle",{cx:"50",cy:"50",r:"40",fill:"transparent",stroke:b?"#2D3748":"#E2E8F0",strokeWidth:"20"}),f.map(((e,t)=>{const n=f.length,r=2*Math.PI*40/n,i=-t*r;return(0,dg.jsx)("circle",{cx:"50",cy:"50",r:"40",fill:"transparent",stroke:e.color,strokeWidth:"20",strokeDasharray:`${r} ${2*Math.PI*40-r}`,strokeDashoffset:i},t)}))]})})}),(0,dg.jsx)("div",{className:"grid grid-cols-2 gap-2 mt-4",children:f.map(((e,t)=>(0,dg.jsxs)("div",{className:"flex items-center",children:[(0,dg.jsx)("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:e.color}}),(0,dg.jsx)("span",{className:"text-sm "+(b?"text-gray-300":"text-gray-700"),children:e.name})]},t)))})]}):(0,dg.jsxs)("div",{className:"text-center py-8",children:[(0,dg.jsx)("p",{className:b?"text-gray-400":"text-gray-600",children:"Kategori istatistikleri hen\xfcz mevcut de\u011fil."}),(0,dg.jsx)("p",{className:"text-sm mt-2 text-gray-500",children:"Veriler ana siteden toplanacak."})]})]})]})]})};function Dw(e,t){let{title:n,titleId:r,...s}=e;return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},s),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))}const Ow=i.forwardRef(Dw);function Lw(e,t){let{title:n,titleId:r,...s}=e;return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},s),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const Mw=i.forwardRef(Lw);function Fw(e,t){let{title:n,titleId:r,...s}=e;return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},s),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const Uw=i.forwardRef(Fw),Vw=()=>{const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(!0),[s,a]=(0,i.useState)(""),[o,l]=(0,i.useState)(""),[c,u]=(0,i.useState)(""),[d,h]=(0,i.useState)("date"),[f,m]=(0,i.useState)("all");(0,i.useEffect)((()=>{p()}),[f]);const p=async()=>{r(!0);try{let e;e="all"!==f?cm(wf(cg,"users"),dm("status","==",f),mm("createdAt","desc")):cm(wf(cg,"users"),mm("createdAt","desc"));const n=(await Im(e)).docs.map((e=>({id:e.id,...e.data()})));t(n)}catch(o){console.error("Error fetching users:",o),l("An error occurred while fetching users.")}finally{r(!1)}},g=e=>{if(!e)return"Not specified";return(e.toDate?e.toDate():new Date(e)).toLocaleDateString("en-US",{day:"2-digit",month:"short",year:"numeric"})},y=e.filter((e=>{var t,n;const r=s.toLowerCase();return(null===(t=e.displayName)||void 0===t?void 0:t.toLowerCase().includes(r))||(null===(n=e.email)||void 0===n?void 0:n.toLowerCase().includes(r))}));return(0,dg.jsxs)("div",{children:[(0,dg.jsx)("h1",{className:"text-2xl font-bold text-white mb-6",children:"Users"}),o&&(0,dg.jsx)("div",{className:"bg-red-500 bg-opacity-20 border border-red-500 text-red-500 px-4 py-3 rounded mb-4",children:o}),c&&(0,dg.jsx)("div",{className:"bg-green-500 bg-opacity-20 border border-green-500 text-green-500 px-4 py-3 rounded mb-4",children:c}),(0,dg.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 mb-6 bg-dark-700 p-4 rounded-lg",children:[(0,dg.jsxs)("div",{className:"flex items-center",children:[(0,dg.jsx)(Ow,{className:"h-5 w-5 text-gray-400 mr-2"}),(0,dg.jsx)("span",{className:"text-gray-400 mr-2",children:"Filter By"}),(0,dg.jsx)("div",{className:"relative",children:(0,dg.jsxs)("select",{className:"bg-dark-800 text-white border border-dark-600 rounded-md py-2 pl-3 pr-8 focus:outline-none focus:ring-2 focus:ring-primary-500",value:d,onChange:e=>h(e.target.value),children:[(0,dg.jsx)("option",{value:"date",children:"Date"}),(0,dg.jsx)("option",{value:"name",children:"Name"}),(0,dg.jsx)("option",{value:"email",children:"Email"})]})})]}),(0,dg.jsxs)("div",{className:"flex items-center",children:[(0,dg.jsx)("span",{className:"text-gray-400 mr-2",children:"User Status"}),(0,dg.jsx)("div",{className:"relative",children:(0,dg.jsxs)("select",{className:"bg-dark-800 text-white border border-dark-600 rounded-md py-2 pl-3 pr-8 focus:outline-none focus:ring-2 focus:ring-primary-500",value:f,onChange:e=>m(e.target.value),children:[(0,dg.jsx)("option",{value:"all",children:"All"}),(0,dg.jsx)("option",{value:"active",children:"Active"}),(0,dg.jsx)("option",{value:"inactive",children:"Inactive"}),(0,dg.jsx)("option",{value:"pending",children:"Pending"})]})})]}),(0,dg.jsxs)("button",{onClick:()=>{h("date"),m("all"),a("")},className:"flex items-center justify-center bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-md",children:[(0,dg.jsx)(Tv,{className:"h-4 w-4 mr-2"}),"Reset Filter"]}),(0,dg.jsx)("div",{className:"flex-grow",children:(0,dg.jsxs)("div",{className:"relative",children:[(0,dg.jsx)("input",{type:"text",placeholder:"Search user name...",className:"w-full py-2 pl-10 pr-4 bg-dark-800 border border-dark-600 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 text-white",value:s,onChange:e=>a(e.target.value)}),(0,dg.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,dg.jsx)(Mw,{className:"h-5 w-5 text-gray-400"})})]})})]}),n?(0,dg.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,dg.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"})}):y.length>0?(0,dg.jsxs)("div",{className:"bg-dark-700 rounded-lg overflow-hidden",children:[(0,dg.jsx)("div",{className:"overflow-x-auto",children:(0,dg.jsxs)("table",{className:"min-w-full",children:[(0,dg.jsx)("thead",{className:"bg-dark-800",children:(0,dg.jsxs)("tr",{children:[(0,dg.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"ID"}),(0,dg.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"NAME"}),(0,dg.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"EMAIL"}),(0,dg.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"DATE"}),(0,dg.jsx)("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-gray-400 uppercase tracking-wider",children:"STATUS"}),(0,dg.jsx)("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-gray-400 uppercase tracking-wider",children:"ACTIONS"})]})}),(0,dg.jsx)("tbody",{className:"divide-y divide-dark-600",children:y.map((n=>{const r=(e=>e.status||"active")(n),i=(e=>{switch(e){case"active":return{color:"bg-emerald-500",text:"Active",textColor:"text-white"};case"inactive":return{color:"bg-indigo-500",text:"Inactive",textColor:"text-white"};case"pending":return{color:"bg-indigo-500",text:"Pending",textColor:"text-white"};default:return{color:"bg-gray-500",text:"Unknown",textColor:"text-white"}}})(r);return(0,dg.jsxs)("tr",{className:"hover:bg-dark-600",children:[(0,dg.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:n.id.substring(0,5)}),(0,dg.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,dg.jsxs)("div",{className:"flex items-center",children:[(0,dg.jsx)(Rv,{className:"h-10 w-10 text-gray-400 mr-3"}),(0,dg.jsx)("div",{className:"text-sm font-medium text-white",children:n.displayName||"Unnamed User"})]})}),(0,dg.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:n.email}),(0,dg.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:g(n.createdAt)}),(0,dg.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:(0,dg.jsx)("span",{className:`px-4 py-1 inline-flex text-sm leading-5 font-semibold rounded-full ${i.color} ${i.textColor}`,children:i.text})}),(0,dg.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:(0,dg.jsxs)("div",{className:"flex justify-center space-x-2",children:[(0,dg.jsx)("button",{onClick:()=>"active"===r?(async n=>{if(window.confirm("Are you sure you want to deactivate this user?"))try{const r=xf(cg,"users",n);await Am(r,{status:"inactive",deactivatedAt:new Date}),t(e.map((e=>e.id===n?{...e,status:"inactive",deactivatedAt:new Date}:e))),u("User successfully deactivated.")}catch(o){console.error("Error deactivating user:",o),l("An error occurred while deactivating the user.")}})(n.id):(async n=>{try{const r=xf(cg,"users",n);await Am(r,{status:"active",deactivatedAt:null}),t(e.map((e=>e.id===n?{...e,status:"active",deactivatedAt:null}:e))),u("User successfully activated.")}catch(o){console.error("Error activating user:",o),l("An error occurred while activating the user.")}})(n.id),className:"p-1 rounded-full "+("active"===r?"text-red-500 hover:bg-red-100 hover:bg-opacity-10":"text-green-500 hover:bg-green-100 hover:bg-opacity-10"),title:"active"===r?"Deactivate User":"Activate User",children:"active"===r?(0,dg.jsx)(Ov,{className:"h-5 w-5"}):(0,dg.jsx)(Tv,{className:"h-5 w-5"})}),(0,dg.jsx)("button",{className:"p-1 rounded-full text-blue-500 hover:bg-blue-100 hover:bg-opacity-10",title:"Edit User",children:(0,dg.jsx)(Uw,{className:"h-5 w-5"})})]})})]},n.id)}))})]})}),(0,dg.jsxs)("div",{className:"bg-dark-800 px-4 py-3 flex items-center justify-between border-t border-dark-600",children:[(0,dg.jsxs)("div",{className:"text-sm text-gray-400",children:["Showing ",(0,dg.jsx)("span",{className:"font-medium",children:y.length})," of ",(0,dg.jsx)("span",{className:"font-medium",children:e.length})," users"]}),(0,dg.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,dg.jsx)("button",{className:"px-3 py-1 bg-dark-700 text-gray-400 rounded-md hover:bg-dark-600",children:"<"}),(0,dg.jsx)("button",{className:"px-3 py-1 bg-primary-600 text-white rounded-md",children:"1"}),(0,dg.jsx)("button",{className:"px-3 py-1 bg-dark-700 text-gray-400 rounded-md hover:bg-dark-600",children:">"})]})]})]}):(0,dg.jsx)("div",{className:"bg-dark-700 rounded-lg p-8 text-center",children:(0,dg.jsx)("p",{className:"text-gray-400",children:s?"No users found matching your search criteria.":"No users found."})})]})};function zw(e,t){let{title:n,titleId:r,...s}=e;return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},s),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const Bw=i.forwardRef(zw);function $w(e,t){let{title:n,titleId:r,...s}=e;return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},s),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const qw=i.forwardRef($w);function Ww(e,t){const n=Qg(e,t?.in);return n.setHours(0,0,0,0),n}function Hw(e,t,n){const[r,i]=Xg(n?.in,e,t),s=Ww(r),a=Ww(i),o=+s-Yg(s),l=+a-Yg(a);return Math.round((o-l)/864e5)}function Kw(e,t){const n=Qg(e,t?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Gw(e,t){const n=Qg(e,t?.in);return Hw(n,Kw(n))+1}function Qw(e,t){const n=Gg(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=Qg(e,t?.in),s=i.getDay(),a=(s<r?7:0)+s-r;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function Yw(e,t){return Qw(e,{...t,weekStartsOn:1})}function Xw(e,t){const n=Qg(e,t?.in),r=n.getFullYear(),i=Mg(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const s=Yw(i),a=Mg(n,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const o=Yw(a);return n.getTime()>=s.getTime()?r+1:n.getTime()>=o.getTime()?r:r-1}function Jw(e,t){const n=Xw(e,t),r=Mg(t?.in||e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Yw(r)}function Zw(e,t){const n=Qg(e,t?.in),r=+Yw(n)-+Jw(n);return Math.round(r/Dg)+1}function ex(e,t){const n=Qg(e,t?.in),r=n.getFullYear(),i=Gg(),s=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,a=Mg(t?.in||e,0);a.setFullYear(r+1,0,s),a.setHours(0,0,0,0);const o=Qw(a,t),l=Mg(t?.in||e,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const c=Qw(l,t);return+n>=+o?r+1:+n>=+c?r:r-1}function tx(e,t){const n=Gg(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=ex(e,t),s=Mg(t?.in||e,0);s.setFullYear(i,0,r),s.setHours(0,0,0,0);return Qw(s,t)}function nx(e,t){const n=Qg(e,t?.in),r=+Qw(n,t)-+tx(n,t);return Math.round(r/Dg)+1}function rx(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}const ix={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return rx("yy"===t?r%100:r,t.length)},M(e,t){const n=e.getMonth();return"M"===t?String(n+1):rx(n+1,2)},d:(e,t)=>rx(e.getDate(),t.length),a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(e,t)=>rx(e.getHours()%12||12,t.length),H:(e,t)=>rx(e.getHours(),t.length),m:(e,t)=>rx(e.getMinutes(),t.length),s:(e,t)=>rx(e.getSeconds(),t.length),S(e,t){const n=t.length,r=e.getMilliseconds();return rx(Math.trunc(r*Math.pow(10,n-3)),t.length)}},sx="midnight",ax="noon",ox="morning",lx="afternoon",cx="evening",ux="night",dx={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){const t=e.getFullYear(),r=t>0?t:1-t;return n.ordinalNumber(r,{unit:"year"})}return ix.y(e,t)},Y:function(e,t,n,r){const i=ex(e,r),s=i>0?i:1-i;if("YY"===t){return rx(s%100,2)}return"Yo"===t?n.ordinalNumber(s,{unit:"year"}):rx(s,t.length)},R:function(e,t){return rx(Xw(e),t.length)},u:function(e,t){return rx(e.getFullYear(),t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return rx(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return rx(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return ix.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return rx(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=nx(e,r);return"wo"===t?n.ordinalNumber(i,{unit:"week"}):rx(i,t.length)},I:function(e,t,n){const r=Zw(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):rx(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getDate(),{unit:"date"}):ix.d(e,t)},D:function(e,t,n){const r=Gw(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):rx(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return rx(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return rx(s,t.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=0===r?7:r;switch(t){case"i":return String(i);case"ii":return rx(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(i=12===r?ax:0===r?sx:r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(i=r>=17?cx:r>=12?lx:r>=4?ox:ux,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),n.ordinalNumber(t,{unit:"hour"})}return ix.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getHours(),{unit:"hour"}):ix.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):rx(r,t.length)},k:function(e,t,n){let r=e.getHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):rx(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):ix.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getSeconds(),{unit:"second"}):ix.s(e,t)},S:function(e,t){return ix.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(0===r)return"Z";switch(t){case"X":return fx(r);case"XXXX":case"XX":return mx(r);default:return mx(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return fx(r);case"xxxx":case"xx":return mx(r);default:return mx(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+hx(r,":");default:return"GMT"+mx(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+hx(r,":");default:return"GMT"+mx(r,":")}},t:function(e,t,n){return rx(Math.trunc(+e/1e3),t.length)},T:function(e,t,n){return rx(+e,t.length)}};function hx(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),s=r%60;return 0===s?n+String(i):n+String(i)+t+rx(s,2)}function fx(e,t){if(e%60===0){return(e>0?"-":"+")+rx(Math.abs(e)/60,2)}return mx(e,t)}function mx(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e>0?"-":"+",r=Math.abs(e);return n+rx(Math.trunc(r/60),2)+t+rx(r%60,2)}const px=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},gx=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},yx={p:gx,P:(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return px(e,t);let s;switch(r){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;default:s=t.dateTime({width:"full"})}return s.replace("{{date}}",px(r,t)).replace("{{time}}",gx(i,t))}},vx=/^D+$/,bx=/^Y+$/,wx=["D","DD","YY","YYYY"];function xx(e){return e instanceof Date||"object"===typeof e&&"[object Date]"===Object.prototype.toString.call(e)}function kx(e){return!(!xx(e)&&"number"!==typeof e||isNaN(+Qg(e)))}const _x=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Nx=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ex=/^'([^]*?)'?$/,Sx=/''/g,Cx=/[a-zA-Z]/;function Tx(e,t,n){const r=Gg(),i=n?.locale??r.locale??Hg,s=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,o=Qg(e,n?.in);if(!kx(o))throw new RangeError("Invalid time value");let l=t.match(Nx).map((e=>{const t=e[0];if("p"===t||"P"===t){return(0,yx[t])(e,i.formatLong)}return e})).join("").match(_x).map((e=>{if("''"===e)return{isToken:!1,value:"'"};const t=e[0];if("'"===t)return{isToken:!1,value:Ix(e)};if(dx[t])return{isToken:!0,value:e};if(t.match(Cx))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}}));i.localize.preprocessor&&(l=i.localize.preprocessor(o,l));const c={firstWeekContainsDate:s,weekStartsOn:a,locale:i};return l.map((r=>{if(!r.isToken)return r.value;const s=r.value;(!n?.useAdditionalWeekYearTokens&&function(e){return bx.test(e)}(s)||!n?.useAdditionalDayOfYearTokens&&function(e){return vx.test(e)}(s))&&function(e,t,n){const r=function(e,t,n){const r="Y"===e[0]?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(e,t,n);if(console.warn(r),wx.includes(e))throw new RangeError(r)}(s,t,String(e));return(0,dx[s[0]])(o,s,i.localize,c)})).join("")}function Ix(e){const t=e.match(Ex);return t?t[1].replace(Sx,"'"):e}const jx=()=>{const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(!0),[s,a]=(0,i.useState)(""),[o,l]=(0,i.useState)(""),[c,u]=(0,i.useState)(""),[d,h]=(0,i.useState)(null),[f,m]=(0,i.useState)({title:"",description:"",categories:[],actors:[],tags:[],featured:!1,thumbnailUrl:"",iframeCode:""}),[p,g]=(0,i.useState)(!1),[y,v]=(0,i.useState)({title:"",description:"",categories:[""],actors:[""],tags:[""],featured:!1,thumbnailUrl:"",iframeCode:""}),[b,w]=(0,i.useState)(null),[x,k]=(0,i.useState)(null),[_,N]=(0,i.useState)(""),[E,S]=(0,i.useState)(0),[C,T]=(0,i.useState)(!1);(0,i.useEffect)((()=>{(async()=>{r(!0);try{const e=cm(wf(cg,"videos"),mm("createdAt","desc")),n=(await Im(e)).docs.map((e=>({id:e.id,...e.data()})));t(n)}catch(o){console.error("Videolar getirilirken hata olu\u015ftu:",o),l("Videolar getirilirken bir hata olu\u015ftu.")}finally{r(!1)}})()}),[]);const I=async n=>{if(n.preventDefault(),f.title.trim())if(f.thumbnailUrl.trim())if(f.iframeCode.trim()){r(!0);try{const n=f.categories.filter((e=>""!==e.trim())),r=f.actors.filter((e=>""!==e.trim())),i=f.tags.filter((e=>""!==e.trim()));await Promise.all([...n.map((async e=>{const t=wf(cg,"categories"),n=cm(t,dm("name","==",e));(await Im(n)).empty&&await Rm(t,{name:e,createdAt:Lm()})})),...r.map((async e=>{const t=wf(cg,"actors"),n=cm(t,dm("name","==",e));(await Im(n)).empty&&await Rm(t,{name:e,createdAt:Lm()})})),...i.map((async e=>{const t=wf(cg,"tags"),n=cm(t,dm("name","==",e));(await Im(n)).empty&&await Rm(t,{name:e,createdAt:Lm()})}))]);const s=xf(cg,"videos",d),a={...f,categories:n,actors:r,tags:i,updatedAt:Lm(),isActive:!0};await Am(s,a),t(e.map((e=>e.id===d?{...e,...a}:e))),h(null),u("Video successfully updated and published to the main site.")}catch(o){console.error("Error updating video:",o),l("An error occurred while updating the video.")}finally{r(!1)}}else l("Video iframe code cannot be empty.");else l("Thumbnail URL cannot be empty.");else l("Video title cannot be empty.")},j=e.filter((e=>{const t=s.toLowerCase();return e.title&&e.title.toLowerCase().includes(t)||e.description&&e.description.toLowerCase().includes(t)||e.categories&&e.categories.some((e=>e.toLowerCase().includes(t)))||e.actors&&e.actors.some((e=>e.toLowerCase().includes(t)))||e.tags&&e.tags.some((e=>e.toLowerCase().includes(t)))})),A=(e,t,n)=>{m({...f,[e]:f[e].map(((e,r)=>r===t?n:e))})},P=e=>{m({...f,[e]:[...f[e],""]})},R=(e,t)=>{m({...f,[e]:f[e].filter(((e,n)=>n!==t))})},D=(e,t,n)=>{v({...y,[e]:y[e].map(((e,r)=>r===t?n:e))})},O=e=>{v({...y,[e]:[...y[e],""]})},L=(e,t)=>{v({...y,[e]:y[e].filter(((e,n)=>n!==t))})},M=async n=>{if(n.preventDefault(),y.title.trim())if(y.thumbnailUrl.trim())if(y.iframeCode.trim()){T(!0),S(0);try{const n=y.categories.filter((e=>""!==e.trim())),r=y.actors.filter((e=>""!==e.trim())),i=y.tags.filter((e=>""!==e.trim()));await Promise.all([...n.map((async e=>{const t=wf(cg,"categories"),n=cm(t,dm("name","==",e));(await Im(n)).empty&&await Rm(t,{name:e,createdAt:Lm()})})),...r.map((async e=>{const t=wf(cg,"actors"),n=cm(t,dm("name","==",e));(await Im(n)).empty&&await Rm(t,{name:e,createdAt:Lm()})})),...i.map((async e=>{const t=wf(cg,"tags"),n=cm(t,dm("name","==",e));(await Im(n)).empty&&await Rm(t,{name:e,createdAt:Lm()})}))]);const s={title:y.title,description:y.description,categories:n,actors:r,tags:i,featured:y.featured,thumbnailUrl:y.thumbnailUrl,iframeCode:y.iframeCode,duration:Math.floor(600*Math.random())+60,views:0,likes:0,dislikes:0,createdAt:Lm(),updatedAt:Lm(),isActive:!0,publishedAt:Lm()},a=await Rm(wf(cg,"videos"),s);t([{id:a.id,...s,createdAt:new Date},...e]),v({title:"",description:"",categories:[""],actors:[""],tags:[""],featured:!1,thumbnailUrl:"",iframeCode:""}),w(null),k(null),N(""),g(!1),u("Video successfully added and published to the main site.")}catch(o){console.error("Error adding video:",o),l("An error occurred while adding the video.")}finally{T(!1),S(0)}}else l("Video iframe code cannot be empty.");else l("Thumbnail URL cannot be empty.");else l("Video title cannot be empty.")},F=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=e?f:y,r=e?m:v,i=e?I:M,s=e?A:D,a=e?P:O,o=e?R:L;return(0,dg.jsxs)("div",{className:"bg-dark-800 rounded-lg p-6",children:[(0,dg.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,dg.jsx)("h1",{className:"text-2xl font-bold text-white",children:e?"Edit Video":"Add New Video"}),(0,dg.jsxs)("button",{onClick:()=>e?h(null):g(!1),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-md flex items-center",children:[(0,dg.jsx)(Cw,{className:"h-5 w-5 mr-2"}),"Cancel"]})]}),(0,dg.jsxs)("form",{onSubmit:i,children:[(0,dg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,dg.jsxs)("div",{children:[(0,dg.jsxs)("div",{className:"mb-4",children:[(0,dg.jsx)("label",{className:"block text-gray-400 mb-2",children:"Video Title *"}),(0,dg.jsx)("input",{type:"text",className:"w-full py-2 px-3 bg-dark-700 border border-dark-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-white",value:t.title,onChange:e=>r({...t,title:e.target.value}),required:!0})]}),(0,dg.jsxs)("div",{className:"mb-4",children:[(0,dg.jsx)("label",{className:"block text-gray-400 mb-2",children:"Description"}),(0,dg.jsx)("textarea",{className:"w-full py-2 px-3 bg-dark-700 border border-dark-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-white h-24",value:t.description,onChange:e=>r({...t,description:e.target.value})})]}),(0,dg.jsxs)("div",{className:"mb-4",children:[(0,dg.jsx)("label",{className:"block text-gray-400 mb-2",children:"Thumbnail URL *"}),(0,dg.jsx)("input",{type:"text",className:"w-full py-2 px-3 bg-dark-700 border border-dark-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-white",value:t.thumbnailUrl,onChange:e=>r({...t,thumbnailUrl:e.target.value}),placeholder:"https://example.com/thumbnail.jpg",required:!0})]}),(0,dg.jsxs)("div",{className:"mb-4",children:[(0,dg.jsx)("label",{className:"block text-gray-400 mb-2",children:"Video Iframe Code *"}),(0,dg.jsx)("textarea",{className:"w-full py-2 px-3 bg-dark-700 border border-dark-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-white h-24",value:t.iframeCode,onChange:e=>r({...t,iframeCode:e.target.value}),placeholder:"<iframe src='https://example.com/embed/video' ...></iframe>",required:!0})]})]}),(0,dg.jsxs)("div",{children:[(0,dg.jsxs)("div",{className:"mb-4",children:[(0,dg.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,dg.jsx)("label",{className:"block text-gray-400",children:"Categories"}),(0,dg.jsx)("button",{type:"button",className:"text-blue-500 hover:text-blue-400 text-sm",onClick:()=>a("categories"),children:"+ Add Category"})]}),t.categories.map(((e,n)=>(0,dg.jsxs)("div",{className:"flex mb-2",children:[(0,dg.jsx)("input",{type:"text",className:"flex-grow py-2 px-3 bg-dark-700 border border-dark-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-white",value:e,onChange:e=>s("categories",n,e.target.value)}),(0,dg.jsx)("button",{type:"button",className:"ml-2 text-red-500 hover:text-red-400",onClick:()=>o("categories",n),disabled:1===t.categories.length,children:(0,dg.jsx)(Cw,{className:"h-5 w-5"})})]},n)))]}),(0,dg.jsxs)("div",{className:"mb-4",children:[(0,dg.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,dg.jsx)("label",{className:"block text-gray-400",children:"Actors"}),(0,dg.jsx)("button",{type:"button",className:"text-blue-500 hover:text-blue-400 text-sm",onClick:()=>a("actors"),children:"+ Add Actor"})]}),t.actors.map(((e,n)=>(0,dg.jsxs)("div",{className:"flex mb-2",children:[(0,dg.jsx)("input",{type:"text",className:"flex-grow py-2 px-3 bg-dark-700 border border-dark-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-white",value:e,onChange:e=>s("actors",n,e.target.value)}),(0,dg.jsx)("button",{type:"button",className:"ml-2 text-red-500 hover:text-red-400",onClick:()=>o("actors",n),disabled:1===t.actors.length,children:(0,dg.jsx)(Cw,{className:"h-5 w-5"})})]},n)))]}),(0,dg.jsxs)("div",{className:"mb-4",children:[(0,dg.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,dg.jsx)("label",{className:"block text-gray-400",children:"Tags"}),(0,dg.jsx)("button",{type:"button",className:"text-blue-500 hover:text-blue-400 text-sm",onClick:()=>a("tags"),children:"+ Add Tag"})]}),t.tags.map(((e,n)=>(0,dg.jsxs)("div",{className:"flex mb-2",children:[(0,dg.jsx)("input",{type:"text",className:"flex-grow py-2 px-3 bg-dark-700 border border-dark-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-white",value:e,onChange:e=>s("tags",n,e.target.value)}),(0,dg.jsx)("button",{type:"button",className:"ml-2 text-red-500 hover:text-red-400",onClick:()=>o("tags",n),disabled:1===t.tags.length,children:(0,dg.jsx)(Cw,{className:"h-5 w-5"})})]},n)))]}),(0,dg.jsx)("div",{className:"mb-4",children:(0,dg.jsxs)("label",{className:"flex items-center",children:[(0,dg.jsx)("input",{type:"checkbox",className:"form-checkbox h-5 w-5 text-blue-500",checked:t.featured,onChange:e=>r({...t,featured:e.target.checked})}),(0,dg.jsx)("span",{className:"ml-2 text-gray-400",children:"Featured Video"})]})})]})]}),(0,dg.jsx)("div",{className:"flex justify-end mt-6",children:(0,dg.jsxs)("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-md flex items-center",disabled:n,children:[n?(0,dg.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-t-2 border-b-2 border-white mr-2"}):(0,dg.jsx)(qw,{className:"h-5 w-5 mr-2"}),e?"Update Video":"Add Video"]})})]})]})};return(0,dg.jsxs)("div",{className:"p-6",children:[o&&(0,dg.jsx)("div",{className:"bg-red-500 bg-opacity-20 border border-red-500 text-red-500 px-4 py-3 rounded mb-4",children:o}),c&&(0,dg.jsx)("div",{className:"bg-green-500 bg-opacity-20 border border-green-500 text-green-500 px-4 py-3 rounded mb-4",children:c}),d?F(!0):p?F(!1):(0,dg.jsxs)("div",{className:"bg-dark-800 rounded-lg p-6",children:[(0,dg.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,dg.jsx)("h1",{className:"text-2xl font-bold text-white",children:"Videos"}),(0,dg.jsxs)("button",{onClick:()=>g(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md flex items-center",children:[(0,dg.jsx)(Bw,{className:"h-5 w-5 mr-2"}),"Add Video"]})]}),(0,dg.jsx)("div",{className:"mb-6",children:(0,dg.jsxs)("div",{className:"relative",children:[(0,dg.jsx)("input",{type:"text",placeholder:"Search videos...",className:"w-full py-2 pl-10 pr-4 bg-dark-700 border border-dark-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-white",value:s,onChange:e=>a(e.target.value)}),(0,dg.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,dg.jsx)(Mw,{className:"h-5 w-5 text-gray-400"})})]})}),n?(0,dg.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,dg.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):j.length>0?(0,dg.jsx)("div",{className:"overflow-x-auto",children:(0,dg.jsxs)("table",{className:"min-w-full divide-y divide-dark-600",children:[(0,dg.jsx)("thead",{className:"bg-dark-700",children:(0,dg.jsxs)("tr",{children:[(0,dg.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Thumbnail"}),(0,dg.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Video Name"}),(0,dg.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Category"}),(0,dg.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Studio"}),(0,dg.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Actors name"}),(0,dg.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Tags"}),(0,dg.jsx)("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Action"})]})}),(0,dg.jsx)("tbody",{className:"bg-dark-800 divide-y divide-dark-600",children:j.map((n=>(0,dg.jsxs)("tr",{className:"hover:bg-dark-700",children:[(0,dg.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,dg.jsx)("div",{className:"h-16 w-24 relative",children:(0,dg.jsx)("img",{src:n.thumbnailUrl,alt:n.title,className:"h-full w-full object-cover rounded"})})}),(0,dg.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,dg.jsx)("div",{className:"text-sm text-white",children:n.title})}),(0,dg.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,dg.jsx)("div",{className:"text-sm text-white",children:n.categories&&n.categories.length>0?n.categories[0]:"bla"})}),(0,dg.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,dg.jsx)("div",{className:"text-sm text-white",children:"bla"})}),(0,dg.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,dg.jsx)("div",{className:"text-sm text-white",children:n.actors&&n.actors.length>0?n.actors[0]:"bla"})}),(0,dg.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,dg.jsx)("div",{className:"text-sm text-white",children:n.tags&&n.tags.length>0?n.tags[0]:"bla"})}),(0,dg.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:[(0,dg.jsx)("button",{onClick:()=>(e=>{h(e.id),m({title:e.title||"",description:e.description||"",categories:e.categories||[],actors:e.actors||[],tags:e.tags||[],featured:e.featured||!1,thumbnailUrl:e.thumbnailUrl||"",iframeCode:e.iframeCode||""})})(n),className:"text-blue-500 hover:text-blue-400 mx-2",title:"Edit",children:(0,dg.jsx)(Uw,{className:"h-5 w-5"})}),(0,dg.jsx)("button",{onClick:()=>(async n=>{if(window.confirm("Bu videoyu silmek istedi\u011finizden emin misiniz? Bu i\u015flem geri al\u0131namaz.")){r(!0);try{await Pm(xf(cg,"videos",n)),t(e.filter((e=>e.id!==n))),u("Video ba\u015far\u0131yla silindi.")}catch(o){console.error("Video silinirken hata olu\u015ftu:",o),l("Video silinirken bir hata olu\u015ftu.")}finally{r(!1)}}})(n.id),className:"text-red-500 hover:text-red-400 mx-2",title:"Delete",children:(0,dg.jsx)(Ov,{className:"h-5 w-5"})})]})]},n.id)))})]})}):(0,dg.jsx)("div",{className:"bg-dark-700 rounded-lg p-8 text-center",children:(0,dg.jsx)("p",{className:"text-gray-400",children:s?"No videos match your search criteria.":"No videos have been added yet."})}),(0,dg.jsxs)("div",{className:"mt-4 text-sm text-gray-400",children:["Showing 1-",j.length," of ",j.length]})]})]})};function Ax(e,t){let{title:n,titleId:r,...s}=e;return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},s),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.375 19.5h17.25m-17.25 0a1.125 1.125 0 0 1-1.125-1.125M3.375 19.5h1.5C5.496 19.5 6 18.996 6 18.375m-3.75 0V5.625m0 12.75v-1.5c0-.621.504-1.125 1.125-1.125m18.375 2.625V5.625m0 12.75c0 .621-.504 1.125-1.125 1.125m1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125m0 3.75h-1.5A1.125 1.125 0 0 1 18 18.375M20.625 4.5H3.375m17.25 0c.621 0 1.125.504 1.125 1.125M20.625 4.5h-1.5C18.504 4.5 18 5.004 18 5.625m3.75 0v1.5c0 .621-.504 1.125-1.125 1.125M3.375 4.5c-.621 0-1.125.504-1.125 1.125M3.375 4.5h1.5C5.496 4.5 6 5.004 6 5.625m-3.75 0v1.5c0 .621.504 1.125 1.125 1.125m0 0h1.5m-1.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125m1.5-3.75C5.496 8.25 6 7.746 6 7.125v-1.5M4.875 8.25C5.496 8.25 6 8.754 6 9.375v1.5m0-5.25v5.25m0-5.25C6 5.004 6.504 4.5 7.125 4.5h9.75c.621 0 1.125.504 1.125 1.125m1.125 2.625h1.5m-1.5 0A1.125 1.125 0 0 1 18 7.125v-1.5m1.125 2.625c-.621 0-1.125.504-1.125 1.125v1.5m2.625-2.625c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125M18 5.625v5.25M7.125 12h9.75m-9.75 0A1.125 1.125 0 0 1 6 10.875M7.125 12C6.504 12 6 12.504 6 13.125m0-2.25C6 11.496 5.496 12 4.875 12M18 10.875c0 .621-.504 1.125-1.125 1.125M18 10.875c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125m-12 5.25v-5.25m0 5.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125m-12 0v-1.5c0-.621-.504-1.125-1.125-1.125M18 18.375v-5.25m0 5.25v-1.5c0-.621.504-1.125 1.125-1.125M18 13.125v1.5c0 .621.504 1.125 1.125 1.125M18 13.125c0-.621.504-1.125 1.125-1.125M6 13.125v1.5c0 .621-.504 1.125-1.125 1.125M6 13.125C6 12.504 5.496 12 4.875 12m-1.5 0h1.5m-1.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125M19.125 12h1.5m0 0c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h1.5m14.25 0h1.5"}))}const Px=i.forwardRef(Ax),Rx=()=>{const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(!0),[s,a]=(0,i.useState)(""),[o,l]=(0,i.useState)(""),[c,u]=(0,i.useState)("");(0,i.useEffect)((()=>{(async()=>{r(!0);try{const e=cm(wf(cg,"comments"),mm("createdAt","desc"),gm(100)),n=(await Im(e)).docs.map((e=>({id:e.id,...e.data()}))),r=await Promise.all(n.map((async e=>{let t=null,n=null;if(e.videoId)try{const n=await Cm(xf(cg,"videos",e.videoId));n.exists()&&(t={id:n.id,...n.data()})}catch(o){console.error("Video bilgileri getirilirken hata olu\u015ftu:",o)}if(e.userId)try{const t=await Cm(xf(cg,"users",e.userId));t.exists()&&(n={id:t.id,...t.data()})}catch(o){console.error("Kullan\u0131c\u0131 bilgileri getirilirken hata olu\u015ftu:",o)}return{...e,video:t,user:n}})));t(r)}catch(o){console.error("Yorumlar getirilirken hata olu\u015ftu:",o),l("Yorumlar getirilirken bir hata olu\u015ftu.")}finally{r(!1)}})()}),[]);const d=e=>{if(!e)return"Belirtilmemi\u015f";return Tx(e.toDate?e.toDate():new Date(e),"dd MMMM yyyy HH:mm",{locale:dy})},h=e.filter((e=>{var t,n,r,i,a;const o=s.toLowerCase();return(null===(t=e.content)||void 0===t?void 0:t.toLowerCase().includes(o))||(null===(n=e.user)||void 0===n||null===(r=n.displayName)||void 0===r?void 0:r.toLowerCase().includes(o))||(null===(i=e.video)||void 0===i||null===(a=i.title)||void 0===a?void 0:a.toLowerCase().includes(o))}));return(0,dg.jsxs)("div",{children:[(0,dg.jsx)("h1",{className:"text-2xl font-bold text-white mb-6",children:"Yorum Y\xf6netimi"}),o&&(0,dg.jsx)("div",{className:"bg-red-500 bg-opacity-20 border border-red-500 text-red-500 px-4 py-3 rounded mb-4",children:o}),c&&(0,dg.jsx)("div",{className:"bg-green-500 bg-opacity-20 border border-green-500 text-green-500 px-4 py-3 rounded mb-4",children:c}),(0,dg.jsx)("div",{className:"mb-6",children:(0,dg.jsxs)("div",{className:"relative",children:[(0,dg.jsx)("input",{type:"text",placeholder:"Yorum ara... (i\xe7erik, kullan\u0131c\u0131 ad\u0131, video ba\u015fl\u0131\u011f\u0131)",className:"w-full py-2 pl-10 pr-4 bg-dark-800 border border-dark-600 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 text-white",value:s,onChange:e=>a(e.target.value)}),(0,dg.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,dg.jsx)(Mw,{className:"h-5 w-5 text-gray-400"})})]})}),n?(0,dg.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,dg.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"})}):h.length>0?(0,dg.jsx)("div",{className:"space-y-4",children:h.map((n=>{var i,s,a;return(0,dg.jsx)("div",{className:"bg-dark-700 rounded-lg overflow-hidden p-4",children:(0,dg.jsxs)("div",{className:"flex items-start",children:[(0,dg.jsx)("div",{className:"flex-shrink-0",children:null!==(i=n.user)&&void 0!==i&&i.photoURL?(0,dg.jsx)("img",{src:n.user.photoURL,alt:n.user.displayName,className:"h-10 w-10 rounded-full"}):(0,dg.jsx)(Rv,{className:"h-10 w-10 text-gray-400"})}),(0,dg.jsxs)("div",{className:"ml-4 flex-grow",children:[(0,dg.jsxs)("div",{className:"flex items-center justify-between",children:[(0,dg.jsxs)("div",{children:[(0,dg.jsx)("span",{className:"text-white font-medium",children:(null===(s=n.user)||void 0===s?void 0:s.displayName)||"\u0130simsiz Kullan\u0131c\u0131"}),(0,dg.jsx)("span",{className:"text-gray-400 text-sm ml-2",children:(null===(a=n.user)||void 0===a?void 0:a.email)&&`(${n.user.email})`})]}),(0,dg.jsxs)("div",{className:"flex items-center text-gray-400 text-sm",children:[(0,dg.jsx)(fy,{className:"h-4 w-4 mr-1"}),d(n.createdAt)]})]}),(0,dg.jsx)("div",{className:"mt-2 text-gray-300",children:n.content}),n.video&&(0,dg.jsxs)("div",{className:"mt-3 flex items-center bg-dark-800 p-2 rounded",children:[(0,dg.jsx)("div",{className:"flex-shrink-0 h-12 w-16 relative",children:n.video.thumbnailUrl?(0,dg.jsx)("img",{src:n.video.thumbnailUrl,alt:n.video.title,className:"h-full w-full object-cover rounded"}):(0,dg.jsx)("div",{className:"h-full w-full bg-dark-600 rounded flex items-center justify-center",children:(0,dg.jsx)(Px,{className:"h-6 w-6 text-gray-500"})})}),(0,dg.jsxs)("div",{className:"ml-3",children:[(0,dg.jsx)("div",{className:"text-sm text-white font-medium",children:n.video.title||"Video Ba\u015fl\u0131\u011f\u0131 Bulunamad\u0131"}),(0,dg.jsxs)("div",{className:"text-xs text-gray-400",children:["Video ID: ",n.videoId.substring(0,8),"..."]})]})]}),!n.video&&n.videoId&&(0,dg.jsxs)("div",{className:"mt-3 flex items-center bg-dark-800 p-2 rounded",children:[(0,dg.jsx)(xw,{className:"h-5 w-5 text-yellow-500 mr-2"}),(0,dg.jsxs)("div",{className:"text-sm text-gray-400",children:["Video bulunamad\u0131 (ID: ",n.videoId.substring(0,8),"...)"]})]})]}),(0,dg.jsx)("div",{className:"ml-4 flex-shrink-0",children:(0,dg.jsx)("button",{onClick:()=>(async n=>{if(window.confirm("Bu yorumu silmek istedi\u011finizden emin misiniz?")){r(!0);try{await Pm(xf(cg,"comments",n)),t(e.filter((e=>e.id!==n))),u("Yorum ba\u015far\u0131yla silindi.")}catch(o){console.error("Yorum silinirken hata olu\u015ftu:",o),l("Yorum silinirken bir hata olu\u015ftu.")}finally{r(!1)}}})(n.id),className:"text-red-500 hover:text-red-400",title:"Yorumu Sil",children:(0,dg.jsx)(Ov,{className:"h-5 w-5"})})})]})},n.id)}))}):(0,dg.jsx)("div",{className:"bg-dark-700 rounded-lg p-8 text-center",children:(0,dg.jsx)("p",{className:"text-gray-400",children:s?"Arama kriterlerine uygun yorum bulunamad\u0131.":"Hen\xfcz hi\xe7 yorum bulunmamaktad\u0131r."})})]})},Dx=()=>{const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(!0),[s,a]=(0,i.useState)(""),[o,l]=(0,i.useState)(null),[c,u]=(0,i.useState)(""),[d,h]=(0,i.useState)(""),[f,m]=(0,i.useState)(""),[p,g]=(0,i.useState)("");(0,i.useEffect)((()=>{(async()=>{r(!0);try{const e=cm(wf(cg,"categories"),mm("name","asc")),n=(await Im(e)).docs.map((e=>({id:e.id,...e.data()})));t(n)}catch(f){console.error("Kategoriler getirilirken hata olu\u015ftu:",f),m("Kategoriler getirilirken bir hata olu\u015ftu.")}finally{r(!1)}})()}),[]);const y=()=>{l(null),u("")},v=e.filter((e=>{const t=d.toLowerCase();return e.name.toLowerCase().includes(t)}));return(0,dg.jsxs)("div",{children:[(0,dg.jsx)("h1",{className:"text-2xl font-bold text-white mb-6",children:"Kategori Y\xf6netimi"}),f&&(0,dg.jsx)("div",{className:"bg-red-500 bg-opacity-20 border border-red-500 text-red-500 px-4 py-3 rounded mb-4",children:f}),p&&(0,dg.jsx)("div",{className:"bg-green-500 bg-opacity-20 border border-green-500 text-green-500 px-4 py-3 rounded mb-4",children:p}),(0,dg.jsxs)("div",{className:"bg-dark-700 p-4 rounded-lg mb-6",children:[(0,dg.jsx)("h2",{className:"text-lg font-medium text-white mb-4",children:"Yeni Kategori Ekle"}),(0,dg.jsxs)("form",{onSubmit:async n=>{if(n.preventDefault(),!s.trim())return void m("Kategori ad\u0131 bo\u015f olamaz.");if(e.some((e=>e.name.toLowerCase()===s.toLowerCase())))m("Bu isimde bir kategori zaten mevcut.");else{r(!0);try{const n={name:s.trim(),slug:s.trim().toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,""),createdAt:Lm(),updatedAt:Lm()},r=await Rm(wf(cg,"categories"),n);t([...e,{id:r.id,...n}]),a(""),g("Kategori ba\u015far\u0131yla eklendi."),m("")}catch(f){console.error("Kategori eklenirken hata olu\u015ftu:",f),m("Kategori eklenirken bir hata olu\u015ftu.")}finally{r(!1)}}},className:"flex gap-2",children:[(0,dg.jsx)("input",{type:"text",placeholder:"Kategori ad\u0131",className:"flex-1 py-2 px-4 bg-dark-800 border border-dark-600 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 text-white",value:s,onChange:e=>a(e.target.value),disabled:n}),(0,dg.jsxs)("button",{type:"submit",className:"bg-primary-500 hover:bg-primary-600 text-white py-2 px-4 rounded-md flex items-center",disabled:n,children:[(0,dg.jsx)(Bw,{className:"h-5 w-5 mr-1"}),"Ekle"]})]})]}),(0,dg.jsx)("div",{className:"mb-6",children:(0,dg.jsxs)("div",{className:"relative",children:[(0,dg.jsx)("input",{type:"text",placeholder:"Kategori ara...",className:"w-full py-2 pl-10 pr-4 bg-dark-800 border border-dark-600 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 text-white",value:d,onChange:e=>h(e.target.value)}),(0,dg.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,dg.jsx)(Mw,{className:"h-5 w-5 text-gray-400"})})]})}),n&&0===e.length?(0,dg.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,dg.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"})}):v.length>0?(0,dg.jsx)("div",{className:"bg-dark-700 rounded-lg overflow-hidden",children:(0,dg.jsx)("div",{className:"overflow-x-auto",children:(0,dg.jsxs)("table",{className:"min-w-full divide-y divide-dark-600",children:[(0,dg.jsx)("thead",{className:"bg-dark-800",children:(0,dg.jsxs)("tr",{children:[(0,dg.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Kategori Ad\u0131"}),(0,dg.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Slug"}),(0,dg.jsx)("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"\u0130\u015flemler"})]})}),(0,dg.jsx)("tbody",{className:"bg-dark-700 divide-y divide-dark-600",children:v.map((n=>(0,dg.jsxs)("tr",{className:"hover:bg-dark-600",children:[(0,dg.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:o===n.id?(0,dg.jsx)("input",{type:"text",className:"w-full py-1 px-2 bg-dark-800 border border-dark-600 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 text-white",value:c,onChange:e=>u(e.target.value),autoFocus:!0}):(0,dg.jsx)("span",{className:"text-white",children:n.name})}),(0,dg.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-400",children:n.slug}),(0,dg.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:o===n.id?(0,dg.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,dg.jsx)("button",{onClick:()=>(async n=>{if(!c.trim())return void m("Kategori ad\u0131 bo\u015f olamaz.");if(e.some((e=>e.id!==n&&e.name.toLowerCase()===c.toLowerCase())))m("Bu isimde bir kategori zaten mevcut.");else{r(!0);try{const r=xf(cg,"categories",n),i={name:c.trim(),slug:c.trim().toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,""),updatedAt:Lm()};await Am(r,i),t(e.map((e=>e.id===n?{...e,...i}:e))),l(null),u(""),g("Kategori ba\u015far\u0131yla g\xfcncellendi."),m("")}catch(f){console.error("Kategori g\xfcncellenirken hata olu\u015ftu:",f),m("Kategori g\xfcncellenirken bir hata olu\u015ftu.")}finally{r(!1)}}})(n.id),className:"text-green-500 hover:text-green-400",title:"Kaydet",children:(0,dg.jsx)(qw,{className:"h-5 w-5"})}),(0,dg.jsx)("button",{onClick:y,className:"text-red-500 hover:text-red-400",title:"\u0130ptal",children:(0,dg.jsx)(Cw,{className:"h-5 w-5"})})]}):(0,dg.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,dg.jsx)("button",{onClick:()=>(e=>{l(e.id),u(e.name)})(n),className:"text-blue-500 hover:text-blue-400",title:"D\xfczenle",children:(0,dg.jsx)(Uw,{className:"h-5 w-5"})}),(0,dg.jsx)("button",{onClick:()=>(async n=>{if(window.confirm("Bu kategoriyi silmek istedi\u011finizden emin misiniz?")){r(!0);try{await Pm(xf(cg,"categories",n)),t(e.filter((e=>e.id!==n))),g("Kategori ba\u015far\u0131yla silindi."),m("")}catch(f){console.error("Kategori silinirken hata olu\u015ftu:",f),m("Kategori silinirken bir hata olu\u015ftu.")}finally{r(!1)}}})(n.id),className:"text-red-500 hover:text-red-400",title:"Sil",children:(0,dg.jsx)(Ov,{className:"h-5 w-5"})})]})})]},n.id)))})]})})}):(0,dg.jsx)("div",{className:"bg-dark-700 rounded-lg p-8 text-center",children:(0,dg.jsx)("p",{className:"text-gray-400",children:d?"Arama kriterlerine uygun kategori bulunamad\u0131.":"Hen\xfcz hi\xe7 kategori bulunmamaktad\u0131r."})})]})};function Ox(e,t){let{title:n,titleId:r,...s}=e;return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},s),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const Lx=i.forwardRef(Ox);function Mx(e,t){let{title:n,titleId:r,...s}=e;return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},s),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"}))}const Fx=i.forwardRef(Mx),Ux=()=>{const e=J(),[t,n]=(0,i.useState)([]),[r,s]=(0,i.useState)(!0),[a,o]=(0,i.useState)(""),[l,c]=(0,i.useState)(""),[u,d]=(0,i.useState)(1),[h,f]=(0,i.useState)(null),[m,p]=(0,i.useState)({title:"",companyName:"",link:"",position:"",adType:"",active:!0,imageUrl:""}),[g,y]=(0,i.useState)(null),[v,b]=(0,i.useState)("");(0,i.useEffect)((()=>{var t;null!==(t=e.state)&&void 0!==t&&t.success&&(c(e.state.success),window.history.replaceState({},document.title))}),[e]),(0,i.useEffect)((()=>{(async()=>{s(!0);try{const e=cm(wf(cg,"advertisements"),mm("createdAt","desc")),t=(await Im(e)).docs.map((e=>({id:e.id,...e.data()})));n(t)}catch(a){console.error("Error fetching advertisements:",a),o("An error occurred while fetching advertisements.")}finally{s(!1)}})()}),[]);const w=e=>{const t=e.target.files[0];if(t){y(t);const e=new FileReader;e.onloadend=()=>{b(e.result)},e.readAsDataURL(t)}},x=async e=>{if(e.preventDefault(),m.title.trim()&&m.companyName.trim()&&m.link.trim()){s(!0);try{let e=m.imageUrl;if(g){try{const e=sg(ug,m.imageUrl);await ig(e)}catch(a){console.error("Error deleting old image:",a)}const t=sg(ug,`advertisements/${Date.now()}_${g.name}`);await ng(t,g),e=await rg(t)}const r={title:m.title,companyName:m.companyName,link:m.link,position:m.position,adType:m.adType,active:m.active,imageUrl:e,updatedAt:new Date};await Am(xf(cg,"advertisements",h),r),n(t.map((e=>e.id===h?{...e,...r}:e))),f(null),y(null),b(""),c("Advertisement updated successfully.")}catch(a){console.error("Error updating advertisement:",a),o("An error occurred while updating the advertisement.")}finally{s(!1)}}else o("Please fill in all required fields.")},k=Math.ceil(t.length/10),_=10*u,N=_-10,E=t.slice(N,_);return(0,dg.jsxs)("div",{children:[(0,dg.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,dg.jsx)("h1",{className:"text-2xl font-bold text-white",children:"Advertisement Management"}),(0,dg.jsxs)(Ig,{to:"/admin/add-advertisement",className:"btn btn-primary flex items-center",children:[(0,dg.jsx)(Bw,{className:"h-5 w-5 mr-2"}),"Add New Advertisement"]})]}),a&&(0,dg.jsx)("div",{className:"bg-red-500 bg-opacity-20 border border-red-500 text-red-500 px-4 py-3 rounded mb-4",children:a}),l&&(0,dg.jsx)("div",{className:"bg-green-500 bg-opacity-20 border border-green-500 text-green-500 px-4 py-3 rounded mb-4",children:l}),r&&!h?(0,dg.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,dg.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"})}):t.length>0?(0,dg.jsxs)("div",{className:"bg-dark-700 rounded-lg overflow-hidden",children:[(0,dg.jsx)("div",{className:"overflow-x-auto",children:(0,dg.jsxs)("table",{className:"min-w-full divide-y divide-dark-600",children:[(0,dg.jsx)("thead",{className:"bg-dark-800",children:(0,dg.jsxs)("tr",{children:[(0,dg.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Thumbnail"}),(0,dg.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Company Name"}),(0,dg.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Video"}),(0,dg.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Image"}),(0,dg.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Gif"}),(0,dg.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Action"})]})}),(0,dg.jsx)("tbody",{className:"divide-y divide-dark-600",children:E.map((e=>(0,dg.jsx)("tr",{className:"hover:bg-dark-600",children:h===e.id?(0,dg.jsx)("td",{colSpan:"6",className:"px-6 py-4",children:(0,dg.jsxs)("form",{onSubmit:x,children:[(0,dg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[(0,dg.jsxs)("div",{children:[(0,dg.jsx)("label",{className:"block text-gray-400 mb-2",children:"Advertisement Title"}),(0,dg.jsx)("input",{type:"text",className:"input w-full",value:m.title,onChange:e=>p({...m,title:e.target.value}),required:!0})]}),(0,dg.jsxs)("div",{children:[(0,dg.jsx)("label",{className:"block text-gray-400 mb-2",children:"Company Name"}),(0,dg.jsx)("input",{type:"text",className:"input w-full",value:m.companyName,onChange:e=>p({...m,companyName:e.target.value}),required:!0})]}),(0,dg.jsxs)("div",{children:[(0,dg.jsx)("label",{className:"block text-gray-400 mb-2",children:"Advertisement Link"}),(0,dg.jsx)("input",{type:"url",className:"input w-full",value:m.link,onChange:e=>p({...m,link:e.target.value}),required:!0})]}),(0,dg.jsxs)("div",{children:[(0,dg.jsx)("label",{className:"block text-gray-400 mb-2",children:"Position"}),(0,dg.jsxs)("select",{className:"input w-full",value:m.position,onChange:e=>p({...m,position:e.target.value}),children:[(0,dg.jsx)("option",{value:"sidebar",children:"Sidebar"}),(0,dg.jsx)("option",{value:"header",children:"Header"}),(0,dg.jsx)("option",{value:"footer",children:"Footer"}),(0,dg.jsx)("option",{value:"video-before",children:"Before Video"}),(0,dg.jsx)("option",{value:"video-after",children:"After Video"})]})]}),(0,dg.jsxs)("div",{children:[(0,dg.jsx)("label",{className:"block text-gray-400 mb-2",children:"Advertisement Type"}),(0,dg.jsxs)("select",{className:"input w-full",value:m.adType,onChange:e=>p({...m,adType:e.target.value}),children:[(0,dg.jsx)("option",{value:"image",children:"Image"}),(0,dg.jsx)("option",{value:"video",children:"Video"}),(0,dg.jsx)("option",{value:"gif",children:"GIF"})]})]}),(0,dg.jsxs)("div",{children:[(0,dg.jsx)("label",{className:"block text-gray-400 mb-2",children:"Status"}),(0,dg.jsxs)("select",{className:"input w-full",value:m.active,onChange:e=>p({...m,active:"true"===e.target.value}),children:[(0,dg.jsx)("option",{value:"true",children:"Active"}),(0,dg.jsx)("option",{value:"false",children:"Inactive"})]})]})]}),(0,dg.jsxs)("div",{className:"mb-4",children:[(0,dg.jsx)("label",{className:"block text-gray-400 mb-2",children:"Advertisement Image"}),(0,dg.jsxs)("div",{className:"flex items-center",children:[(0,dg.jsxs)("label",{className:"cursor-pointer bg-dark-600 hover:bg-dark-500 text-white py-2 px-4 rounded flex items-center",children:[(0,dg.jsx)(Lx,{className:"h-5 w-5 mr-2"}),"Change Image",(0,dg.jsx)("input",{type:"file",className:"hidden",accept:"video"===m.adType?"video/*":"gif"===m.adType?"image/gif":"image/*",onChange:w})]}),(0,dg.jsx)("div",{className:"ml-4",children:(0,dg.jsx)("img",{src:v||m.imageUrl,alt:"Preview",className:"h-16 rounded"})})]})]}),(0,dg.jsxs)("div",{className:"flex space-x-2",children:[(0,dg.jsxs)("button",{type:"submit",className:"btn btn-primary flex items-center",disabled:r,children:[r?(0,dg.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-t-2 border-b-2 border-white mr-2"}):(0,dg.jsx)(Uw,{className:"h-5 w-5 mr-2"}),"Update"]}),(0,dg.jsxs)("button",{type:"button",className:"btn btn-secondary flex items-center",onClick:()=>f(null),children:[(0,dg.jsx)(Cw,{className:"h-5 w-5 mr-2"}),"Cancel"]})]})]})}):(0,dg.jsxs)(dg.Fragment,{children:[(0,dg.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,dg.jsx)("img",{src:e.imageUrl,alt:e.title,className:"h-12 w-16 object-cover rounded"})}),(0,dg.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,dg.jsx)("div",{className:"text-sm text-white",children:e.companyName||"N/A"}),(0,dg.jsx)("div",{className:"text-xs text-gray-400 flex items-center",children:(0,dg.jsxs)("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary-500 flex items-center",children:[e.link.substring(0,20),"...",(0,dg.jsx)(Fx,{className:"h-3 w-3 ml-1"})]})})]}),(0,dg.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:"video"===e.adType?(0,dg.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-500 bg-opacity-20 text-blue-500",children:"\u2713"}):(0,dg.jsx)("span",{className:"text-gray-500",children:"-"})}),(0,dg.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:"image"===e.adType?(0,dg.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-500 bg-opacity-20 text-green-500",children:"\u2713"}):(0,dg.jsx)("span",{className:"text-gray-500",children:"-"})}),(0,dg.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:"gif"===e.adType?(0,dg.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-purple-500 bg-opacity-20 text-purple-500",children:"\u2713"}):(0,dg.jsx)("span",{className:"text-gray-500",children:"-"})}),(0,dg.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-right",children:[(0,dg.jsx)("button",{onClick:()=>(e=>{f(e.id),p({title:e.title,companyName:e.companyName||"",link:e.link,position:e.position,adType:e.adType||"image",active:e.active,imageUrl:e.imageUrl}),b(""),y(null)})(e),className:"text-primary-500 hover:text-primary-400 mr-3",title:"Edit",children:(0,dg.jsx)(Uw,{className:"h-5 w-5"})}),(0,dg.jsx)("button",{onClick:()=>(async(e,r)=>{if(window.confirm("Are you sure you want to delete this advertisement?")){s(!0);try{await Pm(xf(cg,"advertisements",e));try{const e=sg(ug,r);await ig(e)}catch(a){console.error("Error deleting image:",a)}n(t.filter((t=>t.id!==e))),c("Advertisement deleted successfully.")}catch(a){console.error("Error deleting advertisement:",a),o("An error occurred while deleting the advertisement.")}finally{s(!1)}}})(e.id,e.imageUrl),className:"text-red-500 hover:text-red-400",title:"Delete",children:(0,dg.jsx)(Ov,{className:"h-5 w-5"})})]})]})},e.id)))})]})}),(0,dg.jsxs)("div",{className:"bg-dark-800 px-4 py-3 flex items-center justify-between border-t border-dark-600",children:[(0,dg.jsxs)("div",{className:"text-sm text-gray-400",children:["Showing ",N+1,"-",Math.min(_,t.length)," of ",t.length]}),(0,dg.jsxs)("div",{className:"flex space-x-2",children:[(0,dg.jsx)("button",{onClick:()=>{d((e=>Math.max(e-1,1)))},disabled:1===u,className:"px-3 py-1 rounded "+(1===u?"bg-dark-600 text-gray-500 cursor-not-allowed":"bg-dark-600 text-white hover:bg-dark-500"),children:"<"}),(0,dg.jsx)("button",{onClick:()=>{d((e=>Math.min(e+1,k)))},disabled:u===k,className:"px-3 py-1 rounded "+(u===k?"bg-dark-600 text-gray-500 cursor-not-allowed":"bg-dark-600 text-white hover:bg-dark-500"),children:">"})]})]})]}):(0,dg.jsx)("div",{className:"bg-dark-700 rounded-lg p-8 text-center",children:(0,dg.jsx)("p",{className:"text-gray-400",children:"No advertisements found. Create your first advertisement!"})})]})};function Vx(e,t){let{title:n,titleId:r,...s}=e;return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},s),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const zx=i.forwardRef(Vx),Bx=()=>{const e=ee(),[t,n]=(0,i.useState)(!1),[r,s]=(0,i.useState)(""),[a,o]=(0,i.useState)({title:"",companyName:"",link:"",position:"sidebar",adType:"image",active:!0}),[l,c]=(0,i.useState)(null),[u,d]=(0,i.useState)("");return(0,dg.jsxs)("div",{children:[(0,dg.jsxs)("div",{className:"flex items-center mb-6",children:[(0,dg.jsx)("button",{onClick:()=>e("/admin/advertisements"),className:"mr-4 text-gray-400 hover:text-white",children:(0,dg.jsx)(zx,{className:"h-5 w-5"})}),(0,dg.jsx)("h1",{className:"text-2xl font-bold text-white",children:"Create New Advertisement"})]}),r&&(0,dg.jsx)("div",{className:"bg-red-500 bg-opacity-20 border border-red-500 text-red-500 px-4 py-3 rounded mb-4",children:r}),(0,dg.jsx)("div",{className:"bg-dark-700 rounded-lg p-6",children:(0,dg.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),a.title.trim()&&a.companyName.trim()&&a.link.trim()&&l){n(!0);try{const t=sg(ug,`advertisements/${Date.now()}_${l.name}`);await ng(t,l);const n=await rg(t),r={...a,imageUrl:n,createdAt:new Date,updatedAt:new Date};await Rm(wf(cg,"advertisements"),r),e("/admin/advertisements",{state:{success:"Advertisement created successfully."}})}catch(r){console.error("Error creating advertisement:",r),s("An error occurred while creating the advertisement.")}finally{n(!1)}}else s("Please fill in all required fields and select an image.")},children:[(0,dg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,dg.jsxs)("div",{children:[(0,dg.jsx)("h2",{className:"text-xl font-semibold text-white mb-4",children:"Advertisement Details"}),(0,dg.jsxs)("div",{className:"space-y-4",children:[(0,dg.jsxs)("div",{children:[(0,dg.jsx)("label",{className:"block text-gray-400 mb-2",children:"Advertisement Title*"}),(0,dg.jsx)("input",{type:"text",className:"input w-full",value:a.title,onChange:e=>o({...a,title:e.target.value}),required:!0,placeholder:"Enter advertisement title"})]}),(0,dg.jsxs)("div",{children:[(0,dg.jsx)("label",{className:"block text-gray-400 mb-2",children:"Company Name*"}),(0,dg.jsx)("input",{type:"text",className:"input w-full",value:a.companyName,onChange:e=>o({...a,companyName:e.target.value}),required:!0,placeholder:"Enter company name"})]}),(0,dg.jsxs)("div",{children:[(0,dg.jsx)("label",{className:"block text-gray-400 mb-2",children:"Advertisement Link*"}),(0,dg.jsx)("input",{type:"url",className:"input w-full",value:a.link,onChange:e=>o({...a,link:e.target.value}),required:!0,placeholder:"https://example.com"})]})]})]}),(0,dg.jsxs)("div",{children:[(0,dg.jsx)("h2",{className:"text-xl font-semibold text-white mb-4",children:"Media & Settings"}),(0,dg.jsxs)("div",{className:"space-y-4",children:[(0,dg.jsxs)("div",{children:[(0,dg.jsx)("label",{className:"block text-gray-400 mb-2",children:"Advertisement Type"}),(0,dg.jsxs)("select",{className:"input w-full",value:a.adType,onChange:e=>o({...a,adType:e.target.value}),children:[(0,dg.jsx)("option",{value:"image",children:"Image"}),(0,dg.jsx)("option",{value:"video",children:"Video"}),(0,dg.jsx)("option",{value:"gif",children:"GIF"})]})]}),(0,dg.jsxs)("div",{children:[(0,dg.jsx)("label",{className:"block text-gray-400 mb-2",children:"Position"}),(0,dg.jsxs)("select",{className:"input w-full",value:a.position,onChange:e=>o({...a,position:e.target.value}),children:[(0,dg.jsx)("option",{value:"sidebar",children:"Sidebar"}),(0,dg.jsx)("option",{value:"header",children:"Header"}),(0,dg.jsx)("option",{value:"footer",children:"Footer"}),(0,dg.jsx)("option",{value:"video-before",children:"Before Video"}),(0,dg.jsx)("option",{value:"video-after",children:"After Video"})]})]}),(0,dg.jsxs)("div",{children:[(0,dg.jsx)("label",{className:"block text-gray-400 mb-2",children:"Status"}),(0,dg.jsxs)("select",{className:"input w-full",value:a.active,onChange:e=>o({...a,active:"true"===e.target.value}),children:[(0,dg.jsx)("option",{value:"true",children:"Active"}),(0,dg.jsx)("option",{value:"false",children:"Inactive"})]})]})]})]})]}),(0,dg.jsxs)("div",{className:"mb-6",children:[(0,dg.jsx)("label",{className:"block text-gray-400 mb-2",children:"Advertisement Media*"}),(0,dg.jsxs)("div",{className:"flex flex-col md:flex-row items-start md:items-center",children:[(0,dg.jsxs)("label",{className:"cursor-pointer bg-dark-600 hover:bg-dark-500 text-white py-2 px-4 rounded flex items-center mb-4 md:mb-0",children:[(0,dg.jsx)(Lx,{className:"h-5 w-5 mr-2"}),"video"===a.adType?"Select Video":"gif"===a.adType?"Select GIF":"Select Image",(0,dg.jsx)("input",{type:"file",className:"hidden",accept:"video"===a.adType?"video/*":"gif"===a.adType?"image/gif":"image/*",onChange:e=>{const t=e.target.files[0];if(t){c(t);const e=new FileReader;e.onloadend=()=>{d(e.result)},e.readAsDataURL(t)}},required:!0})]}),u&&(0,dg.jsx)("div",{className:"ml-0 md:ml-4 mt-4 md:mt-0",children:"video"===a.adType?(0,dg.jsx)("video",{src:u,className:"h-32 rounded",controls:!0}):(0,dg.jsx)("img",{src:u,alt:"Preview",className:"h-32 rounded"})})]}),(0,dg.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"image"===a.adType?"Recommended size: 800x600px, Max size: 2MB":"video"===a.adType?"Max duration: 30 seconds, Max size: 10MB":"Animated GIF, Max size: 5MB"})]}),(0,dg.jsxs)("div",{className:"flex justify-end",children:[(0,dg.jsx)("button",{type:"button",className:"btn btn-secondary mr-3",onClick:()=>e("/admin/advertisements"),children:"Cancel"}),(0,dg.jsxs)("button",{type:"submit",className:"btn btn-primary flex items-center",disabled:t,children:[t?(0,dg.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-t-2 border-b-2 border-white mr-2"}):(0,dg.jsx)(Bw,{className:"h-5 w-5 mr-2"}),"Create Advertisement"]})]})]})})]})};function $x(e,t){let{title:n,titleId:r,...s}=e;return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},s),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"}))}const qx=i.forwardRef($x),Wx=()=>{const{currentUser:e,logout:t,resetPassword:n}=fg(),[r,s]=(0,i.useState)(!0),[a,o]=(0,i.useState)(null),[l,c]=(0,i.useState)(!1),[u,d]=(0,i.useState)(""),[h,f]=(0,i.useState)(""),{register:m,handleSubmit:p,formState:{errors:g},setValue:y}=(ee(),bw());(0,i.useEffect)((()=>{(async()=>{s(!0);try{const t=await Cm(xf(cg,"admins",e.uid));t.exists()&&(o(t.data()),y("displayName",t.data().displayName||""))}catch(u){console.error("Admin verileri getirilirken hata olu\u015ftu:",u),d("Admin verileri getirilirken bir hata olu\u015ftu.")}finally{s(!1)}})()}),[e,y]);return r?(0,dg.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,dg.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"})}):(0,dg.jsxs)("div",{children:[(0,dg.jsx)("h1",{className:"text-2xl font-bold text-white mb-6",children:"Admin Profili"}),u&&(0,dg.jsx)("div",{className:"bg-red-500 bg-opacity-20 border border-red-500 text-red-500 px-4 py-3 rounded mb-4",children:u}),h&&(0,dg.jsx)("div",{className:"bg-green-500 bg-opacity-20 border border-green-500 text-green-500 px-4 py-3 rounded mb-4",children:h}),(0,dg.jsxs)("div",{className:"bg-dark-700 rounded-lg overflow-hidden p-6",children:[(0,dg.jsxs)("div",{className:"flex items-center mb-6",children:[(0,dg.jsx)(Rv,{className:"w-16 h-16 text-gray-400 mr-4"}),(0,dg.jsxs)("div",{children:[(0,dg.jsx)("h2",{className:"text-xl font-semibold text-white",children:(null===a||void 0===a?void 0:a.displayName)||"Admin"}),(0,dg.jsx)("p",{className:"text-gray-400",children:e.email}),(0,dg.jsx)("p",{className:"text-primary-500 text-sm mt-1",children:"admin"===(null===a||void 0===a?void 0:a.role)?"Tam Yetkili Admin":"Reklam Y\xf6neticisi"})]})]}),(0,dg.jsxs)("form",{onSubmit:p((async t=>{d(""),f("");try{await Am(xf(cg,"admins",e.uid),{displayName:t.displayName}),f("Profil ba\u015far\u0131yla g\xfcncellendi.")}catch(u){console.error("Profil g\xfcncellenirken hata olu\u015ftu:",u),d("Profil g\xfcncellenirken bir hata olu\u015ftu.")}})),children:[(0,dg.jsxs)("div",{className:"mb-4",children:[(0,dg.jsx)("label",{htmlFor:"displayName",className:"block text-gray-300 mb-2",children:"Admin Ad\u0131"}),(0,dg.jsx)("input",{id:"displayName",type:"text",className:"input",...m("displayName",{required:"Admin ad\u0131 gereklidir",minLength:{value:3,message:"Admin ad\u0131 en az 3 karakter olmal\u0131d\u0131r"}})}),g.displayName&&(0,dg.jsx)("p",{className:"text-red-500 text-sm mt-1",children:g.displayName.message})]}),(0,dg.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[(0,dg.jsx)("button",{type:"submit",className:"btn btn-primary mb-4 md:mb-0",children:"Profili G\xfcncelle"}),(0,dg.jsx)("div",{className:"flex flex-col md:flex-row space-y-4 md:space-y-0 md:space-x-4",children:(0,dg.jsxs)("button",{type:"button",onClick:async()=>{d(""),f(""),c(!1);try{await n(e.email),c(!0),f("\u015eifre s\u0131f\u0131rlama ba\u011flant\u0131s\u0131 e-posta adresinize g\xf6nderildi.")}catch(u){console.error("\u015eifre s\u0131f\u0131rlama e-postas\u0131 g\xf6nderilirken hata olu\u015ftu:",u),d("\u015eifre s\u0131f\u0131rlama e-postas\u0131 g\xf6nderilirken bir hata olu\u015ftu.")}},className:"flex items-center justify-center btn btn-dark",children:[(0,dg.jsx)(qx,{className:"w-5 h-5 mr-2"}),"\u015eifre S\u0131f\u0131rla"]})})]})]})]})]})},Hx=e=>{let{children:t}=e;const{currentUser:n,loading:r}=fg(),i=J();return r?(0,dg.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,dg.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"})}):n?t:(0,dg.jsx)(ge,{to:"/login",state:{from:i},replace:!0})},Kx=e=>{let{children:t}=e;const{currentUser:n,userRole:r,loading:i}=fg(),s=J();return i?(0,dg.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,dg.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"})}):!n||"admin"!==r&&"ad_admin"!==r?(0,dg.jsx)(ge,{to:"/admin/login",state:{from:s},replace:!0}):t};function Gx(e,t){let{title:n,titleId:r,...s}=e;return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},s),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const Qx=i.forwardRef(Gx);function Yx(e,t){let{title:n,titleId:r,...s}=e;return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},s),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}const Xx=i.forwardRef(Yx);function Jx(e,t){let{title:n,titleId:r,...s}=e;return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},s),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"}))}const Zx=i.forwardRef(Jx);function ek(e,t){let{title:n,titleId:r,...s}=e;return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},s),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const tk=i.forwardRef(ek);function nk(e,t){let{title:n,titleId:r,...s}=e;return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},s),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}const rk=i.forwardRef(nk);function ik(e,t){let{title:n,titleId:r,...s}=e;return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},s),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const sk=i.forwardRef(ik);function ak(e,t){let{title:n,titleId:r,...s}=e;return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},s),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const ok=i.forwardRef(ak);function lk(e,t){let{title:n,titleId:r,...s}=e;return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},s),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const ck=i.forwardRef(lk);function uk(e,t){let{title:n,titleId:r,...s}=e;return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},s),n?i.createElement("title",{id:r},n):null,i.createElement("path",{d:"M12 2.25a.75.75 0 0 1 .75.75v2.25a.75.75 0 0 1-1.5 0V3a.75.75 0 0 1 .75-.75ZM7.5 12a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM18.894 6.166a.75.75 0 0 0-1.06-1.06l-1.591 1.59a.75.75 0 1 0 1.06 1.061l1.591-1.59ZM21.75 12a.75.75 0 0 1-.75.75h-2.25a.75.75 0 0 1 0-1.5H21a.75.75 0 0 1 .75.75ZM17.834 18.894a.75.75 0 0 0 1.06-1.06l-1.59-1.591a.75.75 0 1 0-1.061 1.06l1.59 1.591ZM12 18a.75.75 0 0 1 .75.75V21a.75.75 0 0 1-1.5 0v-2.25A.75.75 0 0 1 12 18ZM7.758 17.303a.75.75 0 0 0-1.061-1.06l-1.591 1.59a.75.75 0 0 0 1.06 1.061l1.591-1.59ZM6 12a.75.75 0 0 1-.75.75H3a.75.75 0 0 1 0-1.5h2.25A.75.75 0 0 1 6 12ZM6.697 7.757a.75.75 0 0 0 1.06-1.06l-1.59-1.591a.75.75 0 0 0-1.061 1.06l1.59 1.591Z"}))}const dk=i.forwardRef(uk);function hk(e,t){let{title:n,titleId:r,...s}=e;return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},s),n?i.createElement("title",{id:r},n):null,i.createElement("path",{fillRule:"evenodd",d:"M9.528 1.718a.75.75 0 0 1 .162.819A8.97 8.97 0 0 0 9 6a9 9 0 0 0 9 9 8.97 8.97 0 0 0 3.463-.69.75.75 0 0 1 .981.98 10.503 10.503 0 0 1-9.694 6.46c-5.799 0-10.5-4.7-10.5-10.5 0-4.368 2.667-8.112 6.46-9.694a.75.75 0 0 1 .818.162Z",clipRule:"evenodd"}))}const fk=i.forwardRef(hk),mk=()=>{const[e,t]=(0,i.useState)(!0),{logout:n,userRole:r}=fg(),{darkMode:s,toggleDarkMode:a}=gg(),o=ee(),l=J();(0,i.useEffect)((()=>{window.innerWidth<1024&&t(!1)}),[l.pathname]),(0,i.useEffect)((()=>{const n=n=>{const r=document.getElementById("sidebar"),i=document.getElementById("sidebar-toggle");e&&window.innerWidth<1024&&r&&!r.contains(n.target)&&i&&!i.contains(n.target)&&t(!1)};return document.addEventListener("mousedown",n),()=>{document.removeEventListener("mousedown",n)}}),[e]),(0,i.useEffect)((()=>{const e=()=>{window.innerWidth<1024&&t(!1)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]);const c="admin"===r,u=[{name:"Dashboard",path:"/admin/dashboard",icon:Qx,access:!0},{name:"Users",path:"/admin/users",icon:Xx,access:c},{name:"Videos",path:"/admin/videos",icon:Px,access:c},{name:"Comments",path:"/admin/comments",icon:Zx,access:c},{name:"Advertisements",path:"/admin/advertisements",icon:tk,access:!0},{name:"Profile",path:"/admin/profile",icon:Rv,access:!0}];return(0,dg.jsxs)("div",{className:`flex h-screen ${s?"bg-[#0c1e4a]":"bg-gray-100"} overflow-hidden`,children:[e&&window.innerWidth<1024&&(0,dg.jsx)("div",{className:"fixed inset-0 z-40 bg-black bg-opacity-50 lg:hidden",onClick:()=>t(!1),"aria-hidden":"true"}),(0,dg.jsxs)("div",{id:"sidebar",className:`fixed inset-y-0 left-0 z-50 ${s?"bg-[#0c1e4a]":"bg-white"} transform transition-all duration-300 ease-in-out ${e?"translate-x-0 w-64 sm:w-72":"translate-x-0 w-0 lg:w-20"} lg:static lg:min-h-screen overflow-hidden`,children:[(0,dg.jsx)("div",{className:"h-1 bg-blue-500"}),(0,dg.jsxs)("div",{className:`flex items-center justify-between h-16 ${s?"bg-[#0c1e4a] border-[#1a2c5c]":"bg-white border-gray-200"} border-b px-4`,children:[e?(0,dg.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,dg.jsx)("div",{className:"w-8 h-8 rounded-md flex items-center justify-center overflow-hidden",children:(0,dg.jsx)("img",{src:"/images/guzel-removebg-preview.png",alt:"Prnclub Logo",className:"w-full h-full object-contain"})}),(0,dg.jsx)("h1",{className:`text-xl font-bold ${s?"text-white":"text-gray-800"} truncate`,children:"Prnclub"})]}):(0,dg.jsx)("div",{className:"w-8 h-8 rounded-md flex items-center justify-center mx-auto overflow-hidden",children:(0,dg.jsx)("img",{src:"/images/guzel-removebg-preview.png",alt:"Prnclub Logo",className:"w-full h-full object-contain"})}),(0,dg.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,dg.jsx)("button",{className:"p-1 rounded-md "+(s?"text-white hover:bg-[#132456]":"text-gray-700 hover:bg-gray-200"),onClick:a,children:s?(0,dg.jsx)(dk,{className:"h-5 w-5"}):(0,dg.jsx)(fk,{className:"h-5 w-5"})}),(0,dg.jsx)("button",{className:"p-1 rounded-md "+(s?"text-white hover:bg-[#132456]":"text-gray-700 hover:bg-gray-200"),onClick:()=>t(!e),children:e?(0,dg.jsx)(rk,{className:"h-5 w-5"}):(0,dg.jsx)(sk,{className:"h-5 w-5"})}),(0,dg.jsx)("button",{className:"lg:hidden p-1 rounded-md "+(s?"text-white hover:bg-[#132456]":"text-gray-700 hover:bg-gray-200"),onClick:()=>t(!1),children:(0,dg.jsx)(Cw,{className:"h-6 w-6"})})]})]}),(0,dg.jsx)("nav",{className:"mt-6 px-2 overflow-y-auto h-[calc(100vh-4rem)]",children:(0,dg.jsxs)("div",{className:"space-y-2",children:[u.map((t=>(0,dg.jsx)(jg,{to:t.path,className:e=>{let{isActive:n}=e;return`flex items-center px-4 py-3 text-sm font-medium rounded-md relative ${n?"text-white "+(s?"bg-[#132456]":"bg-blue-600"):""+(s?"text-gray-300 hover:bg-[#132456] hover:text-white":"text-gray-700 hover:bg-gray-200 hover:text-gray-900")} ${t.access?"":"opacity-50 cursor-not-allowed"}`},onClick:e=>!t.access&&e.preventDefault(),children:n=>{let{isActive:r}=n;return(0,dg.jsxs)(dg.Fragment,{children:[r&&(0,dg.jsx)("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-blue-500"}),(0,dg.jsx)(t.icon,{className:"w-5 h-5 mr-3 flex-shrink-0"}),e&&(0,dg.jsx)("span",{className:"truncate",children:t.name})]})}},t.name))),(0,dg.jsxs)("button",{onClick:async()=>{try{await n(),o("/admin/login")}catch(e){console.error("Error during logout:",e)}},className:"flex items-center w-full px-4 py-3 mt-8 text-sm font-medium rounded-md "+(s?"text-gray-300 hover:bg-[#132456] hover:text-white":"text-gray-700 hover:bg-gray-200 hover:text-gray-900"),children:[(0,dg.jsx)(ok,{className:"w-5 h-5 mr-3 flex-shrink-0"}),e&&(0,dg.jsx)("span",{className:"truncate",children:"Logout"})]})]})})]}),(0,dg.jsxs)("div",{className:"flex flex-col flex-1 w-full overflow-x-hidden",children:[(0,dg.jsxs)("header",{className:`sticky top-0 z-10 flex items-center justify-between h-16 ${s?"bg-[#0c1e4a] border-[#1a2c5c]":"bg-white border-gray-200"} border-b px-4`,children:[(0,dg.jsxs)("button",{id:"sidebar-toggle",onClick:()=>t(!e),className:(s?"text-gray-200":"text-gray-700")+" lg:hidden focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500 rounded-md",children:[(0,dg.jsx)("span",{className:"sr-only",children:"Men\xfcy\xfc A\xe7/Kapat"}),(0,dg.jsx)(ck,{className:"h-6 w-6"})]}),(0,dg.jsx)("div",{className:"w-6"})," "]}),(0,dg.jsx)("main",{className:"flex-1 p-4 sm:p-6 overflow-y-auto "+(s?"bg-[#0c1e4a]":"bg-gray-100"),children:(0,dg.jsx)(ye,{})})]})]})},pk=()=>{const[e,t]=(0,i.useState)(!1),[n,r]=(0,i.useState)(""),{currentUser:s,logout:a}=fg(),{darkMode:o,toggleDarkMode:l}=gg(),c=ee(),u=e=>{e.preventDefault(),n.trim()&&(c(`/?search=${encodeURIComponent(n)}`),r(""))},d=async()=>{try{await a(),c("/")}catch(e){console.error("\xc7\u0131k\u0131\u015f yap\u0131l\u0131rken hata olu\u015ftu:",e)}};return(0,dg.jsx)("header",{className:(o?"bg-dark-700":"bg-white")+" shadow-md",children:(0,dg.jsxs)("div",{className:"container mx-auto px-4 py-3",children:[(0,dg.jsxs)("div",{className:"flex items-center justify-between",children:[(0,dg.jsxs)(Ig,{to:"/",className:"flex items-center",children:[(0,dg.jsx)("span",{className:"text-2xl font-bold text-primary-500",children:"PRN"}),(0,dg.jsx)("span",{className:"text-2xl font-bold "+(o?"text-white":"text-gray-800"),children:"Club"})]}),(0,dg.jsx)("div",{className:"hidden md:flex flex-1 max-w-xl mx-4",children:(0,dg.jsx)("form",{onSubmit:u,className:"w-full",children:(0,dg.jsxs)("div",{className:"relative",children:[(0,dg.jsx)("input",{type:"text",placeholder:"Video ara...",className:`w-full py-2 pl-4 pr-10 ${o?"bg-dark-800 border-dark-600 text-white":"bg-gray-100 border-gray-300 text-gray-800"} border rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500`,value:n,onChange:e=>r(e.target.value)}),(0,dg.jsx)("button",{type:"submit",className:"absolute right-0 top-0 h-full px-3 "+(o?"text-gray-400 hover:text-white":"text-gray-500 hover:text-gray-800"),children:(0,dg.jsx)(Mw,{className:"w-5 h-5"})})]})})}),(0,dg.jsxs)("div",{className:"hidden md:flex items-center space-x-4",children:[(0,dg.jsx)("button",{onClick:l,className:"p-2 rounded-full "+(o?"text-gray-300 hover:text-white hover:bg-dark-600":"text-gray-600 hover:text-gray-800 hover:bg-gray-200"),children:o?(0,dg.jsx)(dk,{className:"w-5 h-5"}):(0,dg.jsx)(fk,{className:"w-5 h-5"})}),s?(0,dg.jsxs)(dg.Fragment,{children:[(0,dg.jsxs)("span",{className:o?"text-white":"text-gray-800",children:["Merhaba, ",s.displayName||"Kullan\u0131c\u0131"]}),(0,dg.jsx)(Ig,{to:"/profile",className:o?"text-gray-300 hover:text-white":"text-gray-600 hover:text-gray-800",children:(0,dg.jsx)(Rv,{className:"w-6 h-6"})}),(0,dg.jsx)("button",{onClick:d,className:o?"text-gray-300 hover:text-white":"text-gray-600 hover:text-gray-800",children:(0,dg.jsx)(ok,{className:"w-6 h-6"})})]}):(0,dg.jsxs)(dg.Fragment,{children:[(0,dg.jsx)(Ig,{to:"/login",className:"btn btn-primary",children:"Giri\u015f Yap"}),(0,dg.jsx)(Ig,{to:"/register",className:"btn "+(o?"btn-dark":"btn-light"),children:"Kay\u0131t Ol"})]})]}),(0,dg.jsxs)("div",{className:"md:hidden flex items-center space-x-2",children:[(0,dg.jsx)("button",{onClick:l,className:"p-2 rounded-full "+(o?"text-gray-300 hover:text-white":"text-gray-600 hover:text-gray-800"),children:o?(0,dg.jsx)(dk,{className:"w-5 h-5"}):(0,dg.jsx)(fk,{className:"w-5 h-5"})}),(0,dg.jsx)("button",{onClick:()=>t(!e),className:(o?"text-gray-300 hover:text-white":"text-gray-600 hover:text-gray-800")+" focus:outline-none",children:e?(0,dg.jsx)(Cw,{className:"w-6 h-6"}):(0,dg.jsx)(ck,{className:"w-6 h-6"})})]})]}),e&&(0,dg.jsxs)("div",{className:`md:hidden mt-4 ${o?"bg-dark-700":"bg-white"} rounded-md shadow-lg p-4`,children:[(0,dg.jsx)("form",{onSubmit:u,className:"mb-4",children:(0,dg.jsxs)("div",{className:"relative",children:[(0,dg.jsx)("input",{type:"text",placeholder:"Video ara...",className:`w-full py-2 pl-4 pr-10 ${o?"bg-dark-800 border-dark-600 text-white":"bg-gray-100 border-gray-300 text-gray-800"} border rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500`,value:n,onChange:e=>r(e.target.value)}),(0,dg.jsx)("button",{type:"submit",className:"absolute right-0 top-0 h-full px-3 "+(o?"text-gray-400 hover:text-white":"text-gray-500 hover:text-gray-800"),children:(0,dg.jsx)(Mw,{className:"w-5 h-5"})})]})}),(0,dg.jsx)("div",{className:"flex flex-col space-y-2",children:s?(0,dg.jsxs)(dg.Fragment,{children:[(0,dg.jsxs)("span",{className:o?"text-white":"text-gray-800",children:["Merhaba, ",s.displayName||"Kullan\u0131c\u0131"]}),(0,dg.jsxs)(Ig,{to:"/profile",className:"flex items-center py-2 px-4 rounded-md "+(o?"text-gray-300 hover:bg-dark-600":"text-gray-700 hover:bg-gray-200"),onClick:()=>t(!1),children:[(0,dg.jsx)(Rv,{className:"w-5 h-5 mr-2"}),"Profil"]}),(0,dg.jsxs)("button",{onClick:()=>{d(),t(!1)},className:"flex items-center py-2 px-4 rounded-md "+(o?"text-gray-300 hover:bg-dark-600":"text-gray-700 hover:bg-gray-200"),children:[(0,dg.jsx)(ok,{className:"w-5 h-5 mr-2"}),"\xc7\u0131k\u0131\u015f Yap"]})]}):(0,dg.jsxs)(dg.Fragment,{children:[(0,dg.jsx)(Ig,{to:"/login",className:"py-2 px-4 bg-primary-600 hover:bg-primary-700 text-white rounded-md",onClick:()=>t(!1),children:"Giri\u015f Yap"}),(0,dg.jsx)(Ig,{to:"/register",className:"py-2 px-4 rounded-md "+(o?"bg-dark-700 hover:bg-dark-600 text-white border border-dark-600":"bg-gray-200 hover:bg-gray-300 text-gray-800 border border-gray-300"),onClick:()=>t(!1),children:"Kay\u0131t Ol"})]})})]})]})})},gk=()=>{const e=(new Date).getFullYear(),{darkMode:t}=gg();return(0,dg.jsx)("footer",{className:(t?"bg-dark-900 border-dark-700":"bg-gray-100 border-gray-200")+" border-t py-8",children:(0,dg.jsxs)("div",{className:"container mx-auto px-4",children:[(0,dg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[(0,dg.jsxs)("div",{children:[(0,dg.jsxs)(Ig,{to:"/",className:"flex items-center",children:[(0,dg.jsx)("span",{className:"text-2xl font-bold text-primary-500",children:"PRN"}),(0,dg.jsx)("span",{className:"text-2xl font-bold "+(t?"text-white":"text-gray-800"),children:"Club"})]}),(0,dg.jsx)("p",{className:"mt-2 "+(t?"text-gray-400":"text-gray-600"),children:"En kaliteli video i\xe7eriklerini sunan platform."})]}),(0,dg.jsxs)("div",{children:[(0,dg.jsx)("h3",{className:`text-lg font-semibold ${t?"text-white":"text-gray-800"} mb-4`,children:"Kategoriler"}),(0,dg.jsxs)("ul",{className:"space-y-2",children:[(0,dg.jsx)("li",{children:(0,dg.jsx)(Ig,{to:"/?category=popular",className:""+(t?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-900"),children:"Pop\xfcler"})}),(0,dg.jsx)("li",{children:(0,dg.jsx)(Ig,{to:"/?category=trending",className:""+(t?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-900"),children:"Trend"})}),(0,dg.jsx)("li",{children:(0,dg.jsx)(Ig,{to:"/?category=newest",className:""+(t?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-900"),children:"En Yeni"})}),(0,dg.jsx)("li",{children:(0,dg.jsx)(Ig,{to:"/?category=top-rated",className:""+(t?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-900"),children:"En \xc7ok Be\u011fenilen"})})]})]}),(0,dg.jsxs)("div",{children:[(0,dg.jsx)("h3",{className:`text-lg font-semibold ${t?"text-white":"text-gray-800"} mb-4`,children:"Ba\u011flant\u0131lar"}),(0,dg.jsxs)("ul",{className:"space-y-2",children:[(0,dg.jsx)("li",{children:(0,dg.jsx)(Ig,{to:"/about",className:""+(t?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-900"),children:"Hakk\u0131m\u0131zda"})}),(0,dg.jsx)("li",{children:(0,dg.jsx)(Ig,{to:"/contact",className:""+(t?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-900"),children:"\u0130leti\u015fim"})}),(0,dg.jsx)("li",{children:(0,dg.jsx)(Ig,{to:"/faq",className:""+(t?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-900"),children:"SSS"})}),(0,dg.jsx)("li",{children:(0,dg.jsx)(Ig,{to:"/dmca",className:""+(t?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-900"),children:"DMCA"})})]})]}),(0,dg.jsxs)("div",{children:[(0,dg.jsx)("h3",{className:`text-lg font-semibold ${t?"text-white":"text-gray-800"} mb-4`,children:"Yasal"}),(0,dg.jsxs)("ul",{className:"space-y-2",children:[(0,dg.jsx)("li",{children:(0,dg.jsx)(Ig,{to:"/terms",className:""+(t?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-900"),children:"Kullan\u0131m \u015eartlar\u0131"})}),(0,dg.jsx)("li",{children:(0,dg.jsx)(Ig,{to:"/privacy",className:""+(t?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-900"),children:"Gizlilik Politikas\u0131"})}),(0,dg.jsx)("li",{children:(0,dg.jsx)(Ig,{to:"/cookies",className:""+(t?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-900"),children:"\xc7erez Politikas\u0131"})}),(0,dg.jsx)("li",{children:(0,dg.jsx)(Ig,{to:"/2257",className:""+(t?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-900"),children:"2257 Beyan\u0131"})})]})]})]}),(0,dg.jsxs)("div",{className:`mt-8 pt-6 ${t?"border-dark-700":"border-gray-200"} border-t text-center`,children:[(0,dg.jsxs)("p",{className:t?"text-gray-400":"text-gray-600",children:["\xa9 ",e," PRN Club. T\xfcm haklar\u0131 sakl\u0131d\u0131r."]}),(0,dg.jsx)("p",{className:"text-gray-500 text-sm mt-2",children:"Bu sitedeki t\xfcm videolar iframe kodlar\u0131 ile eklenmi\u015ftir ve \xfc\xe7\xfcnc\xfc taraf sitelerden al\u0131nmaktad\u0131r. Telif hakk\u0131 ihlali bildirimi i\xe7in l\xfctfen ileti\u015fime ge\xe7in."})]})]})})},yk=()=>{const{darkMode:e}=gg();return(0,dg.jsxs)("div",{className:"flex flex-col min-h-screen "+(e?"bg-dark-800":"bg-gray-100"),children:[(0,dg.jsx)(pk,{}),(0,dg.jsx)("main",{className:"flex-grow container mx-auto px-4 py-8 "+(e?"text-white":"text-gray-800"),children:(0,dg.jsx)(ye,{})}),(0,dg.jsx)(gk,{})]})};const vk=function(){return(0,dg.jsx)(mg,{children:(0,dg.jsx)(yg,{children:(0,dg.jsxs)(we,{children:[(0,dg.jsxs)(ve,{path:"/",element:(0,dg.jsx)(yk,{}),children:[(0,dg.jsx)(ve,{index:!0,element:(0,dg.jsx)(Iv,{})}),(0,dg.jsx)(ve,{path:"video/:id",element:(0,dg.jsx)(Zv,{})}),(0,dg.jsx)(ve,{path:"login",element:(0,dg.jsx)(Nw,{})}),(0,dg.jsx)(ve,{path:"register",element:(0,dg.jsx)(Ew,{})}),(0,dg.jsx)(ve,{path:"profile",element:(0,dg.jsx)(Hx,{children:(0,dg.jsx)(Tw,{})})})]}),(0,dg.jsx)(ve,{path:"/admin/login",element:(0,dg.jsx)(jw,{})}),(0,dg.jsxs)(ve,{path:"/admin",element:(0,dg.jsx)(Kx,{children:(0,dg.jsx)(mk,{})}),children:[(0,dg.jsx)(ve,{index:!0,element:(0,dg.jsx)(ge,{to:"/admin/dashboard",replace:!0})}),(0,dg.jsx)(ve,{path:"dashboard",element:(0,dg.jsx)(Rw,{})}),(0,dg.jsx)(ve,{path:"users",element:(0,dg.jsx)(Vw,{})}),(0,dg.jsx)(ve,{path:"videos",element:(0,dg.jsx)(jx,{})}),(0,dg.jsx)(ve,{path:"comments",element:(0,dg.jsx)(Rx,{})}),(0,dg.jsx)(ve,{path:"categories",element:(0,dg.jsx)(Dx,{})}),(0,dg.jsx)(ve,{path:"advertisements",element:(0,dg.jsx)(Ux,{})}),(0,dg.jsx)(ve,{path:"add-advertisement",element:(0,dg.jsx)(Bx,{})}),(0,dg.jsx)(ve,{path:"profile",element:(0,dg.jsx)(Wx,{})})]}),(0,dg.jsx)(ve,{path:"*",element:(0,dg.jsx)(Iw,{})})]})})})},bk=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:s,getTTFB:a}=t;n(e),r(e),i(e),s(e),a(e)}))};a.createRoot(document.getElementById("root")).render((0,dg.jsx)(i.StrictMode,{children:(0,dg.jsx)(Sg,{children:(0,dg.jsx)(vk,{})})})),bk()})();
//# sourceMappingURL=main.68f7dcf8.js.map